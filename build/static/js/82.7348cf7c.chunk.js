(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[82],{955:function(e,t,a){"use strict";a.r(t);var s={};a.r(s),a.d(s,"loadProperties",(function(){return y})),a.d(s,"loadContactProperties",(function(){return _})),a.d(s,"updateErrorToast",(function(){return N})),a.d(s,"closeErrorToast",(function(){return f})),a.d(s,"removeProperty",(function(){return g})),a.d(s,"updateNote",(function(){return b})),a.d(s,"updateSearch",(function(){return k}));var i=a(3),o=a(9),r=a(8),l=a(12),n=a(11),p=a(0),c=a.n(p),m=a(6),d=a(23),u=a(1),h=a(7),E=a(2),v=a(21);function y(e,t,a){"portfolio"===e&&(e="remaining");var s={};return t&&(s.filter=t),a&&(s.contact_id=a),function(t){t({type:u.LOADING_PROPERTIES}),Object(E.i)({url:"".concat(h.a.BASE_URL,"my-portfolio/").concat(e),applyAuthHeader:!0,data:s,success:function(e){switch(e.status){case"204":t({type:u.NO_PROPERTIES,message:e.message});break;case"E403":t(Object(v.tokenExpired)());break;default:e.data&&e.data.count>0?t({type:u.LOAD_PROPERTIES_SUCCESS,data:e.data,count:e.data.count}):t({type:u.NO_PROPERTIES,message:e.message})}}})}}function _(e){return function(t){t({type:u.LOADING_PROPERTIES}),Object(E.i)({url:"".concat(h.a.BASE_URL,"my-portfolio"),applyAuthHeader:!0,data:{contact_id:e},success:function(e){switch(e.status){case"204":t({type:u.NO_PROPERTIES,message:e.message});break;case"E403":t(Object(v.tokenExpired)());break;default:e.data.count>0?t({type:u.LOAD_PROPERTIES_SUCCESS,data:e.data,count:e.data.count}):t({type:u.NO_PROPERTIES,message:e.message})}}})}}function N(e){return{type:u.UPDATE_ERROR_TOAST,message:e}}function f(){return{type:u.CLOSE_ERROR_TOAST}}function g(e,t,a){return function(s){Object(E.i)({url:"".concat(h.a.BASE_URL,"remove-property"),applyAuthHeader:!0,type:"POST",data:{removal_type:e,removal_id:t,current_owner:a},success:function(a){"E408"===a.status||"E107"===a.status?s({type:u.REMOVE_PROPERTY_FAILED,message:a.message}):"E403"===a.status?s(Object(v.tokenExpired)()):"206"===a.status&&s({type:u.REMOVE_PROPERTY_SUCCESS,removal_type:e,removal_id:t})}})}}function b(e,t,a){return function(s){Object(E.i)({url:"".concat(h.a.BASE_URL,"update-portfolio-notes"),applyAuthHeader:!0,type:"POST",data:{removal_id:e,removal_type:t,notes:a},success:function(i){switch(i.status){case"E408":case"E107":s({type:u.UPDATE_PROPERTY_NOTE_FAILED,message:i.message});break;case"E403":s(Object(v.tokenExpired)());break;default:s({type:u.UPDATE_PROPERTY_NOTE_SUCCESS,removal_id:e,removal_type:t,notes:a})}}})}}function k(e){return{type:u.UPDATE_PROPERTY_SEARCH,searchValue:e}}var w=a(50),C=a(164),P=a(72),S=a.n(P),O=a(26),A=a.n(O),q=a(87),j=a.n(q),T=a(210),R=a.n(T),M=a(39),D=a.n(M),I=a(80),V=window.google,F=function(e){Object(l.a)(a,e);var t=Object(n.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"dealClick",value:function(e){var t=this.props.item,a=t.deal_id,s=t.total_violations,i=t.is_equity,o=t.deal_name,r=t.deal_status,l=Object(E.u)(E.a,r);this.props.dealClick(l.toLowerCase(),a,s,i,o,e||(i?"fund-quotes":r===E.a.PW?"bank-quotes":"property-details"))}},{key:"compsClick",value:function(){window.location.pathname.includes("contact")?this.dealClick():this.props.compsClick(this.props.item.inNYC,this.props.item.property_address,this.props.item.city_state_zip,this.props.item.property_type_id)}},{key:"openStreetView",value:function(e,t,a,s){var i=this;(new V.maps.StreetViewService).getPanorama({location:{lat:parseFloat(e),lng:parseFloat(t)},radius:50},(function(o,r){"OK"===r?(i.props.setPageAndScrollPos(window.location.pathname,window.scrollY),E.f.go("/comp-sv?".concat(Object(I.a)({latitude:e,longitude:t,address:a+" "+s})))):i.props.updateErrorToast("No street view available for this deal")}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"active-deals-ip"},c.a.createElement("div",{className:"panel mui-panel "},c.a.createElement("div",null,c.a.createElement(A.a,{className:"panel-heading"},c.a.createElement(j.a,{md:"10",sm:"10",xs:"9",onClick:function(){return e.dealClick()}},c.a.createElement("div",null,c.a.createElement("p",{className:"panel-info-value property-title"},c.a.createElement("b",null,this.props.item.deal_name?this.props.item.deal_name:" - "),c.a.createElement("span",{className:this.props.item.deal_id?"deal-tag primary-tag":"hidden"},this.props.item.is_equity?"Equity":"Debt"),c.a.createElement("span",{className:"deal-tag",style:{background:this.props.item.tag_color}},this.props.item.new_tag)))),c.a.createElement(j.a,{md:"2",sm:"2",xs:"3"},c.a.createElement("i",{className:"linked"===this.props.type||window.location.pathname.includes("contact")?"hidden":"material-icons deal-delete",onClick:function(){e.props.removeProperty(e.props.item.removal_type,e.props.item.removal_id)}},"delete"),c.a.createElement("img",{src:"/images/icons/street-view-square.png",className:"street-view-square",alt:"sv-square",onClick:function(){e.openStreetView(e.props.item.latitude,e.props.item.longitude,e.props.item.property_address,e.props.item.city_state_zip)}}))),c.a.createElement(A.a,{onClick:function(){return e.dealClick()}},c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Address"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.property_address?this.props.item.property_address:""),c.a.createElement("p",{className:"panel-info-value"},this.props.item.city_state_zip?this.props.item.city_state_zip:"N/A")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Property Type"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.property_type?this.props.item.property_type:" - ")),this.props.item.is_equity?c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Fund Names"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.funds.length>0?this.props.item.funds.join(", "):" - ")):"",c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},this.props.item.is_equity?"Requested Equity Amount":"Loan Amount"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.loan_amount?this.props.item.loan_amount:" - ")),this.props.item.is_equity?"":c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Main Broker"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.broker_of_record?this.props.item.broker_of_record:" - "))),JSON.parse(localStorage.getItem("data")).is_client&&!window.location.pathname.includes("contact")?c.a.createElement(A.a,{className:"linked"===this.props.type?"hidden":"note-container"},c.a.createElement(j.a,{md:"10"},c.a.createElement("p",{className:"small-title deal-info-title"},"Note"),c.a.createElement("div",null,this.props.item.notes?c.a.createElement("div",{onClick:function(){return e.props.openEditNoteModal(e.props.item.removal_id,e.props.item.removal_type,e.props.item.property_id,e.props.item.notes)}},c.a.createElement("p",{className:"note"},this.props.item.notes,"\xa0",c.a.createElement("img",{src:"/images/pencil.png",id:"pencil",alt:"pencil"})),c.a.createElement("p",{className:"last-update"},c.a.createElement("i",null,"last updated on"," ",D()(new Date(this.props.item.notes_edited_on)).format("l")))):c.a.createElement("div",{onClick:function(){return e.props.openAddNoteModal(e.props.item.removal_id,e.props.item.removal_type,e.props.item.property_id)},className:"add-note"},c.a.createElement("em",null,"Add Note \xa0"),c.a.createElement("i",{className:"material-icons"},"add"))))):"",c.a.createElement(R.a,null)),c.a.createElement(A.a,null,c.a.createElement(j.a,{md:"12"},c.a.createElement(A.a,{className:"comps-row"},c.a.createElement("div",{onClick:this.compsClick.bind(this)},c.a.createElement("div",{className:null!==this.props.item.total_violations?"border-right":""},c.a.createElement("p",{className:"violation-value comps"},Object(E.q)(this.props.item.TotalComps),c.a.createElement("span",null,"Comps")))),c.a.createElement("div",{className:"comps-row-violations",onClick:function(){return e.dealClick("violations")}},null!==this.props.item.total_violations?c.a.createElement("div",null,c.a.createElement("p",{className:"violation-value"},this.props.item.total_violations,c.a.createElement("span",null,"Violations"))):"",null!==this.props.item.total_complaints?c.a.createElement("div",null,c.a.createElement("p",{className:"violation-value"},this.props.item.total_complaints,c.a.createElement("span",null,"Complaints"))):""))))))}}]),a}(c.a.Component),x=window.google,L=function(e){Object(l.a)(a,e);var t=Object(n.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"compsClick",value:function(){window.location.pathname.includes("contact")?this.props.dealClick("ip",this.props.item.deal_id,this.props.item.total_violations,this.props.item.is_equity,this.props.item.deal_name,"status-summary"):this.props.compsClick(this.props.item.inNYC,this.props.item.property_address,this.props.item.city_state_zip,this.props.item.property_type_id)}},{key:"openStreetView",value:function(e,t,a,s){var i=this;(new x.maps.StreetViewService).getPanorama({location:{lat:parseFloat(e),lng:parseFloat(t)},radius:50},(function(o,r){"OK"===r?(i.props.setPageAndScrollPos(window.location.pathname,window.scrollY),E.f.go("/comp-sv?".concat(Object(I.a)({latitude:e,longitude:t,address:a+" "+s})))):i.props.updateErrorToast("No street view available for this deal")}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"active-deals-pw",ref:"deal"},c.a.createElement("div",{className:"panel mui-panel"},c.a.createElement("div",null,c.a.createElement(A.a,{className:"panel-heading"},c.a.createElement(j.a,{md:"10",sm:"10",xs:"9",onClick:function(){e.props.dealClick("ip",e.props.item.deal_id,e.props.item.total_violations,e.props.item.is_equity,e.props.item.deal_name,"status-summary")}},c.a.createElement("div",null,c.a.createElement("p",{className:"panel-info-value property-title"},c.a.createElement("b",null,this.props.item.deal_name?this.props.item.deal_name:" - "),c.a.createElement("span",{className:this.props.item.deal_id?"deal-tag primary-tag":"hidden"},this.props.item.is_equity?"Equity":"Debt"),c.a.createElement("span",{className:"deal-tag",style:{background:this.props.item.tag_color}},this.props.item.new_tag)))),c.a.createElement(j.a,{md:"2",sm:"2",xs:"3"},c.a.createElement("i",{className:"linked"===this.props.type||window.location.pathname.includes("contact")?"hidden":"material-icons deal-delete",onClick:function(){e.props.removeProperty(e.props.item.removal_type,e.props.item.removal_id)}},"delete"),c.a.createElement("img",{src:"/images/icons/street-view-square.png",className:"street-view-square",alt:"sv-square",onClick:function(){e.openStreetView(e.props.item.latitude,e.props.item.longitude,e.props.item.property_address,e.props.item.city_state_zip)}}))),c.a.createElement(A.a,{onClick:function(){return e.props.dealClick("ip",e.props.item.deal_id,e.props.item.total_violations,e.props.item.is_equity,e.props.item.deal_name,"status-summary")}},c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Address"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.property_address?this.props.item.property_address:""),c.a.createElement("p",{className:"panel-info-value"},this.props.item.city_state_zip?this.props.item.city_state_zip:"")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Expected Closing Date"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.expected_closing_date?this.props.item.expected_closing_date:" - ")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Property Type"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.property_type?this.props.item.property_type:" - ")),this.props.item.is_equity?c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Fund Names"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.funds.length>0?this.props.item.funds.join(", "):" - ")):"",this.props.item.is_equity?c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Requested Equity Amount"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.loan_amount?this.props.item.loan_amount:" - ")):"",this.props.item.is_equity?"":c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Main broker"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.broker_of_record?this.props.item.broker_of_record:" - ")),this.props.item.is_equity?"":c.a.createElement(j.a,{md:"12"},c.a.createElement("h3",{className:"quote-section orange-text"},"Loan Details"),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Bank"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.bank_name?this.props.item.bank_name:" - ")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Rate"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.rate?this.props.item.rate:" - ")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Loan amount"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.loan_amount?this.props.item.loan_amount:" - ")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Annual payment"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.yearly_amount?this.props.item.yearly_amount:" - ")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Term / Amortization"),c.a.createElement("p",{className:"panel-info-value"},"".concat(this.props.item.term?this.props.item.term:"  -  "," / ").concat(this.props.item.amortization?this.props.item.amortization:"  -  "))))),JSON.parse(localStorage.getItem("data")).is_client&&!window.location.pathname.includes("contact")?c.a.createElement(A.a,{className:"linked"===this.props.type?"hidden":"note-container"},c.a.createElement(j.a,{md:"10"},c.a.createElement("p",{className:"small-title deal-info-title"},"Note"),c.a.createElement("div",null,this.props.item.notes?c.a.createElement("div",{onClick:function(){return e.props.openEditNoteModal(e.props.item.removal_id,e.props.item.removal_type,e.props.item.property_id,e.props.item.notes)}},c.a.createElement("p",{className:"note padding-left-note"},this.props.item.notes,"\xa0",c.a.createElement("img",{src:"/images/pencil.png",id:"pencil",alt:"pencil"})),c.a.createElement("p",{className:"last-update"},c.a.createElement("i",null,"last updated on"," ",D()(new Date(this.props.item.notes_edited_on)).format("l")))):c.a.createElement("div",{onClick:function(){return e.props.openAddNoteModal(e.props.item.removal_id,e.props.item.removal_type,e.props.item.property_id)},className:"add-note"},c.a.createElement("em",null,"Add Note \xa0"),c.a.createElement("i",{className:"material-icons"},"add"))))):"",c.a.createElement(R.a,null)),c.a.createElement(A.a,null,c.a.createElement(j.a,{md:"12"},c.a.createElement(A.a,{className:"comps-row"},c.a.createElement("div",{onClick:this.compsClick.bind(this)},c.a.createElement("div",{className:null!==this.props.item.total_violations?"border-right":""},c.a.createElement("p",{className:"violation-value comps"},Object(E.q)(this.props.item.TotalComps),c.a.createElement("span",null,"Comps")))),c.a.createElement("div",{className:"comps-row-violations",onClick:function(){return e.props.dealClick("pw",e.props.item.deal_id,e.props.item.total_violations,e.props.item.is_equity,e.props.item.deal_name,"violations")}},null!==this.props.item.total_violations?c.a.createElement("div",null,c.a.createElement("p",{className:"violation-value"},this.props.item.total_violations,c.a.createElement("span",null,"Violations"))):"",null!==this.props.item.total_complaints?c.a.createElement("div",null,c.a.createElement("p",{className:"violation-value"},this.props.item.total_complaints,c.a.createElement("span",null,"Complaints"))):""))))))}}]),a}(c.a.Component),Y=window.google,U=function(e){Object(l.a)(a,e);var t=Object(n.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"dealClick",value:function(e,t,a,s){if(window.location.pathname.includes("contact"))this.props.updateErrorToast("No deal details or violations available for this deal");else{this.props.setPageAndScrollPos(window.location.pathname,window.scrollY);var i=Object(I.a)({property_id:t,violations:a,isEquity:s,previous_page:encodeURIComponent(window.location.pathname)+window.location.search});a&&a>=0?E.f.go("/properties/rp/".concat(e,"/violations?").concat(i)):E.f.go("/properties/rp/".concat(this.props.item.deal_id,"/property-details?").concat(i))}}},{key:"compsClick",value:function(){sessionStorage.setItem("comps_inNYC",this.props.item.inNYC),this.props.setPageAndScrollPos(window.location.pathname,window.scrollY),this.props.submitCompsSearch("".concat(this.props.item.property_address||""," ").concat(this.props.item.property_city||""," ").concat(this.props.item.property_state||""," ").concat(this.props.item.property_zip||""),"".concat(this.props.item.property_type_id))}},{key:"openStreetView",value:function(e,t,a,s,i,o){var r=this;(new Y.maps.StreetViewService).getPanorama({location:{lat:parseFloat(e),lng:parseFloat(t)},radius:50},(function(l,n){"OK"===n?(r.props.setPageAndScrollPos(window.location.pathname,window.scrollY),E.f.go("/comp-sv?".concat(Object(I.a)({latitude:e,longitude:t,address:a+" "+s+" "+i+" "+o})))):r.props.updateErrorToast("No street view available for this property")}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"remaining-portfolio"},c.a.createElement("div",{className:"panel mui-panel"},c.a.createElement("div",{className:"panel-heading"},c.a.createElement(j.a,{md:"10",sm:"10",xs:"9",onClick:function(){e.dealClick(e.props.item.deal_id,e.props.item.property_id,e.props.item.total_violations,e.props.item.is_equity)}},c.a.createElement("p",{className:"panel-info-value property-title"},c.a.createElement("b",null,this.props.item.property_address?this.props.item.property_address:""," ",this.props.item.property_address?" - ":"",this.props.item.property_city,","," ",this.props.item.property_state," ",this.props.item.property_zip),c.a.createElement("span",{className:this.props.item.deal_id?"deal-tag primary-tag":"hidden"},this.props.item.is_equity?"Equity":"Debt"),c.a.createElement("span",{className:"deal-tag",style:{background:this.props.item.tag_color}},this.props.item.new_tag))),c.a.createElement(j.a,{md:"2",sm:"2",xs:"3"},c.a.createElement("i",{className:"linked"===this.props.type||window.location.pathname.includes("contact")?"hidden":"material-icons deal-delete",onClick:function(){e.props.removeProperty(e.props.item.removal_type,e.props.item.removal_id)}},"delete"),c.a.createElement("img",{src:"/images/icons/street-view-square.png",className:"street-view-square",alt:"street-view-square",onClick:function(){e.openStreetView(e.props.item.latitude,e.props.item.longitude,e.props.item.property_address,e.props.item.property_city,e.props.item.property_state,e.props.item.property_zip)}}))),c.a.createElement(j.a,{md:"12",onClick:function(){return e.dealClick(e.props.item.deal_id,e.props.item.property_id,e.props.item.total_violations,e.props.item.is_equity)}},this.props.item.is_equity?c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Address"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.property_address?this.props.item.property_address:""),c.a.createElement("p",{className:"panel-info-value"},this.props.item.city_state_zip?this.props.item.city_state_zip:"")):"",this.props.item.is_equity?c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Closed Date"),c.a.createElement("p",{className:"panel-info-value"},D()(this.props.item.activity_date).isValid()?D()(this.props.item.activity_date).format("MM/DD/YYYY"):" - ")):"",c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Property Type"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.property_type?this.props.item.property_type:" - ")),this.props.item.is_equity?c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title"},"Fund Names"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.funds.length>0?this.props.item.funds.join(", "):" - ")):"",this.props.item.is_equity?c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Requested Equity Amount"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.loan_amount?this.props.item.loan_amount:" - ")):"",this.props.item.is_equity?"":c.a.createElement("div",null,c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Bank"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.bank_name?this.props.item.bank_name:" - ")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Rate"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.rate?this.props.item.rate:" - ")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Current balance"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.current_balance?this.props.item.current_balance:" - ")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Prepayment penalty"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.prepayment_penalty?this.props.item.prepayment_penalty:" - ")),c.a.createElement(j.a,{md:"2"},c.a.createElement("p",{className:"small-title deal-info-title"},"Next reduction date"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.next_reduction?this.props.item.next_reduction:" - ")))),JSON.parse(localStorage.getItem("data")).is_client&&!window.location.pathname.includes("contact")?c.a.createElement(A.a,{className:"linked"===this.props.type?"hidden":"note-container"},c.a.createElement(j.a,{md:"10"},c.a.createElement("p",{className:"small-title deal-info-title"},"Note"),c.a.createElement("div",null,this.props.item.notes?c.a.createElement("div",{onClick:function(){return e.props.openEditNoteModal(e.props.item.removal_id,e.props.item.removal_type,e.props.item.property_id,e.props.item.notes)}},c.a.createElement("p",{className:"note"},this.props.item.notes,"\xa0",c.a.createElement("img",{src:"/images/pencil.png",id:"pencil",alt:"pencil"})),c.a.createElement("p",{className:"last-update"},c.a.createElement("i",null,"last updated on"," ",D()(new Date(this.props.item.notes_edited_on)).format("l")))):c.a.createElement("div",{onClick:function(){return e.props.openAddNoteModal(e.props.item.removal_id,e.props.item.removal_type,e.props.item.property_id)},className:"add-note"},c.a.createElement("em",null,"Add Note \xa0"),c.a.createElement("i",{className:"material-icons"},"add"))))):"",c.a.createElement(A.a,{className:"clear"},c.a.createElement(R.a,null),c.a.createElement("div",{className:"comps-row"},c.a.createElement("div",{onClick:function(){e.compsClick()}},c.a.createElement("div",{className:null!==this.props.item.total_violations?"border-right":""},c.a.createElement("p",{className:"violation-value comps"},Object(E.q)(this.props.item.TotalComps),c.a.createElement("span",null,"Comps")))),c.a.createElement("div",{className:"comps-row-violations",onClick:function(){e.dealClick(e.props.item.deal_id,e.props.item.property_id,e.props.item.total_violations,e.props.item.is_equity)}},null!==this.props.item.total_violations?c.a.createElement("div",null,c.a.createElement("p",{className:"violation-value"},this.props.item.total_violations,c.a.createElement("span",null,"Violations"))):"",null!==this.props.item.total_complaints?c.a.createElement("div",null,c.a.createElement("p",{className:"violation-value"},this.props.item.total_complaints,c.a.createElement("span",null,"Complaints"))):"")))))}}]),a}(c.a.Component),z=window.google,B=function(e){Object(l.a)(a,e);var t=Object(n.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"openStreetView",value:function(e,t,a,s,i){var o=this;(new z.maps.StreetViewService).getPanorama({location:{lat:parseFloat(e),lng:parseFloat(t)},radius:50},(function(r,l){"OK"===l?(o.props.setPageAndScrollPos(window.location.pathname,window.scrollY),E.f.go("/comp-sv?".concat(Object(I.a)({latitude:e,longitude:t,address:a+" "+s+" "+i})))):o.props.updateErrorToast("No street view available for this property")}))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{ref:"deal"},c.a.createElement("div",{className:"panel mui-panel reonomy-panel"},c.a.createElement(A.a,null,c.a.createElement(j.a,{md:"12"},c.a.createElement(A.a,{className:"panel-heading"},c.a.createElement(j.a,{md:"10",sm:"10",xs:"10"},c.a.createElement("p",{className:"panel-info-value property-title"},this.props.item.address?this.props.item.address:""),c.a.createElement("p",{className:"panel-city-state"},c.a.createElement("span",{className:"bulletpoint"},"\u2022"),this.props.item.city?this.props.item.city:"",this.props.item.city&&this.props.item.property_state?", ":"",this.props.item.property_state?this.props.item.property_state:"")),c.a.createElement(j.a,{md:"2",sm:"2",xs:"2"},c.a.createElement("i",{className:"linked"===this.props.type||window.location.pathname.includes("contact")?"hidden":"material-icons deal-delete",onClick:function(){e.props.removeProperty(e.props.item.removal_type,e.props.item.removal_id)}},"delete"),c.a.createElement("img",{src:"/images/icons/street-view-square.png",className:"street-view-square",alt:"sv-square",onClick:function(){e.openStreetView(e.props.item.latitude,e.props.item.longitude,e.props.item.address,e.props.item.city,e.props.item.property_state)}}))))),c.a.createElement(A.a,null,c.a.createElement(j.a,{md:"12"},c.a.createElement(A.a,null,c.a.createElement(j.a,{md:"3",sm:"6"},c.a.createElement("p",{className:"small-title"},"Property Type"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.property_type?this.props.item.property_type:" - ")),c.a.createElement(j.a,{md:"3",sm:"6"},c.a.createElement("p",{className:"small-title"},"Mortgage Lender"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.mortgage_lender_names?this.props.item.mortgage_lender_names:" - ")),c.a.createElement(j.a,{md:"3",sm:"6"},c.a.createElement("p",{className:"small-title"},"Mortgage Date"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.mortgage_date?this.props.item.mortgage_date:" - ")),c.a.createElement(j.a,{md:"3",sm:"6"},c.a.createElement("p",{className:"small-title"},"Mortgage Amount"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.mortgage_amount?this.props.item.mortgage_amount:" - "))),c.a.createElement(A.a,null,c.a.createElement(j.a,{md:"3",sm:"6"},c.a.createElement("p",{className:"small-title"},"Units"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.units?this.props.item.units:" - ")),c.a.createElement(j.a,{md:"3",sm:"6"},c.a.createElement("p",{className:"small-title"},"Sq Ft"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.sq_ft?this.props.item.sq_ft:" - ")),c.a.createElement(j.a,{md:"3",sm:"6"},c.a.createElement("p",{className:"small-title"},"Last Sale Date"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.most_recent_sale_date?this.props.item.most_recent_sale_date:" - ")),c.a.createElement(j.a,{md:"3",sm:"6"},c.a.createElement("p",{className:"small-title"},"Last Sale Price"),c.a.createElement("p",{className:"panel-info-value"},this.props.item.most_recent_sale_price?this.props.item.most_recent_sale_price:" - "))),JSON.parse(localStorage.getItem("data")).is_client&&!window.location.pathname.includes("contact")?c.a.createElement(A.a,{className:"linked"===this.props.type?"hidden":"note-container"},c.a.createElement(j.a,{md:"10"},c.a.createElement("p",{className:"small-title deal-info-title"},"Note"),c.a.createElement("div",null,this.props.item.notes?c.a.createElement("div",{onClick:function(){return e.props.openEditNoteModal(e.props.item.removal_id,e.props.item.removal_type,e.props.item.property_id,e.props.item.notes)}},c.a.createElement("p",{className:"note"},this.props.item.notes,"\xa0",c.a.createElement("img",{src:"/images/pencil.png",id:"pencil",alt:"pencil"})),c.a.createElement("p",{className:"last-update"},c.a.createElement("i",null,"last updated on"," ",D()(new Date(this.props.item.notes_edited_on)).format("l")))):c.a.createElement("div",{onClick:function(){return e.props.openAddNoteModal(e.props.item.removal_id,e.props.item.removal_type,e.props.item.property_id)},className:"add-note"},c.a.createElement("em",null,"Add Note \xa0"),c.a.createElement("i",{className:"material-icons"},"add"))))):""))))}}]),a}(c.a.Component),H=a(17),J=function(e){Object(l.a)(a,e);var t=Object(n.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).onFilterChange=s.onFilterChange.bind(Object(H.a)(s)),s}return Object(r.a)(a,[{key:"onFilterChange",value:function(e){var t=window.location.search||"";if(t.includes("filter=")){var a=t.indexOf("filter=")-1;t=t.slice(0,a)}e.target.value&&(t+=""===t?"?":"&",t+="".concat(Object(I.a)({filter:e.target.value}))),E.f.go(window.location.pathname+t)}},{key:"render",value:function(){return c.a.createElement("div",{className:"filter-bar"},c.a.createElement("input",{type:"radio",id:"allDeals",name:"deals",value:"",checked:!this.props.filter,onChange:this.onFilterChange}),c.a.createElement("label",{htmlFor:"allDeals"},"All"),c.a.createElement("input",{type:"radio",id:"debt",name:"deals",value:"debt",checked:"debt"===this.props.filter,onChange:this.onFilterChange}),c.a.createElement("label",{htmlFor:"debt"},"Debt"),c.a.createElement("input",{type:"radio",id:"equity",name:"deals",value:"equity",checked:"equity"===this.props.filter,onChange:this.onFilterChange}),c.a.createElement("label",{htmlFor:"equity"},"Equity"))}}]),a}(c.a.Component),K=function(e){Object(l.a)(a,e);var t=Object(n.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=null,t=null;return this.props.properties&&(e=this.props.properties.map(function(e,t){return"current_ip"===e.type?c.a.createElement(L,{key:t,item:e,updateNote:this.props.updateNote,dealClick:this.props.dealClick,compsClick:this.props.compsClick,removeProperty:this.props.removeProperty,openStreetView:this.props.openStreetView,updateErrorToast:this.props.updateErrorToast,openAddNoteModal:this.props.openAddNoteModal,openEditNoteModal:this.props.openEditNoteModal,setPageAndScrollPos:this.props.setPageAndScrollPos}):"current_pw"===e.type||"current_uw"===e.type?c.a.createElement(F,{key:t,item:e,dealClick:this.props.dealClick,compsClick:this.props.compsClick,removeProperty:this.props.removeProperty,openStreetView:this.props.openStreetView,updateErrorToast:this.props.updateErrorToast,openAddNoteModal:this.props.openAddNoteModal,openEditNoteModal:this.props.openEditNoteModal,setPageAndScrollPos:this.props.setPageAndScrollPos}):"remaining"===e.type?c.a.createElement(U,{key:t,item:e,navChange:this.props.navChange,updateNote:this.props.updateNote,removeProperty:this.props.removeProperty,openAddNoteModal:this.props.openAddNoteModal,openEditNoteModal:this.props.openEditNoteModal,setPageAndScrollPos:this.props.setPageAndScrollPos,submitCompsSearch:this.props.submitCompsSearch,openStreetView:this.props.openStreetViewRemaining,updateErrorToast:this.props.updateErrorToast}):"national"===e.type?c.a.createElement(B,{key:t,item:e,removeProperty:this.props.removeProperty,updateErrorToast:this.props.updateErrorToast,openAddNoteModal:this.props.openAddNoteModal,openEditNoteModal:this.props.openEditNoteModal,openStreetView:this.props.openStreetViewReonomy,setPageAndScrollPos:this.props.setPageAndScrollPos}):void 0}.bind(this)),t=this.props.linkedProperties.map(function(e,t){return"current_ip"===e.type?c.a.createElement(L,{key:t,item:e,type:"linked",dealClick:this.props.dealClick,updateNote:this.props.updateNote,compsClick:this.props.compsClick,updateErrorToast:this.props.updateErrorToast,setPageAndScrollPos:this.props.setPageAndScrollPos}):"current_pw"===e.type?c.a.createElement(F,{key:t,item:e,type:"linked",dealClick:this.props.dealClick,compsClick:this.props.compsClick,updateErrorToast:this.props.updateErrorToast,setPageAndScrollPos:this.props.setPageAndScrollPos}):"remaining"===e.type?c.a.createElement(U,{key:t,item:e,type:"linked",navChange:this.props.navChange,updateNote:this.updateNote,setPageAndScrollPos:this.props.setPageAndScrollPos,submitCompsSearch:this.props.submitCompsSearch,updateErrorToast:this.props.updateErrorToast}):"national"===e.type?c.a.createElement(B,{key:t,item:e,type:"linked",updateErrorToast:this.props.updateErrorToast,setPageAndScrollPos:this.props.setPageAndScrollPos}):void 0}.bind(this))),c.a.createElement(p.Fragment,null,c.a.createElement("div",{className:"my-properties-container",ref:"page"},c.a.createElement("div",{className:"deals"===this.props.category?"filter-bar-container":"hidden"},c.a.createElement(J,{category:this.props.category,filter:this.props.filter})),e,c.a.createElement("div",{className:!this.props.loading&&this.props.linkedProperties&&this.props.linkedProperties.length?"properties-quote-subheader":"hidden"},c.a.createElement("hr",null),c.a.createElement("p",null,"Linked Properties")),t),c.a.createElement("div",{className:this.props.noProperties?"":"hidden"},c.a.createElement("div",null,c.a.createElement("div",{className:"grey-circle"},c.a.createElement("i",{className:"material-icons"},"warning")),c.a.createElement("h2",{className:"no-results"},"No Properties Now"))),c.a.createElement(S.a,{className:"loading-modal",isOpen:this.props.loading,ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!1},c.a.createElement("div",{className:this.props.loading?"centered-spinner":"hidden"},c.a.createElement("img",{src:"/images/icons/spin.svg",className:"loading-spinner",alt:"loading spinner"}))))}}]),a}(c.a.Component),W=a(88),G=a(38),Q=a.n(G),X=a(34),Z=a.n(X),$=a(256),ee=a(15),te=function(e){Object(l.a)(a,e);var t=Object(n.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={showSearchbar:!1},s}return Object(r.a)(a,[{key:"updateSearch",value:function(e){this.props.updateSearch(e.target.value)}},{key:"render",value:function(){var e=this,t=window.isNativeApp||window.matchMedia("(display-mode: standalone)").matches||window.innerWidth<901;return c.a.createElement(A.a,{className:"sub-header ".concat(this.state.showSearchbar?"mobile-header-searchbar":"")},c.a.createElement(ee.a,{className:this.props.previousPage?"back-arrow":"hidden",to:decodeURIComponent(this.props.previousPage)},c.a.createElement("img",{src:"/images/icons/arrow-left.png",alt:"arrow-left"})),c.a.createElement("div",{className:"nav-search-sub-header my-properties-subheader-container"},c.a.createElement("div",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(ee.b,{to:{pathname:"/properties/deals",search:this.props.queryString},activeClassName:"header-active-link"},"Active Deals")),c.a.createElement("li",null,c.a.createElement(ee.b,{to:{pathname:"/properties/portfolio",search:this.props.queryString},activeClassName:"header-active-link"},"Portfolio")),c.a.createElement("li",null,c.a.createElement(ee.b,{to:{pathname:"/properties/reonomy",search:this.props.queryString},activeClassName:"header-active-link"},"Public Data"))),t?c.a.createElement("div",null,c.a.createElement("img",{id:"search-icon-small",src:"/images/icons/search.png",alt:"search",style:{float:"right"},onClick:function(){return e.setState({showSearchbar:!e.state.showSearchbar})}})):c.a.createElement("div",{className:"search-container"},c.a.createElement("div",{className:"search-form"},c.a.createElement("i",{className:"material-icons white search-icon"},"search"),c.a.createElement("input",{className:"input contact-input",type:"text",placeholder:"Search",onChange:function(t){return e.updateSearch(t)},value:this.props.searchValue,ref:"searchBox"}))))),c.a.createElement(A.a,{style:{width:"96%"}},c.a.createElement("div",{className:"flex flex-center"},c.a.createElement("div",{className:"search-container search-container-mobile"},c.a.createElement("div",{className:"search-form"},c.a.createElement("img",{id:"search-icon-small",src:"/images/icons/search.png",alt:"search"}),c.a.createElement("input",{className:"input contact-input",type:"text",placeholder:"Search",onChange:function(t){return e.updateSearch(t)},value:this.props.searchValue,ref:"searchBox"}))))))}}]),a}(c.a.Component),ae=a(25),se=a(45),ie=a(40),oe=a.n(ie),re=function(e){Object(l.a)(a,e);var t=Object(n.a)(a);function a(e,s){var i;return Object(o.a)(this,a),(i=t.call(this,e,s)).navChange=function(e){i.props.navActions.updateNavTitle(e)},i.state={activeCategory:null,activeFilter:null,contactId:null,scrolled:!1,count:"",modalIsAddOpen:!1,modalIsEditOpen:!1,property_id:""},i}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.navChange("My Properties"),this.setState({activeCategory:this.props.match.params.category,activeFilter:Object(ae.a)("filter"),contactId:Object(ae.a)("contact_id")},(function(){e.props.actions.loadProperties(e.state.activeCategory,e.state.activeFilter,e.state.contactId)}))}},{key:"componentDidUpdate",value:function(){var e=this;this.props.match.params.category===this.state.activeCategory&&Object(ae.a)("filter")===this.state.activeFilter||this.componentDidMount(),this.props.properties.loading||!this.props.properties.properties.mine||this.state.scrolled||(window.scrollTo(0,this.props.comps.previousScrollPos[this.props.comps.previousScrollPos.length-1]),setTimeout((function(){e.props.compsActions.resetScrollPosition()}),3e3),this.setState({scrolled:!0}))}},{key:"dealClick",value:function(e,t,a,s,o,r){this.props.compsActions.setPageAndScrollPos(window.location.pathname+window.location.search,window.scrollY),this.state.contactId?E.f.go("/broker-deals/".concat(e,"?").concat(Object(se.stringify)(Object(i.a)({deal_id:t},Object(se.parse)(window.location.search))))):E.f.go("/properties/".concat(e,"/").concat(t,"/").concat(r,"?").concat(Object(se.stringify)(Object(i.a)(Object(i.a)({},Object(se.parse)(window.location.search)),{},{violations:a,isEquity:s,previous_page:window.location.pathname+window.location.search}))))}},{key:"compsClick",value:function(e,t,a,s){sessionStorage.setItem("comps_inNYC",e),this.props.compsActions.setPageAndScrollPos(window.location.pathname+window.location.search,window.scrollY),this.props.compsActions.submitCompsSearch("".concat(t," ").concat(a),s)}},{key:"removeProperty",value:function(e,t){this.setState({modalOpen:!0,removal_type:e,removal_id:t})}},{key:"closeRemovePropertyDialog",value:function(e){e.preventDefault(),this.setState({modalOpen:!1,removal_type:"",removal_id:""})}},{key:"currentOwnerChange",value:function(e){this.setState({currentOwner:e.target.value})}},{key:"submitRemovePropertyDialog",value:function(e){e.preventDefault(),this.setState({modalOpen:!1}),this.props.actions.removeProperty(this.state.removal_type,this.state.removal_id,this.state.currentOwner)}},{key:"openAddNoteModal",value:function(e,t,a){this.setState({removal_id:e,removal_type:t,property_id:a,modalIsAddOpen:!0,note:""})}},{key:"openEditNoteModal",value:function(e,t,a,s){this.setState({removal_id:e,removal_type:t,property_id:a,modalIsEditOpen:!0,note:s})}},{key:"closeAddNoteModal",value:function(){this.setState({modalIsAddOpen:!1})}},{key:"closeEditNoteModal",value:function(e){e.preventDefault(),this.setState({modalIsEditOpen:!1})}},{key:"updateNote",value:function(e,t,a){this.props.actions.updateNote(e,t,a)}},{key:"handleAddNoteSubmit",value:function(e,t){e.preventDefault(),this.setState({modalIsAddOpen:!1}),this.updateNote(this.state.removal_id,this.state.removal_type,t)}},{key:"handleUpdateNoteSubmit",value:function(e,t){e.preventDefault(),this.setState({modalIsEditOpen:!1}),this.updateNote(this.state.removal_id,this.state.removal_type,t)}},{key:"render",value:function(){var e=null;this.props.properties.errorToast&&(e=c.a.createElement(W.a,{closeToast:this.props.actions.closeErrorToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,this.props.properties.message),c.a.createElement(Z.a,{variant:"flat",onClick:this.props.actions.closeErrorToast},"Done"))));return c.a.createElement("div",null,e,c.a.createElement(te,{queryString:window.location.search,previousPage:Object(ae.a)("previous_page"),searchValue:this.props.properties.searchValue,updateSearch:this.props.actions.updateSearch}),c.a.createElement(K,{properties:this.props.properties.searchedProperties.mine,linkedProperties:this.props.properties.searchedProperties.linked,filter:this.state.activeFilter,category:this.state.activeCategory,loading:this.props.properties.loading,noProperties:this.props.properties.noProperties,navChange:this.navChange.bind(this),updateNote:this.updateNote.bind(this),dealClick:this.dealClick.bind(this),compsClick:this.compsClick.bind(this),removeProperty:this.removeProperty.bind(this),setPageAndScrollPos:this.props.compsActions.setPageAndScrollPos,submitCompsSearch:this.props.compsActions.submitCompsSearch,updateErrorToast:this.props.actions.updateErrorToast,openAddNoteModal:this.openAddNoteModal.bind(this),openEditNoteModal:this.openEditNoteModal.bind(this)}),c.a.createElement(S.a,{className:"note-modal snooze-modal",isOpen:this.state.modalOpen,ariaHideApp:!1,contentLabel:"Modal",onAfterOpen:function(){},onRequestClose:this.closeRemovePropertyDialog.bind(this),shouldCloseOnOverlayClick:!0},c.a.createElement(Q.a,{className:"modal-form"},c.a.createElement("p",{className:"modal-title"},"Remove Property"),c.a.createElement("p",{className:"modal-subtitle"},"Who is the current owner? (optional)"),c.a.createElement(oe.a,{onChange:this.currentOwnerChange.bind(this)}),c.a.createElement("div",{className:"add-note-buttons"},c.a.createElement(Z.a,{variant:"flat",onClick:this.closeRemovePropertyDialog.bind(this)},"CANCEL"),c.a.createElement(Z.a,{variant:"flat",onClick:this.submitRemovePropertyDialog.bind(this),type:"submit",value:"submit"},"OK")))),c.a.createElement($.a,{isOpen:this.state.modalIsAddOpen,onRequestClose:this.closeAddNoteModal.bind(this),onAfterOpen:function(){},text:{title:"Add new note",button:"Save"},require:!1,onSubmit:this.handleAddNoteSubmit.bind(this)}),c.a.createElement($.a,{isOpen:this.state.modalIsEditOpen,onRequestClose:this.closeEditNoteModal.bind(this),onAfterOpen:function(){},text:{title:"Edit note",button:"Update"},require:!1,note:this.state.note,onSubmit:this.handleUpdateNoteSubmit.bind(this)}))}}]),a}(c.a.Component);t.default=Object(m.b)((function(e){return{properties:e.properties,comps:e.comps}}),(function(e){return{actions:Object(d.b)(s,e),navActions:Object(d.b)(w,e),compsActions:Object(d.b)(C,e)}}))(re)}}]);
//# sourceMappingURL=82.7348cf7c.chunk.js.map