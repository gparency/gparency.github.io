{"version":3,"sources":["../node_modules/compare-versions/index.js","components/dealDetails/DealDocumentLink.js","components/dealDetails/DealDocuments.js","components/dealDetails/DealDocumentsPage.js","components/dealDetails/DealDocumentsContainer.js"],"names":["define","semver","split","v","str","q","c","replace","patchIndex","indexOf","length","arr","substring","push","tryParse","isNaN","Number","validate","version","TypeError","test","Error","compareVersions","v1","v2","forEach","s1","s2","i","Math","max","n1","parseInt","n2","sp1","sp2","p1","map","p2","undefined","allowedOperators","operatorResMap","compare","operator","op","join","validateOperator","res","DealDocumentLink","props","handleClick","bind","this","getGoogleDoc","item","md","className","onClick","title","React","Component","DealDocuments","state","downloading","useWebBrowser","getDocument","authentication","is_broker","dec","decodeURIComponent","gDriveUrl","getGoogleDrive","href","target","rel","id","url","window","ReactNativeWebView","postMessage","JSON","stringify","action","data","handleWindowMessage","e","message","error","setState","console","warn","isClientView","a","fileName","ajax","config","BASE_URL","applyAuthHeader","response","_data","stripTrailingQuery","signedResponse","isNativeApp","canShareUrl","open","alert","showDownloadButton","addEventListener","appVersion","removeEventListener","mimeType","src","alt","documentInfo","documents","index","key","getFileIcon","typeName","isOpen","ariaHideApp","contentLabel","shouldCloseOnOverlayClick","DealDocumentsPage","noDocuments","dealDocuments","loading","TypeName","info","token","DealDocumentsContainer","actions","loadDealDocuments","match","params","dealId","getParameterByName","dealDetails","localStorage","getItem","parse","connect","dispatch","bindActionCreators","dealDetailsActions"],"mappings":"4FAAA,UAIIA,EAAO,QAAD,6BAMF,WAEN,IAAIC,EAAS,qIAMb,SAASC,EAAMC,GACb,IALkBC,EAAKC,EAKnBC,EAAIH,EAAEI,QAAQ,KAAM,IAAIA,QAAQ,QAAS,IACzCC,GANmBH,EAMQ,KALJ,KADTD,EAMUE,GALjBG,QAAQJ,GAAYD,EAAIM,OAASN,EAAIK,QAAQJ,IAMpDM,EAAML,EAAEM,UAAU,EAAGJ,GAAYN,MAAM,KAE3C,OADAS,EAAIE,KAAKP,EAAEM,UAAUJ,EAAa,IAC3BG,EAGT,SAASG,EAASX,GAChB,OAAOY,MAAMC,OAAOb,IAAMA,EAAIa,OAAOb,GAGvC,SAASc,EAASC,GAChB,GAAuB,kBAAZA,EACT,MAAM,IAAIC,UAAU,oCAEtB,IAAKlB,EAAOmB,KAAKF,GACf,MAAM,IAAIG,MAAM,uCAAwCH,EAAQ,eAIpE,SAASI,EAAgBC,EAAIC,GAC3B,CAACD,EAAIC,GAAIC,QAAQR,GAKjB,IAHA,IAAIS,EAAKxB,EAAMqB,GACXI,EAAKzB,EAAMsB,GAENI,EAAI,EAAGA,EAAIC,KAAKC,IAAIJ,EAAGhB,OAAS,EAAGiB,EAAGjB,OAAS,GAAIkB,IAAK,CAC/D,IAAIG,EAAKC,SAASN,EAAGE,IAAM,EAAG,IAC1BK,EAAKD,SAASL,EAAGC,IAAM,EAAG,IAE9B,GAAIG,EAAKE,EAAI,OAAO,EACpB,GAAIA,EAAKF,EAAI,OAAQ,EAGvB,IAAIG,EAAMR,EAAGA,EAAGhB,OAAS,GACrByB,EAAMR,EAAGA,EAAGjB,OAAS,GAEzB,GAAIwB,GAAOC,EAAK,CACd,IAAIC,EAAKF,EAAIhC,MAAM,KAAKmC,IAAIvB,GACxBwB,EAAKH,EAAIjC,MAAM,KAAKmC,IAAIvB,GAE5B,IAAKc,EAAI,EAAGA,EAAIC,KAAKC,IAAIM,EAAG1B,OAAQ4B,EAAG5B,QAASkB,IAAK,CACnD,QAAcW,IAAVH,EAAGR,IAAqC,kBAAVU,EAAGV,IAAoC,kBAAVQ,EAAGR,GAAiB,OAAQ,EAC3F,QAAcW,IAAVD,EAAGV,IAAqC,kBAAVQ,EAAGR,IAAoC,kBAAVU,EAAGV,GAAiB,OAAO,EAE1F,GAAIQ,EAAGR,GAAKU,EAAGV,GAAI,OAAO,EAC1B,GAAIU,EAAGV,GAAKQ,EAAGR,GAAI,OAAQ,QAExB,GAAIM,GAAOC,EAChB,OAAOD,GAAO,EAAI,EAGpB,OAAO,EAGT,IAAIM,EAAmB,CACrB,IACA,KACA,IACA,IACA,MAGEC,EAAiB,CACnB,IAAK,CAAC,GACN,KAAM,CAAC,EAAG,GACV,IAAK,CAAC,GACN,KAAM,EAAE,EAAG,GACX,IAAK,EAAE,IA0BT,OAdAnB,EAAgBL,SAAW,SAASC,GAClC,MAA0B,kBAAZA,GAAwBjB,EAAOmB,KAAKF,IAGpDI,EAAgBoB,QAAU,SAAUnB,EAAIC,EAAImB,IAb5C,SAA0BC,GACxB,GAAkB,kBAAPA,EACT,MAAM,IAAIzB,UAAU,yDAA2DyB,GAEjF,IAAsC,IAAlCJ,EAAiB/B,QAAQmC,GAC3B,MAAM,IAAIzB,UAAU,qCAAuCqB,EAAiBK,KAAK,MAUnFC,CAAiBH,GAIjB,IAAII,EAAMzB,EAAgBC,EAAIC,GAC9B,OAAOiB,EAAeE,GAAUlC,QAAQsC,IAAQ,GAG3CzB,IA7GC,gC,gQCDW0B,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,YAAc,EAAKA,YAAYC,KAAjB,gBAHF,E,0DAOjBC,KAAKH,MAAMI,aAAaD,KAAKH,MAAMK,Q,+BAInC,OACE,6BACE,kBAAC,IAAD,CAAKC,GAAG,KAAKC,UAAU,kBACrB,uBAAGC,QAASL,KAAKF,aAAcE,KAAKH,MAAMS,a,GAfNC,IAAMC,W,kBC4OrCC,E,4MAlObC,MAAQ,CACNC,aAAa,EACbC,eAAe,G,EA4DjBC,YAAc,SAACX,GACb,GAAI,EAAKL,MAAMiB,eAAeC,UAAW,CACvC,IAAIC,EAAMC,mBAAmBf,EAAKgB,WAClC,OACE,6BACE,kBAAC,IAAD,CAAKf,GAAG,KAAKC,UAAU,kBACpB,EAAKM,MAAME,cACV,0BAAMP,QAAS,kBAAM,EAAKc,eAAeH,KAAOd,EAAKI,OAErD,uBAAGc,KAAMJ,EAAKK,OAAO,SAASC,IAAI,uBAC/BpB,EAAKI,SAOhB,OACE,kBAAC,EAAD,CACEA,MAAOJ,EAAKI,MACZiB,GAAIrB,EAAKqB,GACTrB,KAAMA,EACND,aAAc,EAAKA,gB,EAM3BkB,eAAiB,SAACK,GAChB,OAAOC,OAAOC,mBAAmBC,YAC/BC,KAAKC,UAAU,CACbC,OAAQ,oBACRC,KAAM,CAAEP,W,EAKdQ,oBAAsB,SAACC,GACrB,IAAMC,EAAUD,EAAEF,KAClB,GAAKG,GAAuB,cAAZA,EAAhB,CAF2B,IAOnBJ,EAA8BI,EAA9BJ,OAAoBK,EAAUD,EAAVC,MACvBL,EAOU,aAAXA,GACF,EAAKM,SAAS,CAAEzB,aAAa,IAPzBwB,GAEFE,QAAQC,KAAK,eAAgBR,EAAQK,K,EAU3CI,aAAe,SAACrC,GACd,GAAI,EAAKL,MAAMiB,eAAeC,WACxBb,EAAKqC,aACP,OAAO,uBAAGnC,UAAU,mBAAb,uB,EAKbH,a,uCAAe,WAAOC,GAAP,6BAAAsC,EAAA,mEAEP,EAAK9B,MAAMC,YAFJ,wDAKX,EAAKyB,SAAS,CAAEzB,aAAa,IAErBY,EAAwBrB,EAAxBqB,GAAWkB,EAAavC,EAApBI,MAPD,SAQUoC,YAAK,CACxBlB,IAAI,GAAD,OAAKmB,IAAOC,SAAZ,kBACHC,iBAAiB,EACjBd,KAAM,CAAER,QAXC,cAQPuB,EARO,OAaGC,EAAUD,EAAhBf,KAEFA,EAAOiB,YAAmBD,GAfrB,UAgBkBL,YAAK,CAChClB,IAAI,GAAD,OAAKO,EAAL,mBACHc,iBAAiB,IAlBR,QAgBLI,EAhBK,OAoBLzB,GAAoB,OAAdyB,QAAc,IAAdA,GAAA,UAAAA,EAAgBlB,YAAhB,eAAsBP,MAAO,GACrCC,QAAUA,OAAOyB,YACnBzB,OAAOC,mBAAmBC,YACxBC,KAAKC,UAAU,CACbC,OAAQL,OAAO0B,YAAc,WAAa,oBAC1CpB,KAAM,CAAEP,MAAKiB,gBAIjB,EAAKL,SAAS,CAAEzB,aAAa,IAC7Bc,OAAO2B,KAAK5B,IA9BH,kDAiCXa,QAAQF,MAAR,MACAkB,MAAM,wDACN,EAAKjB,SAAS,CAAEzB,aAAa,IAnClB,0D,wDAuCf2C,mBAAqB,SAACpD,GACpB,GAAI,EAAKL,MAAMiB,eAAeC,UAC5B,OACE,uBACEX,UAAU,8BACVC,QAAS,WACP,EAAKJ,aAAaC,KAGnBuB,QAAUA,OAAO0B,YAAc,QAAU,kB,kEA3K7B,IAAD,IAClB1B,OAAO8B,iBAAiB,UAAWvD,KAAKgC,qBAAqB,GAC7DhC,KAAKoC,SAAS,CACZxB,iBACG,UAACa,cAAD,aAAC,EAAQyB,gBACRhF,IAAgBoB,QAAhB,UAAwBmC,cAAxB,aAAwB,EAAQ+B,WAAY,SAAU,U,6CAK5D/B,OAAOgC,oBAAoB,UAAWzD,KAAKgC,uB,kCAGjC0B,GACV,MACe,cAAbA,GACa,eAAbA,GACa,cAAbA,EAGE,yBACEtD,UAAU,YACVuD,IAAI,+BACJC,IAAI,cAGc,oBAAbF,EAEP,yBACEtD,UAAU,YACVuD,IAAI,6BACJC,IAAI,cAKN,sEADFF,GAEa,6BAAbA,EAGE,yBACEtD,UAAU,YACVuD,IAAI,+BACJC,IAAI,cAKN,yBACExD,UAAU,YACVuD,IAAI,iCACJC,IAAI,gB,+BA8HF,IAAD,OACDC,EAAe7D,KAAKH,MAAMiE,UAAU7E,KAAI,SAACiB,EAAM6D,GACnD,OACE,yBAAKC,IAAKD,GACR,kBAAC,IAAD,CAAS3D,UAAU,0BACnB,kBAAC,IAAD,CAAKA,UAAU,sBACb,kBAAC,IAAD,CAAKD,GAAG,KACL,EAAK8D,YAAY/D,EAAKwD,UACvB,yBAAKtD,UAAU,mBAAmB,EAAKS,YAAYX,KAErD,kBAAC,IAAD,CAAKC,GAAG,KAAK,EAAKoC,aAAarC,IAC/B,kBAAC,IAAD,CAAKC,GAAG,KAAK,EAAKmD,mBAAmBpD,SAM7C,OACE,yBAAKE,UAAU,iBACb,kBAAC,IAAD,CAAOA,UAAU,YACf,kBAAC,IAAD,CAAKA,UAAU,iBACb,uBAAGA,UAAU,yBAAyBJ,KAAKH,MAAMqE,WAElDL,GAEH,kBAAC,IAAD,CACEzD,UAAU,gBACV+D,OAAQnE,KAAKU,MAAMC,YACnByD,aAAa,EACbC,aAAa,QACbC,2BAA2B,GAE3B,yBAAKlE,UAAU,oBACb,yBACEuD,IAAI,yBACJvD,UAAU,kBACVwD,IAAI,2B,GA3NUrD,IAAMC,WC4CnB+D,E,uKAnDH,IAAD,OACHC,EAAc,KACdC,EAAgB,KAyBpB,OAxBIzE,KAAKH,MAAMiE,YACbW,GACGzE,KAAKH,MAAM6E,SACZ1E,KAAKH,MAAMiE,UAAU7E,KAAI,SAACiB,EAAM1B,GAAP,OACvB,kBAAC,EAAD,CACEwF,IAAKxF,EACL0F,SAAUhE,EAAKyE,SACfb,UAAW5D,EAAK0E,KAChBC,MAAO,EAAKhF,MAAMgF,MAClB/D,eAAgB,EAAKjB,MAAMiB,qBAK/Bd,KAAKH,MAAM2E,cACbA,EACE,6BACE,yBAAKpE,UAAU,eACb,uBAAGA,UAAU,kBAAb,YAEF,wBAAIA,UAAU,cAAd,gCAKJ,yBAAKA,UAAU,kBACb,kBAAC,IAAD,CACEA,UAAU,gBACVgE,aAAa,EACbC,aAAa,QACbF,OAAQnE,KAAKH,MAAM6E,QACnBJ,2BAA2B,GAE3B,yBAAKlE,UAAWJ,KAAKH,MAAM6E,QAAU,mBAAqB,UACxD,yBACEf,IAAI,yBACJvD,UAAU,kBACVwD,IAAI,sBAITY,EACAC,O,GA9CuBlE,IAAMC,W,QCGhCsE,E,kLAEF9E,KAAKH,MAAMkF,QAAQC,kBACjBhF,KAAKH,MAAMoF,MAAMC,OAAOC,OACpBnF,KAAKH,MAAMoF,MAAMC,OAAOC,OACxBC,YAAmB,WACnBA,YAAmB,WACnB,M,+BAKN,OACE,kBAAC,EAAD,CACEtB,UAAW9D,KAAKH,MAAMwF,YAAYvB,UAClCU,YAAaxE,KAAKH,MAAMwF,YAAYb,YACpCE,QAAS1E,KAAKH,MAAMwF,YAAYX,QAChCG,MAAOS,aAAaC,QAAQ,cAC5BzE,eAAgBc,KAAK4D,MAAMF,aAAaC,QAAQ,e,GAlBnBhF,IAAMC,WAoC5BiF,uBAZf,SAAyB/E,GACvB,MAAO,CACL2E,YAAa3E,EAAM2E,gBAIvB,SAA4BK,GAC1B,MAAO,CACLX,QAASY,YAAmBC,EAAoBF,MAIrCD,CAGbX","file":"static/js/52.8140f3f9.chunk.js","sourcesContent":["/* global define */\n(function (root, factory) {\n  /* istanbul ignore next */\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.compareVersions = factory();\n  }\n}(this, function () {\n\n  var semver = /^v?(?:\\d+)(\\.(?:[x*]|\\d+)(\\.(?:[x*]|\\d+)(\\.(?:[x*]|\\d+))?(?:-[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\n\n  function indexOrEnd(str, q) {\n    return str.indexOf(q) === -1 ? str.length : str.indexOf(q);\n  }\n\n  function split(v) {\n    var c = v.replace(/^v/, '').replace(/\\+.*$/, '');\n    var patchIndex = indexOrEnd(c, '-');\n    var arr = c.substring(0, patchIndex).split('.');\n    arr.push(c.substring(patchIndex + 1));\n    return arr;\n  }\n\n  function tryParse(v) {\n    return isNaN(Number(v)) ? v : Number(v);\n  }\n\n  function validate(version) {\n    if (typeof version !== 'string') {\n      throw new TypeError('Invalid argument expected string');\n    }\n    if (!semver.test(version)) {\n      throw new Error('Invalid argument not valid semver (\\''+version+'\\' received)');\n    }\n  }\n\n  function compareVersions(v1, v2) {\n    [v1, v2].forEach(validate);\n\n    var s1 = split(v1);\n    var s2 = split(v2);\n\n    for (var i = 0; i < Math.max(s1.length - 1, s2.length - 1); i++) {\n      var n1 = parseInt(s1[i] || 0, 10);\n      var n2 = parseInt(s2[i] || 0, 10);\n\n      if (n1 > n2) return 1;\n      if (n2 > n1) return -1;\n    }\n\n    var sp1 = s1[s1.length - 1];\n    var sp2 = s2[s2.length - 1];\n\n    if (sp1 && sp2) {\n      var p1 = sp1.split('.').map(tryParse);\n      var p2 = sp2.split('.').map(tryParse);\n\n      for (i = 0; i < Math.max(p1.length, p2.length); i++) {\n        if (p1[i] === undefined || typeof p2[i] === 'string' && typeof p1[i] === 'number') return -1;\n        if (p2[i] === undefined || typeof p1[i] === 'string' && typeof p2[i] === 'number') return 1;\n\n        if (p1[i] > p2[i]) return 1;\n        if (p2[i] > p1[i]) return -1;\n      }\n    } else if (sp1 || sp2) {\n      return sp1 ? -1 : 1;\n    }\n\n    return 0;\n  };\n\n  var allowedOperators = [\n    '>',\n    '>=',\n    '=',\n    '<',\n    '<='\n  ];\n\n  var operatorResMap = {\n    '>': [1],\n    '>=': [0, 1],\n    '=': [0],\n    '<=': [-1, 0],\n    '<': [-1]\n  };\n\n  function validateOperator(op) {\n    if (typeof op !== 'string') {\n      throw new TypeError('Invalid operator type, expected string but got ' + typeof op);\n    }\n    if (allowedOperators.indexOf(op) === -1) {\n      throw new TypeError('Invalid operator, expected one of ' + allowedOperators.join('|'));\n    }\n  }\n\n  compareVersions.validate = function(version) {\n    return typeof version === 'string' && semver.test(version);\n  }\n\n  compareVersions.compare = function (v1, v2, operator) {\n    // Validate operator\n    validateOperator(operator);\n\n    // since result of compareVersions can only be -1 or 0 or 1\n    // a simple map can be used to replace switch\n    var res = compareVersions(v1, v2);\n    return operatorResMap[operator].indexOf(res) > -1;\n  }\n\n  return compareVersions;\n}));\n","import React from \"react\";\nimport Col from \"muicss/lib/react/col\";\n\nexport default class DealDocumentLink extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    this.props.getGoogleDoc(this.props.item);\n  }\n\n  render() {\n    return (\n      <div>\n        <Col md=\"12\" className=\"document-title\">\n          <p onClick={this.handleClick}>{this.props.title}</p>\n        </Col>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport compareVersions from \"compare-versions\";\nimport Modal from \"react-modal\";\nimport Panel from \"muicss/lib/react/panel\";\nimport Row from \"muicss/lib/react/row\";\nimport config from \"../../config\";\nimport { ajax } from \"../../lib\";\nimport { stripTrailingQuery } from \"../../lib/routing\";\nimport DealDocumentLink from \"./DealDocumentLink\";\nimport Divider from \"muicss/lib/react/divider\";\nimport Col from \"muicss/lib/react/col\";\n\nclass DealDocuments extends React.Component {\n  state = {\n    downloading: false,\n    useWebBrowser: false,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"message\", this.handleWindowMessage, false);\n    this.setState({\n      useWebBrowser:\n        !!window?.isNativeApp &&\n        !!compareVersions.compare(window?.appVersion, \"3.0.16\", \">=\"),\n    });\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"message\", this.handleWindowMessage);\n  }\n\n  getFileIcon(mimeType) {\n    if (\n      mimeType === \"image/gif\" ||\n      mimeType === \"image/jpeg\" ||\n      mimeType === \"image/png\"\n    ) {\n      return (\n        <img\n          className=\"file-icon\"\n          src=\"/images/icons/image-file.png\"\n          alt=\"file-icon\"\n        />\n      );\n    } else if (mimeType === \"application/pdf\") {\n      return (\n        <img\n          className=\"file-icon\"\n          src=\"/images/icons/pdf-file.png\"\n          alt=\"file-icon\"\n        />\n      );\n    } else if (\n      mimeType ===\n        \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" ||\n      mimeType === \"application/vnd.ms-excel\"\n    ) {\n      return (\n        <img\n          className=\"file-icon\"\n          src=\"/images/icons/excel-file.png\"\n          alt=\"file-icon\"\n        />\n      );\n    } else {\n      return (\n        <img\n          className=\"file-icon\"\n          src=\"/images/icons/default-file.png\"\n          alt=\"file-icon\"\n        />\n      );\n    }\n  }\n\n  getDocument = (item) => {\n    if (this.props.authentication.is_broker) {\n      var dec = decodeURIComponent(item.gDriveUrl);\n      return (\n        <div>\n          <Col md=\"12\" className=\"document-title\">\n            {this.state.useWebBrowser ? (\n              <span onClick={() => this.getGoogleDrive(dec)}>{item.title}</span>\n            ) : (\n              <a href={dec} target=\"_blank\" rel=\"noopener noreferrer\">\n                {item.title}\n              </a>\n            )}\n          </Col>\n        </div>\n      );\n    } else {\n      return (\n        <DealDocumentLink\n          title={item.title}\n          id={item.id}\n          item={item}\n          getGoogleDoc={this.getGoogleDoc}\n        />\n      );\n    }\n  };\n\n  getGoogleDrive = (url) => {\n    return window.ReactNativeWebView.postMessage(\n      JSON.stringify({\n        action: \"openUrlWebBrowser\",\n        data: { url },\n      })\n    );\n  };\n\n  handleWindowMessage = (e) => {\n    const message = e.data;\n    if (!message || message === \"undefined\") {\n      // This happens for messages sent by the OS, SDK, React-Native, Expo or\n      // some other code outside our control. No need to log it.\n      return;\n    }\n    const { action, /* data, */ error } = message;\n    if (!action) {\n      if (error) {\n        // TODO: Report to Sentry.\n        console.warn(\"ACTION_ERROR\", action, error);\n      }\n      return;\n    }\n    if (action === \"shareUrl\") {\n      this.setState({ downloading: false });\n      return;\n    }\n  };\n\n  isClientView = (item) => {\n    if (this.props.authentication.is_broker) {\n      if (item.isClientView) {\n        return <p className=\"shared-w-client\">Shared with client</p>;\n      }\n    }\n  };\n\n  getGoogleDoc = async (item) => {\n    try {\n      if (this.state.downloading) {\n        return;\n      }\n      this.setState({ downloading: true });\n      // console.log(\"DOWNLOADING DOC: \", item);\n      const { id, title: fileName } = item;\n      let response = await ajax({\n        url: `${config.BASE_URL}get-google-doc`,\n        applyAuthHeader: true,\n        data: { id },\n      });\n      const { data: _data } = response;\n      // data can sometimes be returned with a trailing '?'\n      const data = stripTrailingQuery(_data);\n      const signedResponse = await ajax({\n        url: `${data}?getSignedUrl=1`,\n        applyAuthHeader: true,\n      });\n      const url = signedResponse?.data?.url || \"\";\n      if (window && window.isNativeApp) {\n        window.ReactNativeWebView.postMessage(\n          JSON.stringify({\n            action: window.canShareUrl ? \"shareUrl\" : \"openUrlWebBrowser\",\n            data: { url, fileName },\n          })\n        );\n      } else {\n        this.setState({ downloading: false });\n        window.open(url);\n      }\n    } catch (ex) {\n      console.error(ex);\n      alert(\"Sorry! There was an error downloading that document.\");\n      this.setState({ downloading: false });\n    }\n  };\n\n  showDownloadButton = (item) => {\n    if (this.props.authentication.is_broker) {\n      return (\n        <i\n          className=\"material-icons doc-download\"\n          onClick={() => {\n            this.getGoogleDoc(item);\n          }}\n        >\n          {window && window.canShareUrl ? \"share\" : \"file_download\"}\n        </i>\n      );\n    }\n  };\n\n  render() {\n    const documentInfo = this.props.documents.map((item, index) => {\n      return (\n        <div key={index}>\n          <Divider className=\"property-docs-divider\" />\n          <Row className=\"document-container\">\n            <Col md=\"6\">\n              {this.getFileIcon(item.mimeType)}\n              <div className=\"document-titles\">{this.getDocument(item)}</div>\n            </Col>\n            <Col md=\"4\">{this.isClientView(item)}</Col>\n            <Col md=\"2\">{this.showDownloadButton(item)}</Col>\n          </Row>\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"property-docs\">\n        <Panel className=\"sm-panel\">\n          <Row className=\"panel-heading\">\n            <p className=\"document-folder-title\">{this.props.typeName}</p>\n          </Row>\n          {documentInfo}\n        </Panel>\n        <Modal\n          className=\"loading-modal\"\n          isOpen={this.state.downloading}\n          ariaHideApp={false}\n          contentLabel=\"Modal\"\n          shouldCloseOnOverlayClick={false}\n        >\n          <div className=\"centered-spinner\">\n            <img\n              src=\"/images/icons/spin.svg\"\n              className=\"loading-spinner\"\n              alt=\"loading spinner\"\n            />\n          </div>\n        </Modal>\n      </div>\n    );\n  }\n}\nexport default DealDocuments;\n","import React from \"react\";\nimport DealDocuments from \"./DealDocuments\";\nimport Modal from \"react-modal\";\n\nclass DealDocumentsPage extends React.Component {\n  render() {\n    let noDocuments = null;\n    let dealDocuments = null;\n    if (this.props.documents) {\n      dealDocuments =\n        !this.props.loading &&\n        this.props.documents.map((item, i) => (\n          <DealDocuments\n            key={i}\n            typeName={item.TypeName}\n            documents={item.info}\n            token={this.props.token}\n            authentication={this.props.authentication}\n          />\n        ));\n    }\n\n    if (this.props.noDocuments) {\n      noDocuments = (\n        <div>\n          <div className=\"grey-circle\">\n            <i className=\"material-icons\">warning</i>\n          </div>\n          <h2 className=\"no-results\">This deal has no documents</h2>\n        </div>\n      );\n    }\n    return (\n      <div className=\"deal-docs-page\">\n        <Modal\n          className=\"loading-modal\"\n          ariaHideApp={false}\n          contentLabel=\"modal\"\n          isOpen={this.props.loading}\n          shouldCloseOnOverlayClick={false}\n        >\n          <div className={this.props.loading ? \"centered-spinner\" : \"hidden\"}>\n            <img\n              src=\"/images/icons/spin.svg\"\n              className=\"loading-spinner\"\n              alt=\"loading spinner\"\n            />\n          </div>\n        </Modal>\n        {noDocuments}\n        {dealDocuments}\n      </div>\n    );\n  }\n}\n\nexport default DealDocumentsPage;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as dealDetailsActions from \"../../actions/dealDetailsActions\";\nimport DealDocumentsPage from \"./DealDocumentsPage\";\nimport getParameterByName from \"../common/getParameterByName\";\n\nclass DealDocumentsContainer extends React.Component {\n  componentDidMount() {\n    this.props.actions.loadDealDocuments(\n      this.props.match.params.dealId\n        ? this.props.match.params.dealId\n        : getParameterByName(\"deal_id\")\n        ? getParameterByName(\"deal_id\")\n        : \"\"\n    );\n  }\n\n  render() {\n    return (\n      <DealDocumentsPage\n        documents={this.props.dealDetails.documents}\n        noDocuments={this.props.dealDetails.noDocuments}\n        loading={this.props.dealDetails.loading}\n        token={localStorage.getItem(\"auth_token\")}\n        authentication={JSON.parse(localStorage.getItem(\"data\"))}\n      />\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    dealDetails: state.dealDetails,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(dealDetailsActions, dispatch),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DealDocumentsContainer);\n"],"sourceRoot":""}