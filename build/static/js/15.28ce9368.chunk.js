(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[15],{753:function(e,t,a){"use strict";var n=a(9),o=a(8),i=a(12),s=a(11),r=a(0),c=a.n(r),l=a(72),p=a.n(l),d=a(46),u=a.n(d),m=a(73),h=a.n(m),f=a(34),v=a.n(f),g=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={rating:o.props.client_rating},o}return Object(o.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.submitRatingModal(this.props.contactId,this.state.rating)}},{key:"onChangeRating",value:function(e){this.setState({rating:e.target.value})}},{key:"render",value:function(){var e=this.props.ratingList.map((function(e){return c.a.createElement(u.a,{key:e.list_type_id,value:e.list_type_id,label:e.value})}));return c.a.createElement(p.a,{className:"rating-modal",isOpen:this.props.isOpen,onRequestClose:this.props.onRequestClose,style:{content:{margin:"auto"}},ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!0},c.a.createElement("div",{className:"modal-form"},c.a.createElement("p",{className:"add-note-modal"},"Rating"),c.a.createElement(h.a,{defaultValue:this.state.rating,onChange:this.onChangeRating.bind(this),label:"Change Rating"},e),c.a.createElement("div",{className:"add-note-buttons"},c.a.createElement(v.a,{variant:"flat",onClick:this.props.onRequestClose,className:"cancel-btn"},"cancel"),c.a.createElement(v.a,{variant:"flat",onClick:this.onSubmit.bind(this),type:"submit",value:"submit"},"Save"))))}}]),a}(c.a.Component);t.a=g},754:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forceCheck=t.lazyload=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=u(o),s=u(a(32)),r=u(a(13)),c=a(755),l=u(a(756)),p=u(a(757)),d=u(a(758));function u(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=0,g=0,b=0,y=0,E="data-lazyload-listened",C=[],_=[],O=!1;try{var k=Object.defineProperty({},"passive",{get:function(){O=!0}});window.addEventListener("test",null,k)}catch(R){}var M=!!O&&{capture:!1,passive:!0},w=function(e){var t=s.default.findDOMNode(e);if(t instanceof HTMLElement){var a=(0,l.default)(t);(e.props.overflow&&a!==t.ownerDocument&&a!==document&&a!==document.documentElement?function(e,t){var a=s.default.findDOMNode(e),n=void 0,o=void 0,i=void 0,r=void 0;try{var c=t.getBoundingClientRect();n=c.top,o=c.left,i=c.height,r=c.width}catch(R){n=v,o=g,i=y,r=b}var l=window.innerHeight||document.documentElement.clientHeight,p=window.innerWidth||document.documentElement.clientWidth,d=Math.max(n,0),u=Math.max(o,0),m=Math.min(l,n+i)-d,h=Math.min(p,o+r)-u,f=void 0,E=void 0,C=void 0,_=void 0;try{var O=a.getBoundingClientRect();f=O.top,E=O.left,C=O.height,_=O.width}catch(R){f=v,E=g,C=y,_=b}var k=f-d,M=E-u,w=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return k-w[0]<=m&&k+C+w[1]>=0&&M-w[0]<=h&&M+_+w[1]>=0}(e,a):function(e){var t=s.default.findDOMNode(e);if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var a=void 0,n=void 0;try{var o=t.getBoundingClientRect();a=o.top,n=o.height}catch(R){a=v,n=y}var i=window.innerHeight||document.documentElement.clientHeight,r=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return a-r[0]<=i&&a+n+r[1]>=0}(e))?e.visible||(e.props.once&&_.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},N=function(){for(var e=0;e<C.length;++e){var t=C[e];w(t)}_.forEach((function(e){var t=C.indexOf(e);-1!==t&&C.splice(t,1)})),_=[]},S=void 0,j=null,A=function(e){function t(e){m(this,t);var a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.visible=!1,a}return f(t,e),n(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"===typeof t&&(e=e.document.querySelector(t));var a=void 0!==this.props.debounce&&"throttle"===S||"debounce"===S&&void 0===this.props.debounce;if(a&&((0,c.off)(e,"scroll",j,M),(0,c.off)(window,"resize",j,M),j=null),j||(void 0!==this.props.debounce?(j=(0,p.default)(N,"number"===typeof this.props.debounce?this.props.debounce:300),S="debounce"):void 0!==this.props.throttle?(j=(0,d.default)(N,"number"===typeof this.props.throttle?this.props.throttle:300),S="throttle"):j=N),this.props.overflow){var n=(0,l.default)(s.default.findDOMNode(this));if(n&&"function"===typeof n.getAttribute){var o=+n.getAttribute(E)+1;1===o&&n.addEventListener("scroll",j,M),n.setAttribute(E,o)}}else if(0===C.length||a){var i=this.props,r=i.scroll,u=i.resize;r&&(0,c.on)(e,"scroll",j,M),u&&(0,c.on)(window,"resize",j,M)}C.push(this),w(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,l.default)(s.default.findDOMNode(this));if(e&&"function"===typeof e.getAttribute){var t=+e.getAttribute(E)-1;0===t?(e.removeEventListener("scroll",j,M),e.removeAttribute(E)):e.setAttribute(E,t)}}var a=C.indexOf(this);-1!==a&&C.splice(a,1),0===C.length&&"undefined"!==typeof window&&((0,c.off)(window,"resize",j,M),(0,c.off)(window,"scroll",j,M))}},{key:"render",value:function(){return this.visible?this.props.children:this.props.placeholder?this.props.placeholder:i.default.createElement("div",{style:{height:this.props.height},className:"lazyload-placeholder"})}}]),t}(o.Component);A.propTypes={once:r.default.bool,height:r.default.oneOfType([r.default.number,r.default.string]),offset:r.default.oneOfType([r.default.number,r.default.arrayOf(r.default.number)]),overflow:r.default.bool,resize:r.default.bool,scroll:r.default.bool,children:r.default.node,throttle:r.default.oneOfType([r.default.number,r.default.bool]),debounce:r.default.oneOfType([r.default.number,r.default.bool]),placeholder:r.default.node,scrollContainer:r.default.oneOfType([r.default.string,r.default.object]),unmountIfInvisible:r.default.bool},A.defaultProps={once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var P=function(e){return e.displayName||e.name||"Component"};t.lazyload=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return function(a){function o(){m(this,o);var e=h(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return e.displayName="LazyLoad"+P(t),e}return f(o,a),n(o,[{key:"render",value:function(){return i.default.createElement(A,e,i.default.createElement(t,this.props))}}]),o}(o.Component)}},t.default=A,t.forceCheck=N},755:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,a,n){n=n||!1,e.addEventListener?e.addEventListener(t,a,n):e.attachEvent&&e.attachEvent("on"+t,(function(t){a.call(e,t||window.event)}))},t.off=function(e,t,a,n){n=n||!1,e.removeEventListener?e.removeEventListener(t,a,n):e.detachEvent&&e.detachEvent("on"+t,a)}},756:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,a=/(scroll|auto)/,n=e;n;){if(!n.parentNode)return e.ownerDocument||document.documentElement;var o=window.getComputedStyle(n),i=o.position,s=o.overflow,r=o["overflow-x"],c=o["overflow-y"];if("static"===i&&t)n=n.parentNode;else{if(a.test(s)&&a.test(r)&&a.test(c))return n;n=n.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},757:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n=void 0,o=void 0,i=void 0,s=void 0,r=void 0,c=function c(){var l=+new Date-s;l<t&&l>=0?n=setTimeout(c,t-l):(n=null,a||(r=e.apply(i,o),n||(i=null,o=null)))};return function(){i=this,o=arguments,s=+new Date;var l=a&&!n;return n||(n=setTimeout(c,t)),l&&(r=e.apply(i,o),i=null,o=null),r}}},758:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n,o;return t||(t=250),function(){var i=a||this,s=+new Date,r=arguments;n&&s<n+t?(clearTimeout(o),o=setTimeout((function(){n=s,e.apply(i,r)}),t)):(n=s,e.apply(i,r))}}},760:function(e,t,a){"use strict";var n=a(10),o=a.n(n),i=a(19),s=a(9),r=a(8),c=a(17),l=a(12),p=a(11),d=a(26),u=a.n(d),m=a(0),h=a.n(m),f=a(2),v=a(87),g=a.n(v),b=a(256),y=a(753),E=a(65),C=a(39),_=a.n(C),O=a(80),k=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={date:!1,modalIsAddOpen:!1,ratingModalIsOpen:!1,ratingModalClose:!1,showDatePicker:!1},n.onChange=n.onChange.bind(Object(c.a)(n)),n.openAddModal=n.openAddModal.bind(Object(c.a)(n)),n.afterOpenModal=n.afterOpenModal.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.closeAddModal=n.closeAddModal.bind(Object(c.a)(n)),n.onClickHandler=n.onClickHandler.bind(Object(c.a)(n)),n.validateWebsite=n.validateWebsite.bind(Object(c.a)(n)),n.navigateToProperties=n.navigateToProperties.bind(Object(c.a)(n)),n}return Object(r.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({ratingModalClose:this.props.updateRatingSuccess})}},{key:"validateWebsite",value:function(e){return e.match(/^[a-zA-Z]+:\/\//)||(e="http://"+e),e}},{key:"onClickHandler",value:function(e){this.props.setPageAndScrollPos(window.scrollY),this.props.searchType?f.f.go("/contacts/details/".concat(e,"/").concat(encodeURIComponent(this.props.page),"?").concat(Object(O.a)({type:this.props.searchType}))):f.f.go("/contacts/details/".concat(e,"/").concat(encodeURIComponent(this.props.page)))}},{key:"afterOpenModal",value:function(){}},{key:"openAddModal",value:function(){this.setState({modalIsAddOpen:!0,note:""})}},{key:"handleSubmit",value:function(e,t){e.preventDefault(),this.setState({modalIsAddOpen:!1});var a=new Date,n={note_date_time:_()(a).format("MM/DD/YYYY h:mm "),user_name:JSON.parse(localStorage.getItem("data")).user_name,activity_note:t};this.props.item.notes.push(n),this.props.updateNote(this.props.item.contact_id,t)}},{key:"closeAddModal",value:function(e){e.preventDefault(),this.setState({modalIsAddOpen:!1})}},{key:"onChange",value:function(e){var t=_()(e).format("YYYY-MM-DD");this.props.changeDate(this.props.item.contact_id,t)}},{key:"navigateToProperties",value:function(){f.f.go("/properties/deals?".concat(Object(O.a)({contact_id:this.props.item.contact_id,previous_page:encodeURIComponent(window.location.pathname)+window.location.search,contact_name:this.props.item.contact_first_name+" "+this.props.item.contact_last_name})))}},{key:"openRatingModal",value:function(){this.setState({ratingModalIsOpen:!0})}},{key:"closeRatingModal",value:function(){this.setState({ratingModalIsOpen:!1})}},{key:"submitRatingModal",value:function(){var e=Object(i.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.changeClientRating(t,a);case 2:this.props.updateRatingSuccess?this.setState({ratingModalIsOpen:!1}):this.setState({ratingModalIsOpen:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"showDatePicker",value:function(){this.setState({showDatePicker:!0})}},{key:"render",value:function(){var e=this,t=null,a=null;return 1===this.props.item.is_primary_banker&&(t=h.a.createElement("p",{className:"green-label"},"Primary Banker")),null!=this.props.item.active_number&&this.props.item.contact_info.phone&&(a=this.props.item.contact_info.phone.find((function(e){return"1"===e.isPrimary}))),h.a.createElement("div",{className:"contact-container mui--z1"},h.a.createElement("div",null,h.a.createElement(u.a,null,h.a.createElement(y.a,{isOpen:this.state.ratingModalIsOpen,ratingList:this.props.ratingList,contactId:this.props.item.contact_id,submitRatingModal:this.submitRatingModal.bind(this),client_rating:this.props.item.client_rating,onRequestClose:this.closeRatingModal.bind(this)}),h.a.createElement(g.a,{md:"6",sm:"6",xs:"12"},h.a.createElement("div",{className:"flex-center"},h.a.createElement("h4",{onClick:this.onClickHandler.bind(null,this.props.item.contact_id),className:"contacts-name"},this.props.item.contact_first_name?this.props.item.contact_first_name:""," ",this.props.item.contact_last_name?this.props.item.contact_last_name:""),this.props.item.client_rating?h.a.createElement("div",{className:"rating-contacts-properties",onClick:this.openRatingModal.bind(this)},this.props.item.client_rating):"",1===this.props.item.property_count&&1===this.props.item.is_associated?h.a.createElement("div",{className:"rating-contacts-properties",onClick:this.navigateToProperties},this.props.item.property_count,h.a.createElement("span",null,"property")):"",this.props.item.property_count>1&&1===this.props.item.is_associated?h.a.createElement("div",{className:"rating-contacts-properties",onClick:this.navigateToProperties},this.props.item.property_count,h.a.createElement("span",null,"properties")):"",h.a.createElement("div",{className:"main-contacts"},t)),h.a.createElement(b.a,{isOpen:this.state.modalIsAddOpen,onRequestClose:this.closeAddModal,onAfterOpen:this.afterOpenModal,require:!0,text:{title:"Add note",button:"Save"},onSubmit:this.handleSubmit}),h.a.createElement("p",{className:"contacts-company"},this.props.item.company_name?this.props.item.company_name:"Company Name")),h.a.createElement(g.a,{md:"5",sm:"5",className:"text-right contacts-calendar-container"},1===this.props.item.is_associated?h.a.createElement("i",{className:"contacts-giveback material-icons",onClick:this.props.givebackContact.bind(null,this.props.item.contact_id)},"delete"):"",null!=this.props.item.owner_starred?h.a.createElement("div",{onClick:function(){e.props.updateStar(e.props.item.contact_id,e.props.item.owner_starred)},className:"star-wrapper inline-block",style:{height:"24px"}},h.a.createElement("p",null,h.a.createElement("span",{className:"quote-star"},h.a.createElement("i",{className:1===this.props.item.owner_starred?"material-icons star-icon-orange":"material-icons star-icon-gray"},"star")))):"",1===this.props.item.is_associated?this.props.item.activity_next_datetime&&_()(this.props.item.activity_next_datetime).isValid()||this.state.showDatePicker?h.a.createElement(E.a,{allowClear:!1,dateValue:this.props.item.activity_next_datetime,update:this.onChange}):h.a.createElement("div",{className:"inline-block padding-left",style:{display:"inline-flex",alignItems:"center"},onClick:function(){return e.showDatePicker()}},"no call date",h.a.createElement("i",{className:"material-icons xl-text ml-8"},"calendar_today")):""),h.a.createElement(g.a,{md:"1",sm:"1",onClick:this.onClickHandler.bind(null,this.props.item.contact_id)},h.a.createElement("i",{className:"material-icons contacts-toggle-arrow"},"keyboard_arrow_right"))),h.a.createElement(u.a,null,a&&"Mobile"===a.label?h.a.createElement(g.a,{md:"3",className:"contact-detail"},h.a.createElement("div",null,h.a.createElement("img",{src:"/images/icons/cellphone-gray.png",alt:"cellphone-gray"}),h.a.createElement("p",null,h.a.createElement("a",{href:"tel:".concat(a.value)},a.value)))):"",a&&"Home"===a.label?h.a.createElement(g.a,{md:"3",className:"contact-detail"},h.a.createElement("div",null,h.a.createElement("img",{src:"/images/icons/phone-gray.png",alt:"phone-gray"}),h.a.createElement("p",null,h.a.createElement("a",{href:"tel:".concat(a.value)},a.value)))):"",a&&"Office"===a.label?h.a.createElement(g.a,{md:"3",className:"contact-detail"},h.a.createElement("div",null,h.a.createElement("img",{src:"/images/icons/phone-gray.png",alt:"phone-gray"}),h.a.createElement("p",null,h.a.createElement("a",{href:"tel:".concat(a.value)},a.value)))):"",a&&"Company"===a.label?h.a.createElement(g.a,{md:"3",className:"contact-detail"},h.a.createElement("div",null,h.a.createElement("img",{src:"/images/icons/phone-gray.png",alt:"phone-gray"}),h.a.createElement("p",null,h.a.createElement("a",{href:"tel:".concat(a.value)},a.value)))):"",this.props.item.active_email?h.a.createElement(g.a,{md:"3",className:"contact-detail"},h.a.createElement("div",null,h.a.createElement("img",{src:"/images/icons/email-gray.png",alt:"email-gray"}),h.a.createElement("p",null,h.a.createElement("a",{href:"mailto:".concat(this.props.item.active_email)},this.props.item.active_email)))):""),1===this.props.item.is_associated?h.a.createElement(u.a,null,h.a.createElement(g.a,{md:"12",className:"contact-detail"},h.a.createElement("img",{src:"/images/icons/note.png",alt:"note"}),h.a.createElement("span",null,this.props.item.notes[0].note_date_time?h.a.createElement("div",{className:"contacts-add-note-container"},this.props.item.activity_notes.length>170?this.props.item.activity_notes.substring(0,170)+" ...":this.props.item.activity_notes,h.a.createElement("img",{onClick:this.openAddModal,className:"contacts-add-note-icon",alt:"add",src:"/images/icons/add.png"})):"Click the icon to add a note"),this.props.item.notes[0].note_date_time?"":h.a.createElement("div",{className:"contacts-add-note-container",onClick:this.openAddModal},h.a.createElement("img",{className:"contacts-add-note-icon",src:"/images/icons/add.png",alt:"add-note-icon"})))):""))}}]),a}(h.a.Component);t.a=k},761:function(e,t,a){"use strict";var n=a(9),o=a(8),i=a(12),s=a(11),r=a(0),c=a.n(r),l=a(72),p=a.n(l),d=a(38),u=a.n(d),m=a(34),h=a.n(m),f=a(257),v=a.n(f),g=a(73),b=a.n(g),y=a(46),E=a.n(y),C=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={reasonCode:0,note:"",errorMessage:""},o}return Object(o.a)(a,[{key:"noteChange",value:function(e){this.setState({note:e.target.value})}},{key:"closeModal",value:function(){this.props.closeModal(),this.setState({note:"",reasonCode:0})}},{key:"updateSelect",value:function(e){this.setState({reasonCode:""===e.target.value?0:e.target.value})}},{key:"valid",value:function(){var e=[];if(0===this.state.reasonCode&&e.push("Reason Code"),"other"!==this.state.reasonCode||this.state.note||e.push("Note"),e.length){var t=e.join(", ").replace(/,(?!.*,)/gim," and");return t+=" is required!",this.setState({errorMessage:t}),!1}return this.setState({errorMessage:""}),!0}},{key:"submit",value:function(e){e.preventDefault(),this.valid()&&(this.setState({note:"",reasonCode:0}),this.setState({note:"",reasonCode:0}),this.valid()&&("other"===this.state.reasonCode?this.props.onSubmit(this.state.note,0):this.props.onSubmit(this.state.note,this.state.reasonCode)))}},{key:"render",value:function(){return c.a.createElement(p.a,{className:"note-modal",isOpen:this.props.isOpen,onRequestClose:this.props.onRequestClose,style:{content:{margin:"auto"}},ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!1},c.a.createElement(u.a,{className:"modal-form"},c.a.createElement("p",{className:"modal-title"},"Giveback Contact"),c.a.createElement(b.a,{value:this.state.reasonCode,onChange:this.updateSelect.bind(this)},c.a.createElement(E.a,{label:"Please Select...",value:0}),this.props.reasonCodes.map((function(e,t){return c.a.createElement(E.a,{key:t,value:e.id,label:e.reason})})),c.a.createElement(E.a,{value:"other",label:"Other"})),c.a.createElement(v.a,{rows:2,value:this.state.note,placeholder:"Note (Optional)",onChange:this.noteChange.bind(this),floatingLabel:!0}),c.a.createElement("span",{className:"error-block"},this.state.errorMessage),c.a.createElement("div",{className:"add-note-buttons"},c.a.createElement(h.a,{variant:"flat",onClick:this.closeModal.bind(this)},"Cancel"),c.a.createElement(h.a,{variant:"flat",onClick:this.submit.bind(this),type:"submit",value:"submit"},"Giveback"))))}}]),a}(c.a.Component);t.a=C},939:function(e,t,a){"use strict";a.r(t);var n=a(10),o=a.n(n),i=a(19),s=a(9),r=a(8),c=a(17),l=a(12),p=a(11),d=a(0),u=a.n(d),m=a(26),h=a.n(m),f=a(34),v=a.n(f),g=a(760),b=a(6),y=a(23),E=a(127),C=a(761),_=a(72),O=a.n(_),k=a(2),M=a(25),w=a(258),N=a(754),S=a.n(N),j=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loginModalOpen:!1,ratingModalIsOpen:!1,ratingModalClose:!1,client_rating:"2",contact_id:""},n.changeDate=n.changeDate.bind(Object(c.a)(n)),n.updateNote=n.updateNote.bind(Object(c.a)(n)),n.refresh=n.refresh.bind(Object(c.a)(n)),n.updateStar=n.updateStar.bind(Object(c.a)(n)),n.setPageAndScrollPos=n.setPageAndScrollPos.bind(Object(c.a)(n)),n.givebackContact=n.givebackContact.bind(Object(c.a)(n)),n.closeModal=n.closeModal.bind(Object(c.a)(n)),n.handleModalSubmit=n.handleModalSubmit.bind(Object(c.a)(n)),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,this.props.contacts.previousScrollPos),this.getContacts(),this.props.contactActions.getContactRatingList(),this.props.contactActions.getGivebackReasonCodes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.location.search!==e.location.search&&this.getContacts()}},{key:"getContacts",value:function(){this.props.contactActions.defaultContactsLoad(Object(M.a)("page")||1)}},{key:"changeDate",value:function(e,t){this.props.contactActions.updateDate(e,t)}},{key:"updateNote",value:function(e,t){this.props.contactActions.updateNoteDefaultContacts(e,t)}},{key:"updateStar",value:function(e,t){this.props.contactActions.updateStarDefaultContact(e,t)}},{key:"refresh",value:function(){this.componentDidMount()}},{key:"setPageAndScrollPos",value:function(e){this.props.contactActions.setPageAndScrollPos(e)}},{key:"givebackContact",value:function(e){this.setState({contact_id:e,loginModalOpen:!0})}},{key:"closeModal",value:function(e){e.preventDefault(),this.setState({loginModalOpen:!1})}},{key:"handleModalSubmit",value:function(e,t){this.setState({loginModalOpen:!1}),this.props.contactActions.givebackContact(this.state.contact_id,e,t,"defaultContacts")}},{key:"changeClientRating",value:function(){var e=Object(i.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.contactActions.changeClientRating(t,a,"defaultContacts");case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("data"));return u.a.createElement("div",null,this.props.contacts.loading?u.a.createElement(O.a,{className:"loading-modal",isOpen:this.props.contacts.loading,ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!1},u.a.createElement("div",{className:this.props.contacts.loading?"centered-spinner":"hidden"},u.a.createElement("img",{src:"/images/icons/spin.svg",className:"loading-spinner",alt:"loading spinner"}))):u.a.createElement(h.a,null,u.a.createElement(C.a,{isOpen:this.state.loginModalOpen,onRequestClose:this.closeModal,onSubmit:this.handleModalSubmit,reasonCodes:this.props.contacts.reasonCodes}),u.a.createElement(h.a,{className:"contacts-calls-container"},u.a.createElement("div",{className:"total-calls"},this.props.contacts.defaultContacts.data.length>0&&u.a.createElement("p",null,"Call Today :"," ",this.props.contacts.defaultContacts.today_call_total)),u.a.createElement("div",{className:"flex-justify-center"},this.props.contacts.defaultContacts.data.length>0&&u.a.createElement("div",{className:"refresh-button pointer",onClick:this.refresh},u.a.createElement("i",{className:"material-icons"},"refresh"),u.a.createElement("p",{className:"inline-block"},"Refresh")),t&&t.addons.includes(46)&&u.a.createElement(v.a,{variant:"flat",className:"button btn-accent mui--z1",onClick:function(){return k.f.go("/contacts/new-contact")}},"Add Contact"))),this.props.contacts.defaultContacts.data.length>0?u.a.createElement("div",null,u.a.createElement(h.a,null,this.props.contacts.defaultContacts.data.map((function(t){return u.a.createElement(S.a,{key:t.contact_id,height:200,offset:100,once:!0},u.a.createElement(g.a,{item:t,setPageAndScrollPos:e.setPageAndScrollPos,givebackContact:e.givebackContact,updateStar:e.updateStar,changeDate:e.changeDate,updateNote:e.updateNote,changeClientRating:e.changeClientRating.bind(e),ratingList:e.props.contacts.ratingList,updateRatingSuccess:e.props.contacts.updateRatingSuccess,page:"contacts/today"}))}))),u.a.createElement(w.a,{currentPage:this.props.contacts.defaultContacts.current_page,nextPageUrl:this.props.contacts.defaultContacts.next_page_url})):u.a.createElement("div",{className:"calls-today"},u.a.createElement("div",{className:"grey-circle"},u.a.createElement("i",{className:"material-icons"},"phone")),u.a.createElement("h2",{className:"no-results"},"You have no calls today"))))}}]),a}(u.a.Component);t.default=Object(b.b)((function(e){return{contacts:e.contacts}}),(function(e){return{contactActions:Object(y.b)(E,e)}}))(j)}}]);
//# sourceMappingURL=15.28ce9368.chunk.js.map