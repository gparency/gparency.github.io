(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[62],{970:function(e,t,a){"use strict";a.r(t);var n=a(9),o=a(8),s=a(12),l=a(11),i=a(0),r=a.n(i),c=a(6),u=a(23),m=a(2),p=a(255),d=a(166),h=a(164),v=a(26),g=a.n(v),E=a(87),b=a.n(E),f=function(e){return r.a.createElement("div",{className:"bank-quote"},r.a.createElement("div",{className:"panel mui-panel"},r.a.createElement(g.a,{className:"panel-heading"},r.a.createElement(b.a,{md:"10"},r.a.createElement("div",{className:"bank-quote-title"},e.item.bankName)),r.a.createElement(b.a,{md:"2"},1===e.isReward?r.a.createElement("div",{className:"bank-quote-reward"},r.a.createElement("img",{src:"/images/icons/badge.png",alt:"badge",className:"img-responsive",id:"badge-icon"})):""),r.a.createElement(b.a,{md:"2"},r.a.createElement("div",null,r.a.createElement("span",{className:"deal-tag",style:{background:e.status.color}},e.status.text)))),r.a.createElement("div",{className:"panel-body"},r.a.createElement(g.a,null,r.a.createElement(b.a,{md:"12"},r.a.createElement(b.a,{md:"3"},r.a.createElement("p",{className:"small-title panel-info-title"},"Banker Name"),e.item.banker_id>0?r.a.createElement("p",{className:"large-text panel-info-value client-name",onClick:function(){return e.openContactModal(e.item.banker_id)}},e.item.banker):r.a.createElement("p",{className:"large-text panel-info-value"},"N/A")),r.a.createElement(b.a,{md:"3"},r.a.createElement("p",{className:"small-title panel-info-title"},1===e.isReward?"Updated Date":"Requested Date"),r.a.createElement("p",{className:"large-text panel-info-value"},e.item.quoteDate?e.item.quoteDate:"N/A")),r.a.createElement(b.a,{md:"3"},r.a.createElement("p",{className:"small-title panel-info-title"},"Requested Loan Amount"),r.a.createElement("p",{className:"large-text panel-info-value"},e.item.requestedAmount?e.item.requestedAmount:"N/A")),e.quote)),e.is_broker&&e.item.notes?r.a.createElement(g.a,{className:"note-container"},r.a.createElement(b.a,{md:"10"},r.a.createElement("p",{className:"small-title deal-info-title"},"Last Note"),r.a.createElement("div",null,r.a.createElement("p",{className:"note"},e.item.notes," \xa0"),r.a.createElement("p",{className:"last-update"},r.a.createElement("i",null,"Last updated by ",e.item.notes_edited_by," on"," ",Object(m.n)(e.item.notes_datetime)))))):"",r.a.createElement(g.a,{className:e.isPW?"deal-options":"hidden"},r.a.createElement("div",{className:1===e.item.missingQuotesSnooze?"deal-options-left":"deal-options-left orange-text"},r.a.createElement("p",{onClick:e.quoteDialog.bind(null,e.item.quoteId,e.index)},"Quote"),r.a.createElement("p",{onClick:e.passQuote.bind(null,e.item.quoteId,e.index)},"Pass")),r.a.createElement("div",{className:(e.item.missingQuotesSnooze,"deal-options-right")},r.a.createElement("p",{onClick:e.snoozeDeal.bind(null,e.item.quoteId,e.index),className:(e.item.missingQuotesSnooze,"red-text")},r.a.createElement("img",{src:"/images/icons/snooze-icon.png",alt:"snooze-icon",className:1===e.item.missingQuotesSnooze?"deal-snooze-icon":"hidden"}),1===e.item.missingQuotesSnooze?"Snoozed":"Snooze"),r.a.createElement("p",{onClick:e.irrelevantDeal.bind(null,e.item.quoteId,e.index),className:1===e.item.missingQuotesSnooze?"":"red-text"},"Irrelevant"))))))},D=function(e){return r.a.createElement(b.a,{md:"3"},r.a.createElement("p",{className:"small-title panel-info-title"},e.title),r.a.createElement("p",{className:"large-text panel-info-value"},e.value?e.value:"N/A"))},k=a(104),N=a(142),q=a(165),y=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={showContactModal:!1,contactId:null},e.openContactModal=function(t){e.props.getFullContactInfo(t),e.setState({showContactModal:!0,contactId:t})},e.closeContactModal=function(){e.setState({showContactModal:!1})},e}return Object(o.a)(a,[{key:"getStatus",value:function(e){var t=null,a=null;return 1===e?(t="blue",a="Waiting"):2===e?(t="green",a="Got Quote"):3===e?(t="orange",a="Passed"):4===e?(t="red",a="Irrelevant"):7===e&&(t="yellow",a="Waiting on EU"),{text:a,color:t}}},{key:"getQuote",value:function(e){var t=[];return 2===e.quoteStatus&&(t.push(r.a.createElement(D,{key:"5",title:"Quoted Amount",value:e.quotedAmount})),t.push(r.a.createElement(D,{key:"6",title:"Rate",value:e.rate})),t.push(r.a.createElement(D,{key:"7",title:"Term / Amortization",value:e.term+" / "+e.amortization})),t.push(r.a.createElement(D,{key:"8",title:"LTV",value:e.ltv})),t.push(r.a.createElement(D,{key:"9",title:"Recourse",value:e.recourse})),t.push(r.a.createElement(D,{key:"10",title:"Prepay",value:e.prepayType})),t.push(r.a.createElement(D,{key:"11",title:"Annual Payments",value:e.annualAmount}))),t}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.bankQuotes,o=t.quoteDialog,s=t.passQuote,l=t.snoozeDeal,i=t.irrelevantDeal,c=t.loadingContact,u=t.contact;return r.a.createElement("div",null,a?r.a.createElement(k.b,null):r.a.createElement("div",null,n&&n.length>0?n.map((function(t,a){return r.a.createElement(f,{key:a,item:t,index:a,isPW:window.location.pathname.includes("broker"),notes_datetime:t.notes_datetime,notes_edited_by:t.notes_edited_by,quoteDialog:o,passQuote:s,snoozeDeal:l,irrelevantDeal:i,is_broker:JSON.parse(localStorage.getItem("data")).is_broker,isReward:t.IsReward,status:e.getStatus(t.quoteStatus),quote:e.getQuote(t),openContactModal:e.openContactModal})})):r.a.createElement("div",null,r.a.createElement("div",{className:"grey-circle"},r.a.createElement("i",{className:"material-icons"},"warning")),r.a.createElement("h2",{className:"no-results"},"This deal has no bank quotes")),this.state.showContactModal&&r.a.createElement(q.a,{key:this.state.contactId,isOpen:this.state.showContactModal,onRequestClose:this.closeContactModal,onAfterOpen:function(){},loading:c,contact:u,noContact:Object(N.l)(u)})))}}]),a}(r.a.Component),S=a(88),C=a(34),O=a.n(C),z=a(72),Q=a.n(z),M=a(38),A=a.n(M),w=a(39),_=a.n(w),I=a(65),P=a(256),x=function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(n.a)(this,a),(o=t.call(this,e)).state={passModalOpen:!1,snoozeModalOpen:!1,irrelevantModalOpen:!1,snoozeDate:_()().format("MM/DD/YYYY"),quote_id:""},o}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.comps.previousScrollPos&&window.scrollTo(0,this.props.comps.previousScrollPos[this.props.comps.previousScrollPos.length-1]),this.props.actions.loadBankQuotes(this.props.match.params.dealId),this.props.comps.previousScrollPos&&this.props.comps.previousScrollPos.length>=2&&this.props.compsActions.popPageAndScrollPos()}},{key:"quoteDialog",value:function(e){this.props.compsActions.setPageAndScrollPos(window.location.pathname,window.scrollY);var t=encodeURIComponent(window.location.pathname);m.f.go("/quote-form/1/".concat(e,"/").concat(t))}},{key:"passQuote",value:function(e){this.setState({passModalOpen:!0,quote_id:e})}},{key:"snoozeDeal",value:function(e){this.setState({snoozeModalOpen:!0,quote_id:e})}},{key:"irrelevantDeal",value:function(e){this.setState({irrelevantModalOpen:!0,quote_id:e})}},{key:"submitPassDialog",value:function(e,t){e.preventDefault(),this.props.actions.passDeal(this.state.quote_id,t),this.setState({passModalOpen:!1,quote_id:""})}},{key:"closePassDialog",value:function(e){e.preventDefault(),this.setState({passModalOpen:!1,quote_id:""})}},{key:"submitIrrelevantDialog",value:function(e,t){e.preventDefault(),this.props.actions.irrelevantDeal(this.state.quote_id,t),this.setState({irrelevantModalOpen:!1,quote_id:""})}},{key:"closeIrrelevantDialog",value:function(e){e.preventDefault(),this.setState({irrelevantModalOpen:!1,quote_id:""})}},{key:"submitSnoozeDialog",value:function(e){e.preventDefault(),this.props.actions.snoozeDeal(this.state.quote_id,this.state.snoozeDate),this.setState({snoozeModalOpen:!1,quote_id:"",snoozeDate:""})}},{key:"closeSnoozeDialog",value:function(e){e.preventDefault(),this.setState({snoozeModalOpen:!1,quote_id:"",snoozeDate:""})}},{key:"snoozeDateChange",value:function(e){this.setState({snoozeDate:e})}},{key:"closeQuoteUpdateErrorToast",value:function(){this.props.actions.closeUpdateIPDD()}},{key:"render",value:function(){var e=null;return this.props.missingQuotes.toast&&this.props.missingQuotes.toast.show&&(e=r.a.createElement(S.a,{closeToast:this.props.missingQuotesActions.closeToast,delay:6e3},r.a.createElement("div",{className:"success-message"},r.a.createElement("p",null,this.props.missingQuotes.toast.message),r.a.createElement(O.a,{variant:"flat",onClick:this.props.missingQuotesActions.closeToast},this.props.missingQuotes.toast.success?"Done":"Dismiss")))),this.props.dealDetails.errorMQBToast&&(e=r.a.createElement(S.a,{closeToast:this.closeQuoteUpdateErrorToast,delay:6e3},r.a.createElement("div",{className:"success-message"},r.a.createElement("p",null,this.props.dealDetails.message),r.a.createElement(O.a,{variant:"flat",onClick:this.closeQuoteUpdateErrorToast},"Done")))),r.a.createElement("div",null,r.a.createElement(y,{quoteDialog:this.quoteDialog.bind(this),passQuote:this.passQuote.bind(this),snoozeDeal:this.snoozeDeal.bind(this),irrelevantDeal:this.irrelevantDeal.bind(this),bankQuotes:this.props.dealDetails.bankQuotes,noBankQuotes:this.props.dealDetails.noBankQuotes,loading:this.props.dealDetails.loading,contact:this.props.dealDetails.contact,loadingContact:this.props.dealDetails.loadingContact,getFullContactInfo:this.props.actions.getFullContactInfo}),e,r.a.createElement(P.a,{isOpen:this.state.passModalOpen,onRequestClose:this.closePassDialog.bind(this),onAfterOpen:function(){},require:!1,text:{title:"Reason for passing (optional)",button:"PASS"},onSubmit:this.submitPassDialog.bind(this)}),r.a.createElement(P.a,{isOpen:this.state.irrelevantModalOpen,onRequestClose:this.closeIrrelevantDialog.bind(this),onAfterOpen:function(){},require:!1,text:{title:"Reason for marking irrelevant (optional)",button:"IRRELEVANT"},onSubmit:this.submitIrrelevantDialog.bind(this)}),r.a.createElement(Q.a,{className:"note-modal snooze-modal",isOpen:this.state.snoozeModalOpen,ariaHideApp:!1,contentLabel:"Modal",onAfterOpen:function(){},onRequestClose:this.closeSnoozeDialog.bind(this),shouldCloseOnOverlayClick:!0},r.a.createElement(A.a,{className:"modal-form"},r.a.createElement("p",{className:"add-note-modal"},"Snooze Until"),r.a.createElement(I.a,{allowClear:!1,dateValue:_()().format("YYYY-MM-DD"),onChange:this.snoozeDateChange.bind(this)}),r.a.createElement("div",{className:"add-note-buttons"},r.a.createElement(O.a,{variant:"flat",onClick:this.closeSnoozeDialog.bind(this)},"CANCEL"),r.a.createElement(O.a,{variant:"flat",onClick:this.submitSnoozeDialog.bind(this),type:"submit",value:"submit"},"OK")))))}}]),a}(r.a.Component);t.default=Object(c.b)((function(e){return{dealDetails:e.dealDetails,missingQuotes:e.missingQuotes,comps:e.comps}}),(function(e){return{actions:Object(u.b)(d,e),missingQuotesActions:Object(u.b)(p,e),compsActions:Object(u.b)(h,e)}}))(x)}}]);
//# sourceMappingURL=62.040b7255.chunk.js.map