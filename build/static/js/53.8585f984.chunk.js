(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[53],{818:function(e,a,t){"use strict";var l=t(9),n=t(8),s=t(12),o=t(11),c=t(0),r=t.n(c),i=t(26),p=t.n(i),m=t(87),d=t.n(m),u=t(210),E=t.n(u),h=t(165),v=t(39),f=t.n(v),N=t(2),g=function(e){return r.a.createElement(d.a,{md:"3"},r.a.createElement("p",{className:"small-title deal-info-title"},e.title),r.a.createElement("p",{className:"panel-info-value"},e.value?e.value:"N/A"))},k=t(25),b=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).openContactModal=function(e,a){a.stopPropagation(),e&&(n.props.getFullContactInfo(e),n.setState({modalOpen:!0}))},n.dealClick=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"property-details";e.stopPropagation();var t=e.target.offsetParent.className;if(!t.includes("Modal")&&!t.includes("react-date-picker")&&!t.includes("checkbox")){var l=n.props.deal,s=l.deal_id,o=l.total_violations,c=l.additional_properties;n.props.clickFunction("IP",s,o,c,a)}},n.state={modalOpen:!1,showMoreBrokers:!1},n.ref=r.a.createRef(),n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.deal.deal_id===Object(k.a)("deal_id")&&this.ref.current.scrollIntoView({block:"center",inline:"center"})}},{key:"closeContactModal",value:function(e){e.stopPropagation(),this.setState({modalOpen:!1})}},{key:"showMoreBrokersToggle",value:function(e){e.stopPropagation(),this.setState({showMoreBrokers:!this.state.showMoreBrokers})}},{key:"render",value:function(){var e=this,a=this.props,t=a.deal,l=t.deal_id,n=t.status_string,s=t.property_type_id,o=t.broker_starred,c=t.deal_name,i=t.city_state,m=t.property_type,u=t.property_address,v=t.additional_properties,k=t.full_name,b=t.contact_id,C=t.loan_amount,_=t.bank_name,O=t.banker_id,S=t.term,y=t.amortization,P=t.rate,w=t.expected_closing_date,j=t.brokers,A=t.notes,D=t.last_notes_by,M=t.notes_date,I=t.notes_due_date,x=t.note_count,B=t.TotalComps,T=t.total_complaints,F=t.total_violations,L=t.inNYC,q=a.contact,R=a.loadingContact,V=a.isSearchPage,Y="",z="",J=0,H=0;return j&&j.forEach((function(e){e.broker_name&&(e.broker_roles.includes("Originator")?(J>=1&&(Y+=", "),Y+=e.broker_name,J++):(H>=1&&(z+=", "),z+=e.broker_name,H++))})),r.a.createElement("div",{ref:this.ref,className:"ip-deal"},r.a.createElement("div",{className:"panel mui-panel",onClick:function(a){return e.dealClick(a)}},r.a.createElement(p.a,{className:"panel-heading"},r.a.createElement(d.a,{md:"10",sm:"10",xs:"9"},r.a.createElement("div",{className:"deal-name"},r.a.createElement("p",{className:"panel-info-value property-title"},r.a.createElement("b",null,c||""),r.a.createElement("span",{className:"deal-id"},"ID ",l),V&&r.a.createElement("span",{className:"deal-status-tag"},n)))),r.a.createElement(d.a,{md:"2",sm:"2",xs:"3"},r.a.createElement("div",{onClick:function(a){return e.props.updateStar(l,o,a)},className:"deal-star"},r.a.createElement("p",null,1===o?r.a.createElement("span",{className:"ip-quote-star"},r.a.createElement("i",{className:"material-icons star-icon-orange"},"star")):r.a.createElement("span",{className:"ip-quote-star"},r.a.createElement("i",{className:"material-icons star-icon-gray"},"star")))))),r.a.createElement(p.a,{className:"panel-body"},r.a.createElement(p.a,null,r.a.createElement(d.a,{md:"3"},r.a.createElement("div",null,r.a.createElement("p",{className:"small-title deal-info-title"},"Address"),r.a.createElement("p",{className:"panel-info-value"},u||""),r.a.createElement("p",{className:"panel-info-value"},i||"")),r.a.createElement("div",null,r.a.createElement("p",{className:"panel-info-value"},r.a.createElement("i",{className:"orange-text"},0===v?null:1===v?"1 other property":v+" other properties")))),r.a.createElement("div",null,r.a.createElement(d.a,{md:"3"},r.a.createElement("p",{className:"small-title deal-info-title"},"Property Type"),r.a.createElement("p",{className:"panel-info-value"},m||"N/A"))),r.a.createElement(d.a,{md:"3",onClick:function(a){return e.openContactModal(b,a)}},r.a.createElement("p",{className:"small-title deal-info-title"},"Name of Client"),r.a.createElement("p",{className:b?"panel-info-value client-name":"panel-info-value"},k||"N/A")),r.a.createElement("div",null,r.a.createElement(d.a,{md:"3"},r.a.createElement("p",{className:"small-title deal-info-title"},"Loan Amount"),r.a.createElement("p",{className:"panel-info-value"},C||"N/A")))),r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(d.a,{md:"3",onClick:function(a){return e.openContactModal(O,a)}},r.a.createElement("p",{className:"small-title deal-info-title"},"Bank"),r.a.createElement("p",{className:"panel-info-value ".concat(_?"client-name":"")},_||"N/A")),r.a.createElement(g,{key:"2",title:"Term / Amortization",value:(S||"--")+" / "+(y||"--")}),r.a.createElement(g,{key:"1",title:"Rate",value:P}),r.a.createElement(g,{key:"4",title:"Expected Closing Date",value:w}))),r.a.createElement(p.a,{className:"brokers-container"},r.a.createElement("p",{className:"small-title deal-info-title"},"Brokers"),r.a.createElement("p",{className:"bold-text"},Y),r.a.createElement("div",{className:"brokers-list"},r.a.createElement("p",{className:"xs-text"},z.length>155&&!this.state.showMoreBrokers?z.substring(0,z.substring(0,155).lastIndexOf(", "))+"...":z,z.length>150?r.a.createElement("span",{className:"orange-text",onClick:function(a){return e.showMoreBrokersToggle(a)}},this.state.showMoreBrokers?"Show Less":"Show More"):""))),r.a.createElement(p.a,{className:"note-container"},r.a.createElement(d.a,{md:"10",key:l},r.a.createElement("div",null,null!=A?r.a.createElement("div",null,r.a.createElement("p",{className:"small-title deal-info-title notes-title"},r.a.createElement("i",null,D," on ",M)),r.a.createElement("p",{className:"note"},A)):" "))),f()(I).isValid()?r.a.createElement(p.a,null,r.a.createElement("p",{className:"small-title notes-title"},"Remind me about this on"),r.a.createElement("div",{className:"remind-me"},r.a.createElement("p",null,r.a.createElement("i",{className:"material-icons"},"date_range"),f()(I).format("L")),r.a.createElement("p",null,r.a.createElement("i",{className:"material-icons"},"access_time"),f()(I).format("LT")))):" ",r.a.createElement(h.a,{isOpen:this.state.modalOpen,onRequestClose:function(a){return e.closeContactModal(a)},onAfterOpen:function(){},contact:q,noContact:Object(N.w)(q),loading:R}),r.a.createElement(E.a,null),r.a.createElement(p.a,{className:"note-options"},r.a.createElement("p",{className:"orange-text xs-text inline-block",onClick:function(a){return e.props.addDealNoteClick("IP",l,F,v,a)}},r.a.createElement("i",{className:"material-icons icon-left medium-text middle"},"add"),r.a.createElement("i",null,"Add Note")),r.a.createElement("div",{className:"view-all",onClick:function(a){return e.dealClick(a,"notes")}},r.a.createElement("p",null,"View All Notes"),r.a.createElement("p",null,x))),r.a.createElement(E.a,null)),r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(d.a,{md:"12"},r.a.createElement(p.a,{className:"comps-row"},r.a.createElement("div",{onClick:function(a){return e.props.compsClick(L,u,i,s,a)}},r.a.createElement("div",{className:null!==F?"border-right":""},r.a.createElement("p",{className:"violation-value comps"},Object(N.q)(B),r.a.createElement("span",null,"Comps")))),r.a.createElement("div",{className:null!==F?"comps-row-violations":"hidden",onClick:function(a){return e.dealClick(a,"violations")}},r.a.createElement("div",null,r.a.createElement("p",{className:"violation-value"},F,r.a.createElement("span",null,"Violations"))),r.a.createElement("div",null,r.a.createElement("p",{className:"violation-value"},T,r.a.createElement("span",null,"Complaints"))))))))))}}]),t}(r.a.Component);a.a=b},989:function(e,a,t){"use strict";t.r(a);var l=t(9),n=t(8),s=t(17),o=t(12),c=t(11),r=t(0),i=t.n(r),p=t(6),m=t(23),d=t(167),u=t(2),E=t(818),h=t(72),v=t.n(h),f=t(80),N=function(e){Object(o.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).addDealNotesClick=n.addDealNotesClick.bind(Object(s.a)(n)),n}return Object(n.a)(t,[{key:"dealClick",value:function(e,a,t,l,n){this.props.setPageAndScrollPos("/broker-deals/ip",window.scrollY),u.f.go("/broker-deal/".concat(e,"/").concat(a,"/").concat(n,"?").concat(Object(f.a)({violations:t,additional_properties:l,previous_page:window.location.pathname+window.location.search})))}},{key:"addDealNotesClick",value:function(e,a,t,l,n){n.stopPropagation(),u.f.go("/broker-deal/".concat(e,"/").concat(a,"/notes/add?").concat(Object(f.a)({violations:t,additional_properties:l})))}},{key:"compsClick",value:function(e,a,t,l,n){n.stopPropagation(),sessionStorage.setItem("comps_inNYC",e),this.props.setPageAndScrollPos("/broker-deals/ip",window.scrollY),this.props.submitCompsSearch("".concat(a," ").concat(t),l)}},{key:"render",value:function(){var e=this,a=this.props.suggestions.map((function(a,t){return i.a.createElement(E.a,{key:t,deal:a,contact:e.props.contact,updateStar:e.props.updateStar,clickFunction:e.dealClick.bind(e),addDealNoteClick:e.addDealNotesClick,loadingContact:e.props.loadingContact,compsClick:e.compsClick.bind(e),getFullContactInfo:e.props.getFullContactInfo})}));return i.a.createElement("div",{className:"ip-deal"},i.a.createElement("div",null,a),i.a.createElement(v.a,{className:"loading-modal",ariaHideApp:!1,contentLabel:"Modal",isOpen:this.props.loading,shouldCloseOnOverlayClick:!1},i.a.createElement("div",{className:this.props.loading?"centered-spinner":"hidden"},i.a.createElement("img",{src:"/images/icons/spin.svg",className:"loading-spinner",alt:"loading spinner"}))),i.a.createElement("div",{className:!this.props.loading&&(this.props.noIPDeals||this.props.suggestions&&this.props.suggestions.length<1)?"":"hidden"},i.a.createElement("div",null,i.a.createElement("div",{className:"grey-circle"},i.a.createElement("i",{className:"material-icons"},"warning")),i.a.createElement("h2",{className:"no-results"},"No Deals In Process"))))}}]),t}(i.a.Component),g=t(50),k=t(164),b=t(142),C=t(113),_=Object(b.j)(C.a,C.a.IP),O=function(e){Object(o.a)(t,e);var a=Object(c.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).updateStar=n.updateStar.bind(Object(s.a)(n)),n.updateSearch=n.updateSearch.bind(Object(s.a)(n)),n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.comps.previousScrollPos&&this.props.comps.previousScrollPos.length&&window.scrollTo(0,this.props.comps.previousScrollPos[this.props.comps.previousScrollPos.length-1]),this.props.compsActions.resetScrollPosition(),this.props.dealsActions.loadIPDeals()}},{key:"updateStar",value:function(e,a){this.props.dealsActions.updateStar(e,a,_)}},{key:"updateSearch",value:function(e){this.props.dealsActions.updateSearch(e,_)}},{key:"render",value:function(){return i.a.createElement(N,{ipDeals:this.props.ipDeals.ipDeals,contact:this.props.ipDeals.contact,suggestions:this.props.ipDeals.suggestions,updateSearch:this.updateSearch,loading:this.props.ipDeals.loading,loadingContact:this.props.ipDeals.loadingContact,noDeals:this.props.ipDeals.noIPDeals,updateStar:this.updateStar,getFullContactInfo:this.props.dealsActions.getFullContactInfo,setPageAndScrollPos:this.props.compsActions.setPageAndScrollPos,submitCompsSearch:this.props.compsActions.submitCompsSearch})}}]),t}(i.a.Component);a.default=Object(p.b)((function(e){return{ipDeals:e.ipDeals,comps:e.comps}}),(function(e){return{dealsActions:Object(m.b)(d,e),navigationTitleActions:Object(m.b)(g,e),compsActions:Object(m.b)(k,e)}}))(O)}}]);
//# sourceMappingURL=53.8585f984.chunk.js.map