(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[50],{749:function(e,t,a){"use strict";var s=a(9),o=a(8),n=a(12),l=a(11),i=a(0),r=a.n(i),p=a(72),c=a.n(p),d=a(34),m=a.n(d),h=function(e){Object(n.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(c.a,{className:"delete-modal",isOpen:this.props.isOpen,ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!0},r.a.createElement("p",{className:"bold-text"},this.props.message),r.a.createElement("div",{className:"modal-btns"},r.a.createElement(m.a,{variant:"flat",onClick:this.props.close},"CANCEL"),r.a.createElement(m.a,{variant:"flat",onClick:this.props.confirm},this.props.confirmBtnText?this.props.confirmBtnText:"YES")))}}]),a}(r.a.Component);t.a=h},976:function(e,t,a){"use strict";a.r(t);var s=a(9),o=a(8),n=a(12),l=a(11),i=a(0),r=a.n(i),p=a(6),c=a(23),d=a(17),m=a(26),h=a.n(m),u=a(87),N=a.n(u),D=a(210),v=a.n(D),E=a(39),f=a.n(E),k=a(2),b=a(749),w=function(e){Object(n.a)(a,e);var t=Object(l.a)(a);function a(e){var o;return Object(s.a)(this,a),(o=t.call(this,e)).state={showDeleteModal:!1,showMarkDoneModal:!1},o.openConfirmDeleteModal=o.openConfirmDeleteModal.bind(Object(d.a)(o)),o.closeConfirmDeleteModal=o.closeConfirmDeleteModal.bind(Object(d.a)(o)),o.openConfirmMarkDoneModal=o.openConfirmMarkDoneModal.bind(Object(d.a)(o)),o.closeConfirmMarkDoneModal=o.closeConfirmMarkDoneModal.bind(Object(d.a)(o)),o.markNoteDone=o.markNoteDone.bind(Object(d.a)(o)),o.deleteNote=o.deleteNote.bind(Object(d.a)(o)),o.updateNoteReview=o.updateNoteReview.bind(Object(d.a)(o)),o}return Object(o.a)(a,[{key:"openConfirmMarkDoneModal",value:function(){this.setState({showMarkDoneModal:!0})}},{key:"closeConfirmMarkDoneModal",value:function(){this.setState({showMarkDoneModal:!1})}},{key:"markNoteDone",value:function(){this.setState({showMarkDoneModal:!1}),this.props.markNoteDone(this.props.note.notes_id,this.props.dealId),this.updateNoteReview()}},{key:"closeConfirmDeleteModal",value:function(){this.setState({showDeleteModal:!1})}},{key:"openConfirmDeleteModal",value:function(){this.setState({showDeleteModal:!0})}},{key:"deleteNote",value:function(){this.setState({showDeleteModal:!1}),this.props.deleteNote(this.props.note.notes_id,this.props.dealId),this.updateNoteReview()}},{key:"updateNoteReview",value:function(){this.props.qtsPlacer&&this.props.updateNoteReviewed(this.props.dealId)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"deal-details-note"},r.a.createElement(h.a,null,r.a.createElement(N.a,{md:"9"},r.a.createElement("p",{className:"deal-details-note-text"},this.props.note.notes),f()(this.props.note.due_date).isValid()&&(1===this.props.note.note_is_mine||this.props.note.assignee)?r.a.createElement("p",{className:"accent-text xs-text"},r.a.createElement("img",{src:"/images/icons/reminder.png",alt:"reminder"}),"Remind ",this.props.note.assignee||"me"," on"," ",f()(this.props.note.due_date).format("L")," at"," ",f()(this.props.note.due_date).format("LT")):""),!this.props.viewOnly&&1===this.props.note.note_is_mine&&!this.props.isNoteDone&&r.a.createElement(N.a,{md:"3"},r.a.createElement("div",{className:"deal-details-note-actions"},r.a.createElement("i",{className:"material-icons",onClick:function(){return k.f.go("".concat(window.location.pathname,"/edit/").concat(e.props.note.notes_id))}},"mode_edit"),r.a.createElement("i",{className:"material-icons",onClick:this.openConfirmDeleteModal},"delete"),r.a.createElement("i",{className:"material-icons",onClick:this.openConfirmMarkDoneModal},"check")))),r.a.createElement(h.a,null,r.a.createElement(N.a,{md:"9"},f()(this.props.note.last_edit).isValid()&&r.a.createElement("p",{className:"accent-text-light xxs-text"},"last edited by ",this.props.note.note_by," on"," ",f()(this.props.note.last_edit).format("L")))),r.a.createElement(v.a,null),r.a.createElement(b.a,{isOpen:this.state.showDeleteModal,message:"Are you sure you want to delete?",close:this.closeConfirmDeleteModal,confirm:this.deleteNote}),r.a.createElement(b.a,{isOpen:this.state.showMarkDoneModal,message:"Are you sure you want to mark this note as done?",close:this.closeConfirmMarkDoneModal,confirm:this.markNoteDone}))}}]),a}(r.a.Component),y=a(104),M=function(e){Object(n.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.loading?r.a.createElement(y.b,null):r.a.createElement("div",{className:"deal-details-notes"},this.props.reminderNotes.length>=1?r.a.createElement("div",null,r.a.createElement("p",{className:"accent-text small-text"},"Reminders"),r.a.createElement("div",{className:"panel mui-panel"},r.a.createElement("div",{className:"panel-body"},this.props.reminderNotes.map((function(t,a){return r.a.createElement(w,{key:a,note:t,dealId:e.props.dealId,viewOnly:e.props.viewOnly,qtsPlacer:e.props.qtsPlacer,isNoteDone:!1,deleteNote:e.props.deleteNote,markNoteDone:e.props.markNoteDone,updateNoteReviewed:e.props.updateNoteReviewed})}))))):"",this.props.notes.length>=1?r.a.createElement("div",null,r.a.createElement("p",{className:"accent-text small-text"},"Notes"),r.a.createElement("div",{className:"panel mui-panel"},r.a.createElement("div",{className:"panel-body"},this.props.notes.map((function(t,a){return r.a.createElement(w,{key:a,note:t,dealId:e.props.dealId,viewOnly:e.props.viewOnly,qtsPlacer:e.props.qtsPlacer,isNoteDone:!1,deleteNote:e.props.deleteNote,markNoteDone:e.props.markNoteDone,updateNoteReviewed:e.props.updateNoteReviewed})}))))):"",this.props.doneNotes.length>=1?r.a.createElement("div",null,r.a.createElement("p",{className:"accent-text small-text"},"Done"),r.a.createElement("div",{className:"panel mui-panel"},r.a.createElement("div",{className:"panel-body"},this.props.doneNotes.map((function(t,a){return r.a.createElement(w,{key:a,note:t,dealId:e.props.dealId,viewOnly:e.props.viewOnly,qtsPlacer:e.props.qtsPlacer,isNoteDone:!0,deleteNote:e.props.deleteNote,markNoteDone:e.props.markNoteDone,updateNoteReviewed:e.props.updateNoteReviewed})}))))):"",!this.props.viewOnly&&r.a.createElement("button",{className:"new-note",onClick:function(){return k.f.go("".concat(window.location.pathname,"/add"))}},r.a.createElement("i",{className:"material-icons"},"add")),r.a.createElement("div",{className:this.props.noDealNotes&&!this.props.loading?"":"hidden"},r.a.createElement("div",{className:"grey-circle"},r.a.createElement("img",{src:"/images/icons/note-multiple.png",alt:"notes"})),r.a.createElement("h2",{className:"no-results"},"No Notes"))))}}]),a}(r.a.Component),O=a(88),C=a(34),g=a.n(C),j=a(166),x=function(e){Object(n.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.dealDetailsActions.loadAllDealNotes(this.props.match.params.dealId),this.props.dealDetailsActions.getDealById(this.props.match.params.dealId)}},{key:"render",value:function(){var e=this.props.dealDetails.deal?this.props.dealDetails.deal:null,t=null;return this.props.dealDetails.showSuccessToast&&(t=r.a.createElement(O.a,{closeToast:this.props.dealDetailsActions.closeDealNoteSuccessToast,delay:6e3},r.a.createElement("div",{className:"success-message"},r.a.createElement("p",null,this.props.dealDetails.message),r.a.createElement(g.a,{variant:"flat",onClick:this.props.dealDetailsActions.closeDealNoteSuccessToast},"Done")))),this.props.dealDetails.showErrorToast&&(t=r.a.createElement(O.a,{closeToast:this.props.dealDetailsActions.closeDealNoteErrorToast,delay:6e3},r.a.createElement("div",{className:"success-message"},r.a.createElement("p",null,this.props.dealDetails.message),r.a.createElement(g.a,{variant:"flat",onClick:this.props.dealDetailsActions.closeDealNoteErrorToast},"Dismiss")))),r.a.createElement("div",null,r.a.createElement(M,{loading:this.props.dealDetails.loading,reminderNotes:this.props.dealDetails.reminderDealNotes,notes:this.props.dealDetails.dealNotes,doneNotes:this.props.dealDetails.doneDealNotes,dealId:parseInt(this.props.match.params.dealId,10),qtsPlacer:!!e&&e.qts_placer,viewOnly:this.props.dealDetails.deal.deal_status===k.a.CL,noDealNotes:this.props.dealDetails.noDealNotes,deleteNote:this.props.dealDetailsActions.deleteDealNote,markNoteDone:this.props.dealDetailsActions.markNoteAsDone,updateNoteReviewed:this.props.dealDetailsActions.updateNoteReviewed}),t)}}]),a}(r.a.Component);t.default=Object(p.b)((function(e){return{dealDetails:e.dealDetails}}),(function(e){return{dealDetailsActions:Object(c.b)(j,e)}}))(x)}}]);
//# sourceMappingURL=50.4258f26d.chunk.js.map