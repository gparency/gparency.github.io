(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[37],{742:function(e,t,a){"use strict";a.r(t),a.d(t,"getLendingTypeList",(function(){return m})),a.d(t,"getPropertyTypes",(function(){return h})),a.d(t,"loadBrokerDeals",(function(){return d})),a.d(t,"getFullContactInfo",(function(){return u})),a.d(t,"loadBankResults",(function(){return g})),a.d(t,"loadQTSRatesResults",(function(){return y})),a.d(t,"loadQuotes",(function(){return b})),a.d(t,"updateErrorToast",(function(){return k})),a.d(t,"closeToast",(function(){return E})),a.d(t,"getParameterListByBank",(function(){return f})),a.d(t,"loadQTSMap",(function(){return C}));var s=a(3),n=a(10),i=a.n(n),l=a(19),r=a(1),c=a(7),o=a(21),p=a(2);function m(){return function(e){Object(p.i)({url:"".concat(c.a.BASE_URL,"lending-types"),success:function(t){switch(t.status){case"200":e({type:r.LOAD_LENDING_TYPES,data:t.data});break;default:e({type:r.LOAD_LENDING_TYPES,data:[]})}}})}}function h(){return function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.t)(p.g.PropertyType);case 2:a=e.sent,t({type:r.LOAD_PROPERTY_TYPE_LIST,data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function d(e,t,a,s,n,i,l){var m={};return m=s&&a?{state:a,city:s,property_types:n,date_range:l}:{latitude:e,longitude:t,state:a,property_types:n,radius:i,date_range:l},function(e){e({type:r.LOADING_DEALS}),Object(p.i)({url:"".concat(c.a.BASE_URL,"qts-broker-deals"),applyAuthHeader:!0,data:m,success:function(t){switch(t.status){case"204":e({type:r.NO_DEAL_DATA});break;case"E107":e(Object(o.tokenExpired)());break;default:e({type:r.LOAD_QTS_BROKER_DEALS,data:t.data})}}})}}function u(e){return function(t){t({type:r.LOADING_FULL_CONTACT}),Object(p.i)({url:"".concat(c.a.BASE_URL,"contact/").concat(e),applyAuthHeader:!0,success:function(e){e.data&&e.data.length>=1?t({type:r.LOAD_FULL_CONTACT,contact:e.data[0].contacts[0]}):t({type:r.NO_FULL_CONTACT})}})}}function g(e){return e.city&&(delete e.latitude,delete e.longitude),function(t){t({type:r.LOADING_QUOTES}),Object(p.i)({url:"".concat(c.a.BASE_URL,"qts-banks"),applyAuthHeader:!0,data:Object(s.a)({},e),success:function(e){e.data&&e.data.banks.length>0?t({type:r.LOAD_QTS_BANK_QUOTES,data:e.data}):t({type:r.NO_QUOTE_DATA})},error:Object(p.v)(t,{default:{type:r.LOAD_QTS_BANK_DEALS_FAILED},404:{type:r.NO_QUOTE_DATA}})})}}function y(e){return function(t){t({type:r.LOADING_QUOTES}),Object(p.i)({url:"".concat(c.a.BASE_URL,"qts-rates"),applyAuthHeader:!0,data:Object(s.a)({},e),success:function(e){console.log("response",e.data),e.data&&e.data.length>0?t({type:r.LOAD_QTS_RATES,data:e.data}):t({type:r.NO_RATE_DATA})},error:Object(p.v)(t,{default:{type:r.LOAD_QTS_RATES_FAILED},404:{type:r.NO_RATE_DATA}})})}}function b(e){return e.city&&(delete e.latitude,delete e.longitude),function(t){t({type:r.LOADING_QUOTES}),Object(p.i)({url:"".concat(c.a.BASE_URL,"qts-banks"),applyAuthHeader:!0,data:Object(s.a)({},e),success:function(e){t({type:r.LOAD_QTS_QUOTES,data:e.data?e.data.banks[0]:{}})},error:Object(p.v)(t,r.LOAD_QTS_QUOTES_FAILED)})}}function k(e){return{type:r.UPDATE_ERROR_TOAST,message:e}}function E(){return{type:r.CLOSE_ASK_QTS_TOAST}}function f(e){return function(t){t({type:r.LOADING_PARAM_LIST}),Object(p.i)({url:"".concat(c.a.BASE_URL,"get-lending"),applyAuthHeader:!0,data:{bank_id:e},success:function(e){switch(e.status){case"E404":t(Object(o.tokenExpired)());break;case"204":t({type:r.LOAD_PARAM_LIST,lendingList:[]});break;case"E413":t({type:r.LOAD_PARAM_LIST_FAILED,message:e.message});break;default:t({type:r.LOAD_PARAM_LIST,lendingList:e.data.lending_programs})}}})}}function C(e,t,a,s,n,i,l,m,h,d,u,g,y,b,k,E,f,C,_){var S={};return S=a&&s?{city:a,state:s,property_types:n,bank_name:C,range_a:m,range_b:h,range_c:d,range_d:u,date_range:l,show_inactive:g,in_nyc:_}:{latitude:e,longitude:t,property_types:n,bank_name:C,range_a:m,range_b:h,range_c:d,range_d:u,date_range:l,radius:i,show_inactive:g,in_nyc:_},Object.keys(S).forEach((function(e){return(null===S[e]||""===S[e])&&delete S[e]})),function(a){a({type:r.LOADING_QTS_MAP}),Object(p.i)({url:"".concat(c.a.BASE_URL,"qts-map"),applyAuthHeader:!0,data:S,success:function(s){switch(s.status){case"E403":case"E404":a(Object(o.tokenExpired)());break;case"204":case"E107":a({type:r.NO_QTS_MAP_DATA,center:{latitude:e,longitude:t},message:s.message});break;default:var n={PW:b?s.data.PW:[],IP:y?s.data.IP:[],Closed:k?s.data.Closed:[],Sales:E?s.data.Sales:[],Finance:f?s.data.Finance:[],Inactive:g?s.data.Inactive:[]};a({type:r.LOAD_QTS_MAP_DATA,data:n,center:{latitude:e,longitude:t}})}}})}}},762:function(e,t,a){"use strict";var s=a(27),n=a(9),i=a(8),l=a(17),r=a(12),c=a(11),o=a(0),p=a.n(o),m=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.item;return p.a.createElement("div",{className:"rkmd-checkbox checkbox-ripple"},p.a.createElement("label",{className:"input-checkbox checkbox-lightBlue"},p.a.createElement("input",{type:"checkbox",id:this.props.id,checked:this.props.checked||!1,onChange:this.props.onChangeHandler.bind(null,this.props.id,!this.props.checked)}),p.a.createElement("span",{className:"checkbox"}),p.a.createElement("span",{className:"ripple"})),p.a.createElement("p",{htmlFor:this.props.id,className:"label",onClick:this.props.onChangeHandler.bind(null,this.props.id,!this.props.checked)},e.value))}}]),a}(p.a.Component),h=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={localOptionsSelected:[]},s.checkboxChange=s.checkboxChange.bind(Object(l.a)(s)),s.getMultiSelectTextValue=s.getMultiSelectTextValue.bind(Object(l.a)(s)),s}return Object(i.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectedOptions&&e.selectedOptions!==this.state.localOptionsSelected&&this.setState({localOptionsSelected:e.selectedOptions})}},{key:"checkboxChange",value:function(e,t){var a=this;0===e&&t?this.setState({localOptionsSelected:this.props.options.slice(1).map((function(e){return e.list_type_id}))},(function(){return a.props.checkboxChange(a.state.localOptionsSelected)})):0!==e||t?t?this.setState({localOptionsSelected:[].concat(Object(s.a)(this.state.localOptionsSelected),[e])},(function(){return a.props.checkboxChange(a.state.localOptionsSelected)})):t||this.setState({localOptionsSelected:this.state.localOptionsSelected.filter((function(t){return parseInt(t,10)!==e}))},(function(){return a.props.checkboxChange(a.state.localOptionsSelected)})):this.setState({localOptionsSelected:[]},(function(){return a.props.checkboxChange(a.state.localOptionsSelected)}))}},{key:"getMultiSelectTextValue",value:function(){var e=this,t="";return this.props.selectedOptions&&this.props.selectedOptions.map((function(a,s){var n=e.props.options.find((function(e){return e.list_type_id===a}));return n&&(s>=1&&(t+=", "),t+=n.value),t})),t.length>0?t:this.props.placeholder}},{key:"render",value:function(){var e=this;return p.a.createElement("div",null,this.props.placeholder?p.a.createElement("p",{className:"qts-multiselect-placeholder"},this.getMultiSelectTextValue()):"",p.a.createElement("div",{className:this.props.showDropdown?"qts-dropdown-box mui--z1":"hidden"},this.props.options&&this.props.options.map((function(t,a){return p.a.createElement(m,{key:a,id:t.list_type_id,item:t,checked:0===t.list_type_id?e.state.localOptionsSelected.length===e.props.options.filter((function(e){return 0!==e.list_type_id})).length:e.state.localOptionsSelected.find((function(e){return parseInt(e,10)===t.list_type_id})),onChangeHandler:e.checkboxChange})}))))}}]),a}(p.a.Component);t.a=h},771:function(e,t,a){"use strict";var s=a(10),n=a.n(s),i=a(19),l=a(9),r=a(8),c=a(17),o=a(12),p=a(11),m=a(0),h=a.n(m),d=a(6),u=a(23),g=a(15),y=a(50),b=a(742),k=a(26),E=a.n(k),f=a(27),C=a(2),_=a(87),S=a.n(_),v=a(73),N=a.n(v),O=a(40),D=a.n(O),T=a(46),x=a.n(T),w=a(34),I=a.n(w),A=a(762),q=a(25),j=a(80),L=window.google,M=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={initialAddress:"",addressChanged:!1,radius:"3",property_types:[],bank:"",bankName:"",localPropertyTypes:[],propertyToggleDropdown:!1,autocompleteAddress:""},s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.loadGoogleAutocomplete(),this.setState({localPropertyTypes:[{list_type_id:0,value:"All"}].concat(Object(f.a)(this.props.propertyTypesList)),initialAddress:sessionStorage.getItem("qts_address")?JSON.parse(sessionStorage.getItem("qts_address")).address:Object(q.a)("address")?Object(q.a)("address"):"",addressChanged:!1,radius:sessionStorage.getItem("qts_radius")?sessionStorage.getItem("qts_radius"):Object(q.a)("radius")?Object(q.a)("radius"):"3",property_types:sessionStorage.getItem("qts_propertyTypes")?sessionStorage.getItem("qts_propertyTypes").split(","):Object(q.a)("property_types")?decodeURIComponent(Object(q.a)("property_types")).split(","):[],bank:sessionStorage.getItem("qts_bank")?sessionStorage.getItem("qts_bank"):Object(q.a)("bank")?Object(q.a)("bank"):""})}},{key:"loadGoogleAutocomplete",value:function(){var e=new L.maps.places.Autocomplete(this.refs.autocomplete,{componentRestrictions:{country:"us"}});e.addListener("place_changed",function(){if(this.refs.autocomplete.blur(),this.place=e.getPlace(),this.place.geometry)try{this.setState({autocompleteAddress:this.place,initialAddress:this.place.formatted_address})}catch(t){alert(t)}else alert("there was an error with google autocomplete")}.bind(this))}},{key:"componentDidUpdate",value:function(){this.loadGoogleAutocomplete()}},{key:"propertyToggleDropdown",value:function(){var e=!this.state.propertyToggleDropdown;this.setState({propertyToggleDropdown:e},(function(){e&&this.state.lenderToggleDropdown&&this.setState({lenderToggleDropdown:!1})}))}},{key:"propertyTypeCheckboxChange",value:function(e){this.setState({property_types:e})}},{key:"getMultiSelectTextValue",value:function(){var e=this,t="";return this.state.property_types&&this.state.property_types.map((function(a,s){var n=e.state.localPropertyTypes.find((function(e){return e.list_type_id===a}));return n&&(s>=1&&(t+=", "),t+=n.value),t})),t.length>0?t:"Property Types (optional)"}},{key:"onChangeAddress",value:function(e){13===e.keyCode&&e.preventDefault(),this.setState({addressChanged:!0,initialAddress:e.target.value})}},{key:"onChangeRadius",value:function(e){this.setState({radius:e.target.value},sessionStorage.setItem("qts_radius",this.state.radius))}},{key:"onChangeBankName",value:function(e){this.setState({bankName:e.target.value}),sessionStorage.setItem("qts_bank",this.state.bankName)}},{key:"submitSearch",value:function(e){e.preventDefault(),this.setState({propertyToggleDropdown:!1});var t="";try{t=JSON.parse(sessionStorage.getItem("qts_address"))}catch(h){}var a=this.state.autocompleteAddress.geometry?this.state.autocompleteAddress.geometry.location.lat():t.latitude,s=this.state.autocompleteAddress.geometry?this.state.autocompleteAddress.geometry.location.lng():t.longitude,n=this.state.autocompleteAddress.address_components?this.state.autocompleteAddress.address_components.find((function(e){return e.types.includes("administrative_area_level_1")})):t.state,i=this.state.autocompleteAddress.address_components?this.state.autocompleteAddress.address_components.find((function(e){return e.types.includes("locality")}))||this.state.autocompleteAddress.address_components.find((function(e){return e.types.includes("sublocality")})):t.city,l=this.state.autocompleteAddress.address_components?this.state.autocompleteAddress.address_components.find((function(e){return e.types.includes("administrative_area_level_2")})):"";if(n){var r=n.short_name,c=i.long_name,o=l&&l.long_name,p={address:this.state.autocompleteAddress?this.state.autocompleteAddress.formatted_address:this.state.initialAddress,longitude:s,latitude:a,state:n,city:i};sessionStorage.setItem("qts_address",JSON.stringify(p))}else alert("You must search by a precise location");sessionStorage.setItem("qts_radius",this.state.radius),sessionStorage.setItem("qts_propertyTypes",this.state.property_types.length?this.state.property_types.join(","):""),sessionStorage.setItem("qts_bank",this.state.bankName),"New York County"===o||"Bronx County"===o||"Kings County"===o||"Queens County"===o||"Richmond County"===o?sessionStorage.setItem("qts_in_nyc",1):sessionStorage.setItem("qts_in_nyc",0);var m={latitude:a,longitude:s,state:r,city:"city"===this.state.radius?c:"",property_types:this.state.property_types.length?encodeURIComponent(this.state.property_types):"",radius:"city"===this.state.radius?"":this.state.radius,date_range:Object(q.a)("date_range"),min_loan:Object(q.a)("min_loan")?Object(q.a)("min_loan").replace(/\D/g,""):"",max_loan:Object(q.a)("max_loan")?Object(q.a)("max_loan").replace(/\D/g,""):"",bank:this.state.bankName,banker:Object(q.a)("banker"),lender_type:Object(q.a)("lender_type"),note_search:Object(q.a)("note_search"),search_type:Object(q.a)("search_type"),address:this.state.initialAddress,in_nyc:"New York County"===o||"Bronx County"===o||"Kings County"===o||"Queens County"===o||"Richmond County"===o?1:0};Object.keys(m).forEach((function(e){return(null===m[e]||""===m[e])&&delete m[e]})),C.f.go("/qts-map?".concat(Object(j.a)(m)))}},{key:"render",value:function(){return h.a.createElement("div",{className:this.props.dropdownShowing?"qts-search-dropdown-box mui--z1":"hidden-opacity"},h.a.createElement("div",{className:"qts-search-dropdown-box-content"},h.a.createElement("div",{className:"dropdown-box-header"},h.a.createElement("i",{className:"material-icons search"},"search"),h.a.createElement("p",null,"Search"),h.a.createElement("i",{className:"material-icons close",onClick:this.props.toggleDropdown},"close")),h.a.createElement(E.a,null,h.a.createElement(S.a,{md:"12",className:"address-container"},h.a.createElement("input",{className:"input",type:"text",ref:"autocomplete",value:this.state.initialAddress,onChange:this.onChangeAddress.bind(this),placeholder:"Address",style:{color:"#000"}})),h.a.createElement(S.a,{md:"12",className:"property-container",onClick:this.propertyToggleDropdown.bind(this)},h.a.createElement("p",{className:"offset-column property-type-header"},this.getMultiSelectTextValue()),h.a.createElement("i",{className:"material-icons property-arrow"},"arrow_drop_down"),h.a.createElement(A.a,{options:this.state.localPropertyTypes,selectedOptions:this.state.property_types,showDropdown:this.state.propertyToggleDropdown,checkboxChange:this.propertyTypeCheckboxChange.bind(this)})),h.a.createElement(S.a,{md:"12",className:"radius-container"},h.a.createElement(N.a,{value:this.state.radius.toString(),onChange:this.onChangeRadius.bind(this)},h.a.createElement(x.a,{className:"comps-search-disabled",value:"",label:"Radius"}),h.a.createElement(x.a,{value:"0.25",label:"1/4 Mile"}),h.a.createElement(x.a,{value:"0.5",label:"1/2 Mile"}),h.a.createElement(x.a,{value:"1",label:"1 Mile"}),h.a.createElement(x.a,{value:"3",label:"3 Miles"}),h.a.createElement(x.a,{value:"5",label:"5 Miles"}),h.a.createElement(x.a,{value:"city",label:"Entire City"}),h.a.createElement(x.a,{value:"10",label:"10 Miles"}),h.a.createElement(x.a,{value:"25",label:"25 Miles"}),h.a.createElement(x.a,{value:"50",label:"50 Miles"}),h.a.createElement(x.a,{value:"60",label:"60 Miles"}))),h.a.createElement(S.a,{md:"12",className:"bank-container"},h.a.createElement(D.a,{type:"text",onChange:this.onChangeBankName.bind(this),value:this.state.bankName,hint:"Bank Name"}))),h.a.createElement(E.a,{className:"floating-row"},h.a.createElement(S.a,{md:"12",className:"reset-filters-container",onClick:this.props.toggleDropdown},h.a.createElement(I.a,{className:"search-drpdwn-search-btn",onClick:this.submitSearch.bind(this)},"Search")))))}}]),a}(h.a.Component),P=a(72),F=a.n(P),R=function(e){Object(o.a)(a,e);var t=Object(p.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state={dropdownShowing:!1},s.toggleDropdown=s.toggleDropdown.bind(Object(c.a)(s)),s}return Object(r.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=Object(i.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.qtsActions.getPropertyTypes();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleDropdown",value:function(){this.setState({dropdownShowing:!this.state.dropdownShowing})}},{key:"render",value:function(){return h.a.createElement("div",{className:"qts-page"},this.props.qts.propertyTypeList.length>0?h.a.createElement("div",null,h.a.createElement(E.a,{className:"sub-header"},h.a.createElement(g.a,{className:"back-arrow",to:"/qts-search"},h.a.createElement("img",{src:"/images/icons/arrow-left.png",alt:"arrow-left"})),h.a.createElement("ul",{className:"qts-nav"},h.a.createElement("li",{className:"qts-nav-list-item list-item2"},h.a.createElement(g.b,{to:{pathname:"/qts-banks",search:window.location.search},className:"qts-nav-item",activeClassName:"header-active-link"},"POTENTIAL LENDERS")),h.a.createElement("li",{className:"qts-nav-list-item list-item2"},h.a.createElement(g.b,{to:{pathname:"/qts-rates",search:window.location.search},className:"qts-nav-item",activeClassName:"header-active-link"},"Rates")),h.a.createElement("li",{className:"qts-nav-list-item list-item2"},h.a.createElement(g.b,{to:{pathname:"/qts-map",search:window.location.search},className:"qts-nav-item",activeClassName:"header-active-link"},"Map")),h.a.createElement("li",{className:"qts-nav-list-item list-item3"},h.a.createElement(g.b,{to:{pathname:"/qts-brokers",search:window.location.search},className:"qts-nav-item",activeClassName:"header-active-link"},"Active Brokers"))),h.a.createElement("div",{style:{position:"absolute",top:"20px",right:"24px"}},h.a.createElement("i",{className:"material-icons search-icon",onClick:this.toggleDropdown,style:{color:"#fff",cursor:"pointer"}},"search"))),h.a.createElement("div",{className:"qts-container"},this.props.children),h.a.createElement(M,{dropdownShowing:this.state.dropdownShowing,toggleDropdown:this.toggleDropdown,propertyTypesList:this.props.qts.propertyTypeList})):h.a.createElement(F.a,{className:"loading-modal",ariaHideApp:!1,contentLabel:"modal",isOpen:!0,shouldCloseOnOverlayClick:!1},h.a.createElement("div",{className:"centered-spinner"},h.a.createElement("img",{src:"/images/icons/spin.svg",className:"loading-spinner",alt:"loading spinner"}))))}}]),a}(h.a.Component);t.a=Object(d.b)((function(e){return{title:e.navTitle,qts:e.QTS}}),(function(e){return{navActions:Object(u.b)(y,e),qtsActions:Object(u.b)(b,e)}}))(R)},979:function(e,t,a){"use strict";a.r(t);var s=a(9),n=a(8),i=a(12),l=a(11),r=a(0),c=a.n(r),o=a(6),p=a(23),m=a(742),h=a(3),d=a(17),u=a(72),g=a.n(u),y=a(38),b=a.n(y),k=a(34),E=a.n(k),f=a(923),C=(a(920),function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"render",value:function(){var e={0:"6 M",30:c.a.createElement("strong",null,"1 Y"),65:"1.5 Y",100:"2 Y"},t={0:c.a.createElement("strong",null,"60 D"),20:"90 D",40:"6 M",60:"1 Y",80:"1.5 Y",100:"2 Y"},a={0:c.a.createElement("strong",null,"60 D"),50:"90 D",100:"6 M"};return c.a.createElement(g.a,{className:"filter-modal",isOpen:this.props.isOpen,style:{content:{top:100,margin:"auto"}},ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!0},c.a.createElement(b.a,{className:"modal-form"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("i",{className:"material-icons filter-icon"},"filter_list"),c.a.createElement("p",null,"Filter"),c.a.createElement("i",{className:"material-icons close-icon",onClick:this.props.closeModal},"close")),c.a.createElement("div",null,c.a.createElement("p",null,"PW Properties"),c.a.createElement("div",{className:"rkmd-checkbox checkbox-ripple"},c.a.createElement("label",{className:"input-checkbox checkbox-lightBlue"},c.a.createElement("input",{type:"checkbox",id:"checkbox-1",checked:this.props.pwChecked,onChange:this.props.pwCheckboxChange}),c.a.createElement("span",{className:"checkbox"}),c.a.createElement("span",{className:"ripple"})),c.a.createElement("p",{htmlFor:"checkbox-1",className:"label"}))),c.a.createElement("div",null,c.a.createElement("p",null,"IP Properties"),c.a.createElement("div",{className:"rkmd-checkbox checkbox-ripple"},c.a.createElement("label",{className:"input-checkbox checkbox-lightBlue"},c.a.createElement("input",{type:"checkbox",id:"checkbox-1",checked:this.props.ipChecked,onChange:this.props.ipCheckboxChange}),c.a.createElement("span",{className:"checkbox"}),c.a.createElement("span",{className:"ripple"})),c.a.createElement("p",{htmlFor:"checkbox-1",className:"label"}))),c.a.createElement("div",null,c.a.createElement("p",null,"CL Properties"),c.a.createElement("div",{className:"rkmd-checkbox checkbox-ripple"},c.a.createElement("label",{className:"input-checkbox checkbox-lightBlue"},c.a.createElement("input",{type:"checkbox",id:"checkbox-1",checked:this.props.clChecked,onChange:this.props.clCheckboxChange}),c.a.createElement("span",{className:"checkbox"}),c.a.createElement("span",{className:"ripple"})),c.a.createElement("p",{htmlFor:"checkbox-1",className:"label"})),c.a.createElement("div",{className:this.props.clChecked?"slider-orange":"slider-gray"},c.a.createElement(f.a,{marks:e,step:null,disabled:!this.props.clChecked,onChange:this.props.clSliderChange,value:this.props.clSlider}))),c.a.createElement("div",null,c.a.createElement("p",null,"Sales Comps"),c.a.createElement("div",{className:"rkmd-checkbox checkbox-ripple"},c.a.createElement("label",{className:"input-checkbox checkbox-lightBlue"},c.a.createElement("input",{type:"checkbox",id:"checkbox-1",checked:this.props.salesChecked,onChange:this.props.salesCheckboxChange}),c.a.createElement("span",{className:"checkbox"}),c.a.createElement("span",{className:"ripple"})),c.a.createElement("p",{htmlFor:"checkbox-1",className:"label"})),c.a.createElement("div",{className:this.props.salesChecked?"slider-orange":"slider-gray"},c.a.createElement(f.a,{marks:e,step:null,disabled:!this.props.salesChecked,onChange:this.props.salesSliderChange,value:this.props.salesSlider}))),c.a.createElement("div",null,c.a.createElement("p",null,"Finance Comps (non ",")"),c.a.createElement("div",{className:"rkmd-checkbox checkbox-ripple"},c.a.createElement("label",{className:"input-checkbox checkbox-lightBlue"},c.a.createElement("input",{type:"checkbox",id:"checkbox-1",checked:this.props.financeChecked,onChange:this.props.financeCheckboxChange}),c.a.createElement("span",{className:"checkbox"}),c.a.createElement("span",{className:"ripple"})),c.a.createElement("p",{htmlFor:"checkbox-1",className:"label"})),c.a.createElement("div",{className:this.props.financeChecked?"slider-orange":"slider-gray"},c.a.createElement(f.a,{marks:t,step:null,disabled:!this.props.financeChecked,onChange:this.props.financeSliderChange,value:this.props.financeSlider}))),c.a.createElement("div",null,c.a.createElement("p",null,"Recent Inactive PW/IP"),c.a.createElement("div",{className:"rkmd-checkbox checkbox-ripple"},c.a.createElement("label",{className:"input-checkbox checkbox-lightBlue"},c.a.createElement("input",{type:"checkbox",id:"checkbox-1",checked:this.props.recentChecked,onChange:this.props.recentCheckboxChange}),c.a.createElement("span",{className:"checkbox"}),c.a.createElement("span",{className:"ripple"})),c.a.createElement("p",{htmlFor:"checkbox-1",className:"label"})),c.a.createElement("div",{className:this.props.recentChecked?"slider-orange":"slider-gray"},c.a.createElement(f.a,{marks:a,step:null,disabled:!this.props.recentChecked,onChange:this.props.recentSliderChange,value:this.props.recentSlider}))),c.a.createElement("div",{className:"filter-btn"},c.a.createElement(E.a,{variant:"flat",onClick:this.props.submitFilter},"Filter"))))}}]),a}(c.a.Component)),_=a(26),S=a.n(_),v=a(87),N=a.n(v),O=a(210),D=a.n(O),T=a(25),x=window.google,w=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).toggleMapKeyCollapse=function(){n.setState((function(e){return Object(h.a)(Object(h.a)({},e),{},{mapKeyCollapsed:!e.mapKeyCollapsed})}))},n.state={filterModalOpen:!1,mapData:{},popupShowing:!1,position:"",type:"",latitude:"",longitude:"",markers:[],mapKeyCollapsed:!0},n.togglePopup=n.togglePopup.bind(Object(d.a)(n)),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.setState({mapData:this.props.mapData},(function(){this.loadGoogleMap(),this.render()}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.mapData!==e.mapData&&this.setState({mapData:e.mapData},(function(){this.loadGoogleMap()}))}},{key:"togglePopup",value:function(){this.state.popupShowing?(this.state.markers.forEach((function(e){return e.setIcon(e.inactiveIcon)})),this.setState({popupShowing:!1})):this.setState({popupShowing:!0})}},{key:"submitFilter",value:function(e){e.preventDefault(),this.setState({filterModalOpen:!1}),this.props.submitFilter()}},{key:"openModal",value:function(){this.setState({filterModalOpen:!0})}},{key:"closeModal",value:function(){this.setState({filterModalOpen:!1})}},{key:"loadGoogleMap",value:function(){var e=this;if(x&&this.props.center){var t=[],a={lat:Number(this.props.center.latitude),lng:Number(this.props.center.longitude)},s={url:"/images/icons/qts-map-marker-red.png"},n={url:"/images/icons/qts-map-marker-orange.png"},i={url:"/images/icons/qts-map-marker-orange-large.png"},l={url:"/images/icons/qts-map-marker-blue.png"},r={url:"/images/icons/qts-map-marker-blue-large.png"},c={url:"/images/icons/qts-map-marker-purple.png"},o={url:"/images/icons/qts-map-marker-purple-large.png"},p={url:"/images/icons/qts-map-marker-green.png"},m={url:"/images/icons/qts-map-marker-green-large.png"},h={url:"/images/icons/qts-map-marker-pink.png"},d={url:"/images/icons/qts-map-marker-pink-large.png"},u={url:"/images/icons/qts-map-marker-gray.png"},g={url:"/images/icons/qts-map-marker-gray-large.png"};this.map=new x.maps.Map(this.refs.map,{center:a,styles:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}],streetViewControl:!1,mapTypeControl:!1,zoom:17}),this.pwProperties=this.state.mapData&&this.state.mapData.PW&&this.state.mapData.PW.map((function(a,s){var l=new x.maps.Marker({type:"PW",data:a,index:s,position:{lat:Number(a.latitude),lng:Number(a.longitude)},map:e.map,icon:n,inactiveIcon:n,activeIcon:i});return t.push(l),l})),this.ipProperties=this.state.mapData&&this.state.mapData.IP&&this.state.mapData.IP.map((function(a,s){var n=new x.maps.Marker({type:"IP",data:a,index:s,position:{lat:Number(a.latitude),lng:Number(a.longitude)},map:e.map,icon:l,inactiveIcon:l,activeIcon:r});return t.push(n),n})),this.clProperties=this.state.mapData&&this.state.mapData.Closed&&this.state.mapData.Closed.map((function(a,s){var n=new x.maps.Marker({type:"Closed",data:a,index:s,position:{lat:Number(a.latitude),lng:Number(a.longitude)},map:e.map,icon:c,inactiveIcon:c,activeIcon:o});return t.push(n),n})),this.salesComps=this.state.mapData&&this.state.mapData.Sales&&this.state.mapData.Sales.map((function(a,s){var n=new x.maps.Marker({type:"Sales",data:a,index:s,position:{lat:Number(a.latitude),lng:Number(a.longitude)},map:e.map,icon:p,inactiveIcon:p,activeIcon:m});return t.push(n),n})),this.financeComps=this.state.mapData&&this.state.mapData.Finance&&this.state.mapData.Finance.map((function(a,s){var n=new x.maps.Marker({type:"Finance",data:a,index:s,position:{lat:Number(a.latitude),lng:Number(a.longitude)},map:e.map,icon:h,inactiveIcon:h,activeIcon:d});return t.push(n),n})),this.recentInactiveImage=this.state.mapData&&this.state.mapData.Inactive&&this.state.mapData.Inactive.map((function(a,s){var n=new x.maps.Marker({type:"Inactive",data:a,index:s,position:{lat:Number(a.latitude),lng:Number(a.longitude)},map:e.map,icon:u,inactiveIcon:u,activeIcon:g});return t.push(n),n})),this.centerMarker=new x.maps.Marker({type:"SEARCHED LOCATION",data:a,position:a,map:this.map,icon:s,inactiveIcon:s,activeIcon:{url:"/images/icons/qts-map-marker-red-large.png"}}),t.push(this.centerMarker),t.map((function(a){return a.addListener("click",(function(){t.forEach((function(e){return e.setIcon(e.inactiveIcon)})),a.setIcon(a.activeIcon),e.setState({popupShowing:!0,position:a.index,type:a.type,latitude:a.data.latitude,longitude:a.data.longitude})})),a})),this.setState({markers:t})}}},{key:"render",value:function(){var e=this,t="",a="",s=this.state.mapData;switch(this.state.type){case"PW":t="PW Date",a=s.PW[this.state.position].activity_date;break;case"IP":t="IP Date",a=s.IP[this.state.position].activity_date;break;case"Closed":t="Date Closed",a=s.Closed[this.state.position].activity_date;break;case"Sales":t="Sale Date",a=s.Sales[this.state.position].sale_date;break;case"Finance":t="Mortgage Date",a=s.Finance[this.state.position].mortgage_date;break;case"Inactive":t="Last Active Date",a=s.Inactive[this.state.position].activity_date}var n="",i="";n="Sales"===this.state.type?"Sale Price":"Loan Amount",i="Sales"===this.state.type?this.state.mapData.Sales[this.state.position].sale_price:this.state.mapData&&this.state.mapData[this.state.type]&&this.state.mapData[this.state.type][this.state.position].loan_amount;var l="";"PW"!==this.state.type&&"IP"!==this.state.type&&"Closed"!==this.state.type&&"Inactive"!==this.state.type||(l=c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"12"},c.a.createElement("p",{className:"small-title"},"Brokers"),c.a.createElement("p",null,this.state.mapData[this.state.type][this.state.position].brokers?this.state.mapData[this.state.type][this.state.position].brokers.map((function(e,t){return c.a.createElement("span",{key:t},t>=1?c.a.createElement("span",{className:"orange-text"}," \u2022 "):"",c.a.createElement("span",{className:"orange-text"},e.broker_name))})):" - "))));var r="";"PW"!==this.state.type&&"IP"!==this.state.type&&"Closed"!==this.state.type&&"Inactive"!==this.state.type||this.state.mapData[this.state.type][this.state.position].quotes&&(r=c.a.createElement("div",null,c.a.createElement("div",{className:"quotes-title"},c.a.createElement(D.a,null),c.a.createElement("p",null,"Quotes")),this.state.mapData[this.state.type][this.state.position].quotes.map((function(t,a){return c.a.createElement("div",{key:a},c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title"},"Bank Name"),c.a.createElement("p",null,t.bank_name)),c.a.createElement(N.a,{md:"5",sm:"5"},c.a.createElement("p",{className:"small-title"},"Quote Date"),c.a.createElement("p",null,t.quote_date))),c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title"},"Loan"),c.a.createElement("p",null,t.quote_amount)),c.a.createElement(N.a,{md:"5",sm:"5"},c.a.createElement("p",{className:"small-title"},"Rate / Term"),c.a.createElement("p",null,t.rate," / ",t.term))),e.state.mapData[e.state.type][e.state.position].quotes.length>1?c.a.createElement(D.a,null):"")}))));var o="";"Sales"===this.state.type&&(o=c.a.createElement("div",null,c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title deal-info-title"},"Sq Ft"),c.a.createElement("p",null,this.state.mapData.Sales[this.state.position].sq_footage?this.state.mapData.Sales[this.state.position].sq_footage:" - ")),c.a.createElement(N.a,{md:"5",sm:"5"},c.a.createElement("p",{className:"small-title"},"Units"),c.a.createElement("p",null,this.state.mapData.Sales[this.state.position].units?this.state.mapData.Sales[this.state.position].units:" - "))),c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title"},"Buildings"),c.a.createElement("p",null,this.state.mapData.Sales[this.state.position].num_buildings?this.state.mapData.Sales[this.state.position].num_buildings:" - ")),c.a.createElement(N.a,{md:"5",sm:"5"},c.a.createElement("p",{className:"small-title deal-info-title"},"Floors"),c.a.createElement("p",null,this.state.mapData.Sales[this.state.position].num_floors?this.state.mapData.Sales[this.state.position].num_floors:" - "))),c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title"},"Price per Sq Ft"),c.a.createElement("p",null,this.state.mapData.Sales[this.state.position].price_per_sq_ft?this.state.mapData.Sales[this.state.position].price_per_sq_ft:" - ")),c.a.createElement(N.a,{md:"5",sm:"5"},c.a.createElement("p",{className:"small-title deal-info-title"},"Price Per Unit"),c.a.createElement("p",null,this.state.mapData.Sales[this.state.position].price_per_unit?this.state.mapData.Sales[this.state.position].price_per_unit:" - "))),c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title"}," Broker"),c.a.createElement("p",null,this.state.mapData.Sales[this.state.position].broker_full_name?this.state.mapData.Sales[this.state.position].broker_full_name:" - ")))));var p="";"Finance"===this.state.type&&(p=c.a.createElement("div",null,c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title deal-info-title"},"Bank"),c.a.createElement("p",null,this.state.mapData.Finance[this.state.position].lender?this.state.mapData.Finance[this.state.position].lender:" - ")),c.a.createElement(N.a,{md:"5",sm:"5"},c.a.createElement("p",{className:"small-title"},"Rate / Term"),c.a.createElement("p",null,this.state.mapData.Finance[this.state.position].rate,this.state.mapData.Finance[this.state.position].rate&&this.state.mapData.Finance[this.state.position].term?"/":"",this.state.mapData.Finance[this.state.position].term)))));var m="";"Closed"===this.state.type&&this.state.mapData[this.state.type][this.state.position].mortgage_info&&(m=c.a.createElement("div",null,c.a.createElement("div",{className:"quotes-title"},c.a.createElement(D.a,null),c.a.createElement("p",null,"Mortgage Info")),c.a.createElement("div",null,c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title"},"Bank"),c.a.createElement("p",null,this.state.mapData[this.state.type][this.state.position].mortgage_info.bank_name)),c.a.createElement(N.a,{md:"5",sm:"5"},c.a.createElement("p",{className:"small-title"},"Rate"),c.a.createElement("p",null,this.state.mapData[this.state.type][this.state.position].mortgage_info.rate))),c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title"},"Term / Amortization"),c.a.createElement("p",null,this.state.mapData[this.state.type][this.state.position].mortgage_info.term,"/"," ",this.state.mapData[this.state.type][this.state.position].mortgage_info.amortization)),c.a.createElement(N.a,{md:"5",sm:"5"},c.a.createElement("p",{className:"small-title"},"LTV"),c.a.createElement("p",null,this.state.mapData[this.state.type][this.state.position].mortgage_info.ltv))))));var h=null;return"SEARCHED LOCATION"===this.state.type?h=c.a.createElement("div",{className:"deal-popup-content"},c.a.createElement("div",{className:"deal-popup-header clearfix"},c.a.createElement("p",null,this.state.type),c.a.createElement("i",{className:"material-icons",onClick:this.togglePopup.bind(this)},"close")),c.a.createElement("div",{className:"deal-popup-body"},c.a.createElement("div",{className:"dp-street-view"},c.a.createElement("img",{src:"/images/icons/street-view-square.png",onClick:function(){return e.props.navigateToStreetView(e.state.latitude,e.state.longitude,Object(T.a)("address"))},alt:"sv-square",className:"street-view"})),c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"9",sm:"9"},c.a.createElement("p",{className:"small-title deal-info-title"},"Address"),c.a.createElement("p",null,decodeURIComponent(Object(T.a)("address"))))))):this.state.type&&(h=c.a.createElement("div",{className:"deal-popup-content"},c.a.createElement("div",{className:"deal-popup-header clearfix"},c.a.createElement("p",null,this.state.mapData[this.state.type][this.state.position].type),c.a.createElement("i",{className:"material-icons",onClick:this.togglePopup.bind(this)},"close")),c.a.createElement("div",{className:"deal-popup-body"},c.a.createElement("div",{className:"dp-street-view"},c.a.createElement("img",{src:"/images/icons/street-view-square.png",onClick:function(){return e.props.navigateToStreetView(e.state.latitude,e.state.longitude)},alt:"sv-square",className:"street-view"})),c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title deal-info-title"},"Address"),c.a.createElement("p",null,this.state.mapData[this.state.type][this.state.position].property_address),c.a.createElement("p",null,this.state.mapData[this.state.type][this.state.position].city_state)),c.a.createElement(N.a,{md:"5",sm:"5"},c.a.createElement("p",{className:"small-title"},t),c.a.createElement("p",null,a||" - "))),c.a.createElement(S.a,null,c.a.createElement(N.a,{md:"7",sm:"7"},c.a.createElement("p",{className:"small-title"},"Property Type"),c.a.createElement("p",null,this.state.mapData[this.state.type][this.state.position].property_type?this.state.mapData[this.state.type][this.state.position].property_type:" - ")),c.a.createElement(N.a,{md:"5",sm:"5"},c.a.createElement("p",{className:"small-title"},n),c.a.createElement("p",null,i||" - "))),l,m,r,o,p))),c.a.createElement("div",{className:"qts-map"},c.a.createElement("div",{className:"qts-map-key",onClick:this.toggleMapKeyCollapse,style:{height:this.state.mapKeyCollapsed?74:void 0}},c.a.createElement("div",{className:"qts-map-header"},c.a.createElement("i",{className:"material-icons pointer"},this.state.mapKeyCollapsed?"add":"remove")),c.a.createElement("img",{src:"/images/qts-mapkey2.png",alt:"qts-map"})),c.a.createElement("div",{className:"qts-filter-circle",onClick:this.openModal.bind(this)},c.a.createElement("i",{className:"material-icons"},"filter_list"),c.a.createElement("span",{className:"qts-filter-tooltip"},"Filter")),c.a.createElement("div",{id:"map",ref:"map",className:"map-full-width"}),c.a.createElement("div",{className:this.state.popupShowing?"deal-popup":"deal-popup-hidden page-overflow-hidden"},h),c.a.createElement(C,{isOpen:this.state.filterModalOpen,closeModal:this.closeModal.bind(this),recentSlider:this.props.recentSlider,recentSliderChange:this.props.recentSliderChange,financeSlider:this.props.financeSlider,financeSliderChange:this.props.financeSliderChange,salesSlider:this.props.salesSlider,salesSliderChange:this.props.salesSliderChange,clSlider:this.props.clSlider,clSliderChange:this.props.clSliderChange,ipChecked:this.props.ipChecked,ipCheckboxChange:this.props.ipCheckboxChange,pwChecked:this.props.pwChecked,pwCheckboxChange:this.props.pwCheckboxChange,clChecked:this.props.clChecked,clCheckboxChange:this.props.clCheckboxChange,salesChecked:this.props.salesChecked,salesCheckboxChange:this.props.salesCheckboxChange,financeChecked:this.props.financeChecked,financeCheckboxChange:this.props.financeCheckboxChange,recentChecked:this.props.recentChecked,recentCheckboxChange:this.props.recentCheckboxChange,submitFilter:this.submitFilter.bind(this)}))}}]),a}(c.a.Component),I=a(88),A=a(2),q=a(80),j=a(771),L=window.google,M=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={filterModalOpen:!1,clSlider:sessionStorage.getItem("qts_range_a")?parseInt(sessionStorage.getItem("qts_range_a"),10):0,salesSlider:sessionStorage.getItem("qts_range_b")?parseInt(sessionStorage.getItem("qts_range_b"),10):0,financeSlider:sessionStorage.getItem("qts_range_c")?parseInt(sessionStorage.getItem("qts_range_c"),10):40,recentSlider:sessionStorage.getItem("qts_range_d")?parseInt(sessionStorage.getItem("qts_range_d"),10):0,ipChecked:!sessionStorage.getItem("qts_ipChecked")||sessionStorage.getItem("qts_ipChecked"),pwChecked:!sessionStorage.getItem("qts_pwChecked")||sessionStorage.getItem("qts_pwChecked"),clChecked:!sessionStorage.getItem("qts_clChecked")||sessionStorage.getItem("qts_clChecked"),salesChecked:!sessionStorage.getItem("qts_salesChecked")||sessionStorage.getItem("qts_salesChecked"),financeChecked:!sessionStorage.getItem("qts_financeChecked")||sessionStorage.getItem("qts_financeChecked"),recentChecked:"true"===sessionStorage.getItem("qts_show_inactive"),mapData:{},pathname:window.location.href},n}return Object(n.a)(a,[{key:"pwCheckboxChange",value:function(){this.setState({pwChecked:!this.state.pwChecked})}},{key:"ipCheckboxChange",value:function(){this.setState({ipChecked:!this.state.ipChecked})}},{key:"clCheckboxChange",value:function(){this.setState({clChecked:!this.state.clChecked})}},{key:"salesCheckboxChange",value:function(){this.setState({salesChecked:!this.state.salesChecked})}},{key:"financeCheckboxChange",value:function(){this.setState({financeChecked:!this.state.financeChecked})}},{key:"recentCheckboxChange",value:function(){this.setState({recentChecked:!this.state.recentChecked})}},{key:"recentSliderChange",value:function(e){this.setState({recentSlider:e})}},{key:"financeSliderChange",value:function(e){this.setState({financeSlider:e})}},{key:"salesSliderChange",value:function(e){this.setState({salesSlider:e})}},{key:"clSliderChange",value:function(e){this.setState({clSlider:e})}},{key:"componentDidMount",value:function(){sessionStorage.getItem("qts_address")||sessionStorage.setItem("qts_address",Object(T.a)("address")||""),sessionStorage.getItem("qts_bank")||sessionStorage.setItem("qts_bank",Object(T.a)("bank")||""),sessionStorage.getItem("qts_radius")||sessionStorage.setItem("qts_radius",Object(T.a)("radius")||""),sessionStorage.getItem("qts_propertyTypes")||sessionStorage.setItem("qts_propertyTypes",Object(T.a)("property_types")||""),this.loadQTSMap()}},{key:"loadQTSMap",value:function(){var e,t=parseInt(this.state.clSlider,10);e=0===t?6:30===t?12:65===t?18:24;var a,s=parseInt(this.state.salesSlider,10);a=0===s?6:30===s?12:65===s?18:24;var n,i=parseInt(this.state.financeSlider,10);n=0===i?2:20===i?3:40===i?6:60===i?12:80===i?18:24;var l,r=parseInt(this.state.recentSlider,10);l=0===r?2:50===r?3:6,this.props.actions.loadQTSMap(Object(T.a)("latitude"),Object(T.a)("longitude"),Object(T.a)("city"),Object(T.a)("state"),Object(T.a)("property_types")?decodeURIComponent(Object(T.a)("property_types")).split(",").map((function(e){return parseInt(e,10)})):[],"city"===Object(T.a)("radius")?"":Object(T.a)("radius"),Object(T.a)("date_range"),e,a,n,l,this.state.recentChecked?1:"",this.state.ipChecked,this.state.pwChecked,this.state.clChecked,this.state.salesChecked,this.state.financeChecked,Object(T.a)("bank"),Object(T.a)("in_nyc")?parseInt(Object(T.a)("in_nyc"),10):null)}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.state.pathname!==window.location.href&&(this.loadQTSMap(),this.setState({pathname:window.location.href}))}},{key:"submitFilterQTSMap",value:function(){sessionStorage.setItem("qts_range_a",this.state.clSlider),sessionStorage.setItem("qts_range_b",this.state.salesSlider),sessionStorage.setItem("qts_range_c",this.state.financeSlider),sessionStorage.setItem("qts_range_d",this.state.recentSlider),sessionStorage.setItem("qts_show_inactive",this.state.recentChecked),sessionStorage.setItem("qts_ipChecked",this.state.ipChecked),sessionStorage.setItem("qts_pwChecked",this.state.pwChecked),sessionStorage.setItem("qts_clChecked",this.state.clChecked),sessionStorage.setItem("qts_salesChecked",this.state.salesChecked),sessionStorage.setItem("qts_financeChecked",this.state.financeChecked),this.loadQTSMap()}},{key:"navigateToStreetView",value:function(e,t,a){var s=this;(new L.maps.StreetViewService).getPanorama({location:{lat:parseFloat(e),lng:parseFloat(t)},radius:50},(function(n,i){"OK"===i?A.f.go("/comp-sv?".concat(Object(q.a)({latitude:e,longitude:t,address:a||n.location.description}))):s.props.actions.updateErrorToast("No street view available for this property")}))}},{key:"render",value:function(){var e=null;return this.props.qts.toast.show&&(e=c.a.createElement(I.a,{closeToast:this.props.actions.closeToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,this.props.qts.toast.message),c.a.createElement(E.a,{variant:"flat",onClick:this.props.actions.closeToast},this.props.qts.toast.success?"Done":"Dismiss")))),c.a.createElement(j.a,null,e,this.props.qts.loadingMap?c.a.createElement(g.a,{className:"loading-modal",isOpen:this.props.qts.loadingMap,ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!1},c.a.createElement("div",{className:this.props.qts.loadingMap?"centered-spinner":"hidden"},c.a.createElement("img",{src:"/images/icons/spin.svg",className:"loading-spinner",alt:"loading spinner"}))):c.a.createElement(w,{mapData:this.props.qts.mapData,center:this.props.qts.mapCenter,radius:this.props.match.params.radius,clSlider:this.state.clSlider,salesSlider:this.state.salesSlider,financeSlider:this.state.financeSlider,recentSlider:this.state.recentSlider,ipChecked:this.state.ipChecked,pwChecked:this.state.pwChecked,clChecked:this.state.clChecked,salesChecked:this.state.salesChecked,financeChecked:this.state.financeChecked,recentChecked:this.state.recentChecked,navigateToStreetView:this.navigateToStreetView.bind(this),submitFilter:this.submitFilterQTSMap.bind(this),pwCheckboxChange:this.pwCheckboxChange.bind(this),ipCheckboxChange:this.ipCheckboxChange.bind(this),clCheckboxChange:this.clCheckboxChange.bind(this),salesCheckboxChange:this.salesCheckboxChange.bind(this),financeCheckboxChange:this.financeCheckboxChange.bind(this),recentCheckboxChange:this.recentCheckboxChange.bind(this),recentSliderChange:this.recentSliderChange.bind(this),financeSliderChange:this.financeSliderChange.bind(this),salesSliderChange:this.salesSliderChange.bind(this),clSliderChange:this.clSliderChange.bind(this)}))}}]),a}(c.a.Component);t.default=Object(o.b)((function(e){return{comps:e.comps,qts:e.QTS}}),(function(e){return{actions:Object(p.b)(m,e)}}))(M)}}]);
//# sourceMappingURL=37.0a463e8a.chunk.js.map