{"version":3,"sources":["components/loans/AllLoan.js","components/loans/AllLoansPage.js","components/loans/AllLoansContainer.js"],"names":["Loan","props","state","bankerConfirmToast","this","setState","e","stopPropagation","show_add_button","addBankerToLoan","item","raw_closing_date","claim_id","in_nyc","addBankerConfirmationToast","className","variant","onClick","addBankerAdd","addBankerCancel","bind","key","property_id","navToDealDetails","deal_id","total_violations","additional_properties","md","sm","xs","property_address","src","alt","openStreetView","latitude","longitude","city_state_zip","source","property_type","status","closing_date","loan_amount","total_units","total_area","bankers","map","index","banker_name","rb_id","removeBanker","showAddBankerConfirmation","style","marginBottom","marginTop","navToComps","property_type_id","total_comps","formatTotalComps","total_complaints","React","Component","google","window","AllLoansPage","sessionStorage","setItem","setPageAndScrollPos","scrollY","submitCompsSearch","violations","page","data","location","search","previous_page","pathname","Navigation","go","encodeQueryData","showNoDataToast","lat","long","maps","StreetViewService","getPanorama","parseFloat","lng","radius","address","allLoans","loans","loading","isOpen","ariaHideApp","contentLabel","shouldCloseOnOverlayClick","type","id","checked","showOthersLoans","onChange","updateShowOthersLoans","htmlFor","length","PageNavigation","currentPage","totalPages","pages","noLoans","message","MyLoansContainer","scrolled","comps","previousScrollPos","setTimeout","scrollTo","compsActions","resetScrollPosition","loadAllLoans","nextProps","actions","getParameterByName","others","toast","noDataToast","Expire","closeToast","closeNoDataToast","delay","addBankerToAllLoan","removeBankerFromAllLoan","connect","dispatch","bindActionCreators","myLoansActions"],"mappings":"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","file":"static/js/78.f112eac3.chunk.js","sourcesContent":["import React from \"react\";\nimport Row from \"muicss/lib/react/row\";\nimport Col from \"muicss/lib/react/col\";\nimport Divider from \"muicss/lib/react/divider\";\nimport Button from \"muicss/lib/react/button\";\nimport { formatTotalComps } from \"../../lib\";\n\nexport default class Loan extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bankerConfirmToast: false,\n    };\n  }\n\n  showAddBankerConfirmation() {\n    this.setState({ bankerConfirmToast: true });\n  }\n\n  addBankerAdd(e) {\n    e.stopPropagation();\n    this.setState(\n      { bankerConfirmToast: false, show_add_button: false },\n      function () {\n        this.props.addBankerToLoan(\n          this.props.item.raw_closing_date,\n          this.props.item.claim_id,\n          this.props.item.in_nyc ? 1 : 0\n        );\n      }\n    );\n  }\n\n  addBankerCancel() {\n    this.setState({ bankerConfirmToast: false });\n  }\n\n  render() {\n    let addBankerConfirmationToast = null;\n    if (this.state.bankerConfirmToast) {\n      addBankerConfirmationToast = (\n        <div>\n          <div className=\"success-message\">\n            <p>\n              Adding yourself as a banker on this property indicates that you\n              have financed the loan.\n            </p>\n            <Button variant=\"flat\" onClick={(e) => this.addBankerAdd(e)}>\n              Add\n            </Button>\n            <Button variant=\"flat\" onClick={this.addBankerCancel.bind(this)}>\n              Cancel\n            </Button>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"loan\">\n        {addBankerConfirmationToast}\n        <div\n          className=\"panel mui-panel\"\n          key={this.props.item.property_id}\n          onClick={this.props.navToDealDetails.bind(\n            this,\n            this.props.item.deal_id,\n            this.props.item.in_nyc,\n            this.props.item.total_violations,\n            this.props.item.additional_properties,\n            null\n          )}\n        >\n          <Row className=\"panel-heading\">\n            <Col md=\"10\" sm=\"10\" xs=\"10\">\n              <p className=\"panel-info-value property-title\">\n                {this.props.item.property_address}\n              </p>\n            </Col>\n            <Col md=\"2\" sm=\"2\" xs=\"2\">\n              <img\n                src=\"/images/icons/street-view-square.png\"\n                className=\"street-view-square-loans\"\n                alt=\"sv-square\"\n                onClick={() => {\n                  this.props.openStreetView(\n                    this.props.item.latitude,\n                    this.props.item.longitude,\n                    this.props.item.property_address,\n                    this.props.item.city_state_zip\n                  );\n                }}\n              />\n            </Col>\n          </Row>\n          <Row>\n            <Col md=\"3\">\n              <p className=\"small-title deal-info-title\">Address</p>\n              <p className=\"panel-info-value\">\n                {this.props.item.city_state_zip}\n              </p>\n              <p className=\"panel-info-value\">\n                {this.props.item.source === \"lt\" ? (\n                  <i\n                    className=\"orange-text orange-text-hover pointer\"\n                    onClick={this.props.navToDealDetails.bind(\n                      this,\n                      this.props.item.deal_id,\n                      this.props.item.in_nyc,\n                      this.props.item.total_violations,\n                      this.props.item.additional_properties,\n                      \"property-details\"\n                    )}\n                  >\n                    {this.props.item.additional_properties === 0\n                      ? \"\"\n                      : this.props.item.additional_properties === 1\n                      ? \"1 other property\"\n                      : this.props.item.additional_properties +\n                        \" other properties\"}\n                  </i>\n                ) : (\n                  \"\"\n                )}\n              </p>\n            </Col>\n            <Col md=\"3\">\n              <p className=\"small-title deal-info-title\">Property Type</p>\n              <p className=\"panel-info-value\">\n                {this.props.item.property_type\n                  ? this.props.item.property_type\n                  : \"--\"}\n              </p>\n            </Col>\n            <Col md=\"3\">\n              <p className=\"small-title deal-info-title\">Deal Status</p>\n              <p className=\"panel-info-value\">\n                {this.props.item.status ? this.props.item.status : \"--\"}\n              </p>\n            </Col>\n            <Col md=\"3\">\n              <p className=\"small-title deal-info-title\">Closed Date</p>\n              <p className=\"panel-info-value\">\n                {this.props.item.closing_date\n                  ? this.props.item.closing_date\n                  : \"--\"}\n              </p>\n            </Col>\n          </Row>\n          <Row>\n            <Col md=\"3\">\n              <p className=\"small-title deal-info-title\">Loan Amount</p>\n              <p className=\"panel-info-value\">\n                {this.props.item.loan_amount\n                  ? this.props.item.loan_amount\n                  : \"--\"}\n              </p>\n            </Col>\n            <Col md=\"3\">\n              <p className=\"small-title deal-info-title\">Units / Square Feet</p>\n              <p className=\"panel-info-value\">\n                {this.props.item.total_units || \"-\"} /{\" \"}\n                {this.props.item.total_area || \"-\"}\n              </p>\n            </Col>\n\n            <Col md=\"3\">\n              <p className=\"small-title deal-info-title\">Banker Name</p>\n              {this.props.item.bankers ? (\n                <p className=\"panel-info-value\">\n                  {this.props.item.bankers.map((item, index) => {\n                    return (\n                      <span key={index}>\n                        {index >= 1 ? <span> &#8226; </span> : \"\"}\n                        <span className=\"banker-name\">\n                          {item.banker_name}{\" \"}\n                          {item.rb_id ? (\n                            <i\n                              className=\"material-icons add-banker-circle-remove\"\n                              onClick={() => {\n                                this.props.removeBanker(\n                                  item.rb_id,\n                                  this.props.item.claim_id\n                                );\n                              }}\n                            >\n                              clear\n                            </i>\n                          ) : (\n                            \"\"\n                          )}\n                        </span>\n                      </span>\n                    );\n                  })}\n                </p>\n              ) : (\n                \"\"\n              )}\n              {this.props.item.show_add_button ? (\n                <div\n                  className=\"add-banker-section\"\n                  onClick={this.showAddBankerConfirmation.bind(this)}\n                >\n                  <p className=\"panel-info-value\">Add me as a Banker</p>\n                  <i className=\"material-icons add-banker-circle\">add_circle</i>\n                </div>\n              ) : (\n                \"\"\n              )}\n            </Col>\n          </Row>\n          <Row style={{ marginBottom: \"10px\" }} />\n          {this.props.item.source === \"lt\" ? (\n            <Row>\n              <Divider style={{ marginTop: \"20px\" }} />\n              <Row>\n                <Col md=\"12\">\n                  <div className=\"comps-row\">\n                    <div\n                      onClick={this.props.navToComps.bind(\n                        this,\n                        this.props.item.in_nyc,\n                        this.props.item.property_address,\n                        this.props.item.city_state_zip,\n                        this.props.item.property_type_id\n                      )}\n                    >\n                      <div>\n                        <div\n                          className={\n                            this.props.item.in_nyc &&\n                            this.props.item.total_violations !== null\n                              ? \"border-right\"\n                              : \"\"\n                          }\n                        >\n                          <p className=\"violation-value comps\">\n                            {this.props.item.total_comps\n                              ? formatTotalComps(this.props.item.total_comps)\n                              : \"0\"}\n                            <span>Comps</span>\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                    <div\n                      className={\n                        this.props.item.in_nyc &&\n                        this.props.item.total_violations !== null\n                          ? \"comps-row-violations\"\n                          : \"hidden\"\n                      }\n                      onClick={this.props.navToDealDetails.bind(\n                        this,\n                        this.props.item.deal_id,\n                        this.props.item.in_nyc,\n                        this.props.item.total_violations,\n                        this.props.item.additional_properties,\n                        \"violations\"\n                      )}\n                    >\n                      <div>\n                        <p className=\"violation-value\">\n                          {this.props.item.total_violations}\n                          <span>Violations</span>\n                        </p>\n                      </div>\n                      <div>\n                        <p className=\"violation-value\">\n                          {this.props.item.total_complaints}\n                          <span>Complaints</span>\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </Col>\n              </Row>\n            </Row>\n          ) : (\n            \"\"\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Navigation } from \"../../lib\";\nimport Row from \"muicss/lib/react/row\";\nimport Modal from \"react-modal\";\nimport Loan from \"./AllLoan\";\nimport encodeQueryData from \"../common/encodeQueryData\";\nimport PageNavigation from \"../common/PageNavigation\";\nconst google = window.google;\n\nexport default class AllLoansPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  navToComps(in_nyc, property_address, city_state_zip, property_type_id, e) {\n    e.stopPropagation();\n    sessionStorage.setItem(\"comps_inNYC\", in_nyc);\n    this.props.setPageAndScrollPos(\"/loans/all-loans\", window.scrollY);\n    this.props.submitCompsSearch(\n      `${property_address} ${city_state_zip}`,\n      property_type_id\n    );\n  }\n\n  navToDealDetails(\n    deal_id,\n    in_nyc,\n    violations,\n    additional_properties,\n    page,\n    e\n  ) {\n    e.stopPropagation();\n    if (deal_id > 0 || violations >= 0 || additional_properties > 0) {\n      if (!page) {\n        page = additional_properties > 0 ? \"property-details\" : \"violations\";\n      }\n      this.props.setPageAndScrollPos(\"/loans/all-loans\", window.scrollY);\n      let data = {\n        deal_id,\n        in_nyc,\n        violations,\n        additional_properties,\n      };\n\n      if (window.location.search) {\n        data.previous_page = window.location.pathname + window.location.search;\n      }\n      Navigation.go(`/all-loans-dd/${page}?${encodeQueryData(data)}`);\n    } else {\n      this.props.showNoDataToast(\n        \"There is no violations or deal details on this loan.\"\n      );\n    }\n  }\n\n  openStreetView(lat, long, property_address, city_state_zip) {\n    var sv = new google.maps.StreetViewService();\n    sv.getPanorama(\n      {\n        location: {\n          lat: parseFloat(lat),\n          lng: parseFloat(long),\n        },\n        radius: 50,\n      },\n      (data, status) => {\n        if (status === \"OK\") {\n          this.props.setPageAndScrollPos(\"/loans/all-loans\", window.scrollY);\n          Navigation.go(\n            `/comp-sv?${encodeQueryData({\n              latitude: lat,\n              longitude: long,\n              address: property_address + \" \" + city_state_zip,\n            })}`\n          );\n        } else {\n          this.props.showNoDataToast(\n            \"No street view available for this property.\"\n          );\n        }\n      }\n    );\n  }\n\n  render() {\n    const allLoans = this.props.loans.map((item, index) => (\n      <Loan\n        key={index}\n        item={item}\n        navToDealDetails={this.navToDealDetails.bind(this)}\n        openStreetView={this.openStreetView.bind(this)}\n        addBankerToLoan={this.props.addBankerToLoan}\n        removeBanker={this.props.removeBanker}\n        navToComps={this.navToComps.bind(this)}\n      />\n    ));\n    return (\n      <div>\n        {!this.props.loading ? (\n          <Row>\n            <div className=\"rkmd-checkbox checkbox-ripple other-loans-check\">\n              <label className=\"input-checkbox checkbox-lightBlue\">\n                <input\n                  type=\"checkbox\"\n                  id=\"others\"\n                  checked={this.props.showOthersLoans}\n                  onChange={this.props.updateShowOthersLoans.bind(\n                    null,\n                    !this.props.showOthersLoans\n                  )}\n                />\n                <span className=\"checkbox\"></span>\n                <span className=\"ripple\"></span>\n              </label>\n              <p htmlFor=\"others\" className=\"label\">\n                Only show other banker's loans\n              </p>\n            </div>\n\n            {allLoans.length ? (\n              <div>\n                {allLoans}\n                <PageNavigation\n                  currentPage={this.props.currentPage}\n                  totalPages={this.props.pages}\n                />\n              </div>\n            ) : (\n              <div className={this.props.noLoans ? \"\" : \"hidden\"}>\n                <div>\n                  <div className=\"grey-circle\">\n                    <i className=\"material-icons\">warning</i>\n                  </div>\n                  <h2 className=\"no-results\">{this.props.message}</h2>\n                </div>\n              </div>\n            )}\n          </Row>\n        ) : (\n          <Modal\n            className=\"loading-modal\"\n            isOpen={this.props.loading}\n            ariaHideApp={false}\n            contentLabel=\"Modal\"\n            shouldCloseOnOverlayClick={false}\n          >\n            <div className={this.props.loading ? \"centered-spinner\" : \"hidden\"}>\n              <img\n                src=\"/images/icons/spin.svg\"\n                className=\"loading-spinner\"\n                alt=\"loading spinner\"\n              />\n            </div>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as myLoansActions from \"../../actions/loansActions\";\nimport * as compsActions from \"../../actions/compsActions\";\nimport AllLoansPage from \"./AllLoansPage\";\nimport Expire from \"../common/Expire\";\nimport Button from \"muicss/lib/react/button\";\nimport getParameterByName from \"../common/getParameterByName\";\n\nclass MyLoansContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      scrolled: false,\n      showOthersLoans: 1,\n    };\n  }\n\n  UNSAFE_componentWillMount() {\n    if (!this.props.comps.previousScrollPos[0]) {\n      this.loadAllLoans(this.props.loans.search);\n    } else {\n      setTimeout(() => {\n        window.scrollTo(\n          0,\n          this.props.comps.previousScrollPos[\n            this.props.comps.previousScrollPos.length - 1\n          ]\n        );\n      }, 100);\n      setTimeout(() => {\n        this.props.compsActions.resetScrollPosition();\n      }, 1000);\n\n      this.setState({\n        scrolled: true,\n      });\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (\n      this.props.location.search !== nextProps.location.search ||\n      this.props.loans.search !== nextProps.loans.search\n    ) {\n      this.loadAllLoans(nextProps.loans.search);\n    }\n  }\n\n  loadAllLoans(search) {\n    this.props.actions.loadAllLoans(\n      search,\n      this.state.showOthersLoans,\n      getParameterByName(\"page\") || 1\n    );\n  }\n\n  updateShowOthersLoans(others) {\n    this.setState(\n      {\n        showOthersLoans: others ? 1 : 0,\n      },\n      function () {\n        this.props.actions.loadAllLoans(\n          this.props.loans.search,\n          this.state.showOthersLoans\n        );\n      }\n    );\n  }\n\n  render() {\n    let toast = \"\";\n    if (this.props.loans.noDataToast) {\n      toast = (\n        <Expire closeToast={this.props.actions.closeNoDataToast} delay={6000}>\n          <div className=\"success-message\">\n            <p>{this.props.loans.message}</p>\n            <Button\n              variant=\"flat\"\n              onClick={this.props.actions.closeNoDataToast}\n            >\n              Done\n            </Button>\n          </div>\n        </Expire>\n      );\n    }\n    return (\n      <div>\n        {toast}\n        <AllLoansPage\n          pages={this.props.loans.pages}\n          loans={this.props.loans.allLoans}\n          noLoans={this.props.loans.noLoans}\n          message={this.props.loans.message}\n          loading={this.props.loans.loading}\n          currentPage={this.state.page || 1}\n          submitCompsSearch={this.props.compsActions.submitCompsSearch}\n          setPageAndScrollPos={this.props.compsActions.setPageAndScrollPos}\n          showNoDataToast={this.props.actions.showNoDataToast}\n          addBankerToLoan={this.props.actions.addBankerToAllLoan}\n          removeBanker={this.props.actions.removeBankerFromAllLoan}\n          showOthersLoans={this.state.showOthersLoans}\n          updateShowOthersLoans={this.updateShowOthersLoans.bind(this)}\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    loans: state.loans,\n    comps: state.comps,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(myLoansActions, dispatch),\n    compsActions: bindActionCreators(compsActions, dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyLoansContainer);\n"],"sourceRoot":""}