(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[46],{749:function(e,t,a){"use strict";var n=a(9),s=a(8),o=a(12),i=a(11),c=a(0),l=a.n(c),r=a(72),p=a.n(r),d=a(34),m=a.n(d),u=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(p.a,{className:"delete-modal",isOpen:this.props.isOpen,ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!0},l.a.createElement("p",{className:"bold-text"},this.props.message),l.a.createElement("div",{className:"modal-btns"},l.a.createElement(m.a,{variant:"flat",onClick:this.props.close},"CANCEL"),l.a.createElement(m.a,{variant:"flat",onClick:this.props.confirm},this.props.confirmBtnText?this.props.confirmBtnText:"YES")))}}]),a}(l.a.Component);t.a=u},753:function(e,t,a){"use strict";var n=a(9),s=a(8),o=a(12),i=a(11),c=a(0),l=a.n(c),r=a(72),p=a.n(r),d=a(46),m=a.n(d),u=a(73),h=a.n(u),f=a(34),b=a.n(f),g=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={rating:s.props.client_rating},s}return Object(s.a)(a,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.submitRatingModal(this.props.contactId,this.state.rating)}},{key:"onChangeRating",value:function(e){this.setState({rating:e.target.value})}},{key:"render",value:function(){var e=this.props.ratingList.map((function(e){return l.a.createElement(m.a,{key:e.list_type_id,value:e.list_type_id,label:e.value})}));return l.a.createElement(p.a,{className:"rating-modal",isOpen:this.props.isOpen,onRequestClose:this.props.onRequestClose,style:{content:{margin:"auto"}},ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!0},l.a.createElement("div",{className:"modal-form"},l.a.createElement("p",{className:"add-note-modal"},"Rating"),l.a.createElement(h.a,{defaultValue:this.state.rating,onChange:this.onChangeRating.bind(this),label:"Change Rating"},e),l.a.createElement("div",{className:"add-note-buttons"},l.a.createElement(b.a,{variant:"flat",onClick:this.props.onRequestClose,className:"cancel-btn"},"cancel"),l.a.createElement(b.a,{variant:"flat",onClick:this.onSubmit.bind(this),type:"submit",value:"submit"},"Save"))))}}]),a}(l.a.Component);t.a=g},957:function(e,t,a){"use strict";a.r(t);var n=a(10),s=a.n(n),o=a(19),i=a(9),c=a(8),l=a(17),r=a(12),p=a(11),d=a(0),m=a.n(d),u=a(6),h=a(23),f=a(127),b=a(164),g=a(270),v=a(26),y=a.n(v),E=a(87),C=a.n(E),_=a(210),N=a.n(_),k=function(e){return m.a.createElement("div",null,m.a.createElement(N.a,null),m.a.createElement(y.a,null,m.a.createElement(C.a,{lg:"3",md:"3",sm:"4",xs:"4"},m.a.createElement("p",{className:e.hide?"cd-info-header not-shown":"cd-info-header"},e.type)),m.a.createElement(C.a,{lg:"8",md:"8",sm:"7",xs:"7"},m.a.createElement("div",{className:e.hide?"cd-info not-shown":"cd-info"},"phone"===e.category?m.a.createElement("a",{href:"tel:".concat(e.contact)},e.contact):e.contact,m.a.createElement("i",{className:"1"===e.isPrimary?"material-icons main":"hidden",onClick:function(){return e.setAsMain(e.cpId,e.category,0)}},"check_circle"))),m.a.createElement(C.a,{md:"1",sm:"1",xs:"1"},m.a.createElement("div",{className:"cd-page-dropdown"},m.a.createElement("img",{src:"/images/icons/dots-vertical2.png",alt:"dots-vertical",className:"cd-dropdown-icon"}),m.a.createElement("div",{className:"cd-dropdown-content"},"4"!==e.typeCode&&"9"!==e.typeCode&&"14"!==e.typeCode?m.a.createElement("div",{href:"#",className:"1"===e.isPrimary?"disabled-main-link":"",onClick:function(){return"1"===e.isPrimary?console.log():e.setAsMain(e.cpId,e.category,1)}},m.a.createElement("i",{className:"material-icons main-dropdown"},"check_circle"),"Set as main"):null,m.a.createElement("div",{href:"#",onClick:function(){return e.editContact(e.cpId,e.category,e.typeCode,e.contact)}},m.a.createElement("img",{src:"/images/icons/pencil-gray.png",alt:"pencil-gray"}),"Edit"),m.a.createElement("div",{href:"#",onClick:function(){return e.deleteContact(e.cpId,e.contactId)}},m.a.createElement("img",{src:"/images/icons/delete.png",alt:"delete"}),"Delete"),"phone"===e.category||"email"===e.category?m.a.createElement("div",{href:"#",onClick:function(){return e.openConfirmBlockNumberModal(e.contactId,"phone"===e.category?1:"2",e.contact)}},m.a.createElement("img",{src:"/images/icons/cancel.svg",className:"main-dropdown",alt:"main-dropdown"}),"Block this Number"):"")))))},M=a(65),S=a(2),O=a(39),w=a.n(O),x=a(72),I=a.n(x),P=a(38),j=a.n(P),D=a(46),T=a.n(D),A=a(73),L=a.n(A),B=a(40),R=a.n(B),V=a(34),q=a.n(V),H=a(32),U=function(e){Object(r.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={selectBoxValue:"",textBoxValue:n.props.value,errorMessage:"",modalSubTypeCode:""},n.selectChangeHandler=n.selectChangeHandler.bind(Object(l.a)(n)),n.textBoxChangeHandler=n.textBoxChangeHandler.bind(Object(l.a)(n)),n.submitContact=n.submitContact.bind(Object(l.a)(n)),n.closeModal=n.closeModal.bind(Object(l.a)(n)),n.validateEmail=n.validateEmail.bind(Object(l.a)(n)),n.validatePhone=n.validatePhone.bind(Object(l.a)(n)),n.validateWebsite=n.validateWebsite.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){(e.value||e.modalSubTypeCode)&&this.setState({textBoxValue:e.value,modalSubTypeCode:e.modalSubTypeCode,selectBoxValue:e.modalSubTypeCode})}},{key:"validatePhone",value:function(e){return/^(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:\(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+))?$/.test(e)}},{key:"validateEmail",value:function(e){return/[^@]+@[^@]+\.[^@]+/.test(e)}},{key:"validateWebsite",value:function(e){return/^^(https:|)(www.)?([^]+)\.(\w{2}|(com|net|org|edu|int|mil|gov|arpa|biz|aero|name|coop|info|pro|museum))$/.test(e)}},{key:"selectChangeHandler",value:function(e){this.setState({selectBoxValue:e.target.value})}},{key:"textBoxChangeHandler",value:function(e){var t=Object(H.findDOMNode)(e.target),a=t.selectionStart;if(this.setState({textBoxValue:e.target.value},(function(){t.setSelectionRange(a,a)})),"phone"===this.props.type){var n=this.validatePhone(e.target.value);n||this.setState({errorMessage:"Not a valid phone number"}),n&&this.setState({errorMessage:""})}else if("email"===this.props.type){var s=this.validateEmail(e.target.value);s||this.setState({errorMessage:"Not a valid email"}),s&&this.setState({errorMessage:""})}else if("fax"===this.props.type){this.setState({textBoxValue:e.target.value});var o=this.validatePhone(e.target.value);o||this.setState({errorMessage:"Not a valid phone number"}),o&&this.setState({errorMessage:""})}else if("website"===this.props.type){this.setState({textBoxValue:e.target.value});var i=this.validateWebsite(e.target.value);i||this.setState({errorMessage:"Not a valid website"}),i&&this.setState({errorMessage:""})}}},{key:"submitContact",value:function(){var e=Object(o.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={fax:4,email:13,phone:1,website:14},n=null,n="fax"===this.props.type||"phone"===this.props.type?this.state.textBoxValue.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):"email"===this.props.type?this.state.textBoxValue.replace("\\s+",""):this.state.textBoxValue,""===this.props.cp_id){e.next=9;break}return e.next=7,this.props.editContact(this.props.cp_id,this.props.type,this.state.selectBoxValue||a[this.props.type],n);case 7:e.next=11;break;case 9:return e.next=11,this.props.addContact(this.props.contactId,this.state.selectBoxValue||a[this.props.type],n);case 11:this.props.updateContactDetails.success?this.resetModal():this.setState({errorMessage:this.props.updateContactDetails.message});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"closeModal",value:function(e){e.preventDefault(),this.resetModal()}},{key:"resetModal",value:function(){this.setState({selectBoxValue:"",textBoxValue:"",toggleOn:!1,errorMessage:""}),this.props.onRequestClose()}},{key:"render",value:function(){var e=null;this.props.type&&(e={fax:[{label:"Office",code:4},{label:"Home",code:9}],email:[{label:"Work",code:13},{label:"Personal",code:15}],phone:[{label:"Office",code:1},{label:"Company",code:7},{label:"Home",code:8},{label:"Mobile",code:10}],website:[{label:"Website",code:14}]}[this.props.type].map((function(e,t){return m.a.createElement(T.a,{key:t,value:e.code,label:e.label})})));var t=null;return"fax"===this.props.type?t=m.a.createElement(R.a,{label:"Fax Number",hint:"Enter your number",value:this.state.textBoxValue,onChange:this.textBoxChangeHandler}):"phone"===this.props.type?t=m.a.createElement(R.a,{label:"Phone Number",hint:"Enter your number",value:this.state.textBoxValue,onChange:this.textBoxChangeHandler}):"email"===this.props.type?t=m.a.createElement(R.a,{label:"Email Address",hint:"Enter your email",value:this.state.textBoxValue,onChange:this.textBoxChangeHandler}):"website"===this.props.type&&(t=m.a.createElement(R.a,{label:"Website",hint:"Enter your website",value:this.state.textBoxValue,onChange:this.textBoxChangeHandler})),m.a.createElement(I.a,{className:"add-contact-modal",isOpen:this.props.isOpen,onAfterOpen:this.props.onAfterOpen,onRequestClose:this.props.onRequestClose,style:{content:{margin:"auto"}},ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!0},m.a.createElement(j.a,{className:"add-contact-modal-form"},m.a.createElement(y.a,{className:"add-contact-modal-header"},""!==this.props.cp_id?m.a.createElement("p",null,{fax:"Update Fax",email:"Update Email",phone:"Update Number",website:"Update Website"}[this.props.type]):m.a.createElement("p",null,{fax:"Add New Fax",email:"Add New Email",phone:"Add New Number",website:"Add New Website"}[this.props.type])),m.a.createElement(y.a,{className:"add-contact-form-info"},m.a.createElement(L.a,{label:"Type",value:this.state.selectBoxValue.toString(),onChange:this.selectChangeHandler},e),m.a.createElement("div",null,t,m.a.createElement("span",{className:"help-block"},this.state.errorMessage)),m.a.createElement("div",{className:"add-contact-modal-buttons"},m.a.createElement(q.a,{variant:"flat",className:"save-btn",onClick:this.submitContact},"Save"),m.a.createElement(q.a,{variant:"flat",className:"cancel-btn",onClick:this.closeModal},"Cancel")))))}}]),a}(m.a.Component),W=a(27),F=function(e){Object(r.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onChangeUserTypes=n.onChangeUserTypes.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"onChangeUserTypes",value:function(e){var t=this.props.userTypes.indexOf(e.target.value)>=0;if(1!==this.props.userTypes.length||!t){var a=t?this.props.userTypes.filter((function(t){return t!==e.target.value})):[].concat(Object(W.a)(this.props.userTypes),[e.target.value]);this.props.onChange("user_types",a)}}},{key:"render",value:function(){return m.a.createElement(I.a,{className:"create-client-login-modal",isOpen:this.props.isOpen,onAfterOpen:this.props.onAfterOpen,onRequestClose:this.props.onRequestClose,style:{content:{margin:"auto"}},ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!0},m.a.createElement(j.a,{className:"modal-form"},this.props.confirmationText?m.a.createElement("p",null,this.props.confirmationText):m.a.createElement("div",null,m.a.createElement("b",null,"Choose user type:"),m.a.createElement("div",null,m.a.createElement("input",{className:"radio-input",id:"radio1",type:"radio",value:"client",checked:this.props.userTypes.indexOf("client")>=0,onClick:this.onChangeUserTypes,onChange:function(){}}),m.a.createElement("label",{className:"radio-label type-label",htmlFor:"radio1"},"GP/Buyer"),m.a.createElement("input",{className:"radio-input",id:"radio2",type:"radio",value:"lender",checked:this.props.userTypes.indexOf("lender")>=0,onClick:this.onChangeUserTypes,onChange:function(){}}),m.a.createElement("label",{className:"radio-label type-label",htmlFor:"radio2"},"Lender"),m.a.createElement("input",{className:"radio-input",id:"radio3",type:"radio",value:"sales broker",checked:this.props.userTypes.indexOf("sales broker")>=0,onClick:this.onChangeUserTypes,onChange:function(){}}),m.a.createElement("label",{className:"radio-label type-label",htmlFor:"radio3"},"Sales Broker"),m.a.createElement("input",{className:"radio-input",id:"radio4",type:"radio",value:"investor",checked:this.props.userTypes.indexOf("investor")>=0,onClick:this.onChangeUserTypes,onChange:function(){}}),m.a.createElement("label",{className:"radio-label type-label",htmlFor:"radio4"},"LP/Investor"))),m.a.createElement("div",{className:"buttons"},m.a.createElement(q.a,{variant:"flat",onClick:this.props.onRequestClose},"Cancel"),this.props.confirmationText?m.a.createElement(q.a,{variant:"flat",onClick:this.props.onSubmit,type:"submit",value:"submit"},"Yes"):m.a.createElement(q.a,{variant:"flat",onClick:this.props.onContinue},"Continue"))))}}]),a}(m.a.Component),Y=function(e){Object(r.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={status:n.props.status},n}return Object(c.a)(a,[{key:"onChangeStatus",value:function(e){this.setState({status:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.props.submitStatusModal(this.props.contactId,this.state.status,this.state.label)}},{key:"render",value:function(){var e=this.props.clientStatus&&this.props.clientStatus.map((function(e,t){return m.a.createElement(T.a,{key:t,value:e.status.toString(),label:e.value})}));return m.a.createElement(I.a,{className:"status-modal",isOpen:this.props.isOpen,onRequestClose:this.props.onRequestClose,style:{content:{margin:"auto"}},ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!0},m.a.createElement("div",{className:"modal-form"},m.a.createElement("p",{className:"add-note-modal"},"Quality Level"),m.a.createElement(L.a,{defaultValue:this.state.status?this.state.status.toString():"",onChange:this.onChangeStatus.bind(this),label:"Change Quality Level"},e),m.a.createElement("div",{className:"add-note-buttons"},m.a.createElement(q.a,{variant:"flat",onClick:this.props.onRequestClose,className:"cancel-btn"},"cancel"),m.a.createElement(q.a,{variant:"flat",onClick:this.onSubmit.bind(this),type:"submit",value:"submit"},"Save"))))}}]),a}(m.a.Component),Q=function(e){Object(r.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={status:n.props.status?n.props.status:n.props.lpServiceStatus&&n.props.lpServiceStatus[0].list_type_id},n}return Object(c.a)(a,[{key:"onChangeStatus",value:function(e){this.setState({status:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.props.submitLPServiceModal(this.props.contactId,this.state.status)}},{key:"render",value:function(){var e=this.props.lpServiceStatus&&this.props.lpServiceStatus.map((function(e,t){return m.a.createElement(T.a,{key:t,value:e.list_type_id,label:e.value})}));return m.a.createElement(I.a,{className:"status-modal",isOpen:this.props.isOpen,onRequestClose:this.props.onRequestClose,style:{content:{margin:"auto"}},ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!0},m.a.createElement("div",{className:"modal-form"},m.a.createElement("p",{className:"add-note-modal"},"Status"),m.a.createElement(L.a,{defaultValue:this.state.status?this.state.status.toString():"",onChange:this.onChangeStatus.bind(this),label:"Change Status"},e),m.a.createElement("div",{className:"add-note-buttons"},m.a.createElement(q.a,{variant:"flat",onClick:this.props.onRequestClose,className:"cancel-btn"},"cancel"),m.a.createElement(q.a,{variant:"flat",onClick:this.onSubmit.bind(this),type:"submit",value:"submit"},"Save"))))}}]),a}(m.a.Component),J=a(753),$=a(256),G=a(749),z=a(80),X=function(e){Object(r.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement(I.a,{className:"datepicker-modal",isOpen:this.props.isOpen,ariaHideApp:!1,contentLabel:"Date Picker Modal",shouldCloseOnOverlayClick:!0},m.a.createElement("div",{className:"flex-justify-center"},m.a.createElement("p",null,"Please select a call date:"),m.a.createElement("p",{onClick:function(){return e.props.closeModal()},className:"pointer"},"X")),m.a.createElement(M.a,{allowClear:!1,dateValue:this.props.call_date,update:this.props.onDateChange}),m.a.createElement("div",{className:"modal-btns"},m.a.createElement(q.a,{variant:"flat",onClick:function(){return e.props.closeModal()}},"Cancel"),m.a.createElement(q.a,{variant:"flat",onClick:function(){return e.props.submitCallDate(e.props.call_date)}},"Save")))}}]),a}(m.a.Component),K=function(e){Object(r.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={addContactInfoModalOpen:!1,addContactHidden:!0,statusModalIsOpen:!1,ratingModalIsOpen:!1,ratingModalClose:!1,loginModalIsOpen:!1,noteModalIsOpen:!1,lpModalIsOpen:!1,showDeleteModal:!1,blockNumberModal:{show:!1,contact_id:null,contact_type:null,value:""},modalType:null,createLoginConfirmation:"",modalSubTypeCode:"",modalValue:"",updatedDate:"",call_date:"",cp_id:"",note:"",user_types:["client"],mobileDropdownShowing:!1,dateModalShowing:!1},n.openModal=n.openModal.bind(Object(l.a)(n)),n.openRatingModal=n.openRatingModal.bind(Object(l.a)(n)),n.openDeleteModal=n.openDeleteModal.bind(Object(l.a)(n)),n.closeDeleteModal=n.closeDeleteModal.bind(Object(l.a)(n)),n.deleteContact=n.deleteContact.bind(Object(l.a)(n)),n.openConfirmBlockNumberModal=n.openConfirmBlockNumberModal.bind(Object(l.a)(n)),n.closeConfirmBlockNumberModal=n.closeConfirmBlockNumberModal.bind(Object(l.a)(n)),n.confirmBlockNumber=n.confirmBlockNumber.bind(Object(l.a)(n)),n.openFaxModal=n.openFaxModal.bind(Object(l.a)(n)),n.openEmailModal=n.openEmailModal.bind(Object(l.a)(n)),n.openPhoneModal=n.openPhoneModal.bind(Object(l.a)(n)),n.openWebsiteModal=n.openWebsiteModal.bind(Object(l.a)(n)),n.afterOpenModal=n.afterOpenModal.bind(Object(l.a)(n)),n.closeContactInfoModal=n.closeContactInfoModal.bind(Object(l.a)(n)),n.openStatusModal=n.openStatusModal.bind(Object(l.a)(n)),n.closeStatusModal=n.closeStatusModal.bind(Object(l.a)(n)),n.addContactClick=n.addContactClick.bind(Object(l.a)(n)),n.onDateChange=n.onDateChange.bind(Object(l.a)(n)),n.openLoginModal=n.openLoginModal.bind(Object(l.a)(n)),n.afterOpenModal=n.afterOpenModal.bind(Object(l.a)(n)),n.handleModalSubmit=n.handleModalSubmit.bind(Object(l.a)(n)),n.openLoginModal=n.openLoginModal.bind(Object(l.a)(n)),n.closeLoginModal=n.closeLoginModal.bind(Object(l.a)(n)),n.openAddNoteModal=n.openAddNoteModal.bind(Object(l.a)(n)),n.handleAddNoteSubmit=n.handleAddNoteSubmit.bind(Object(l.a)(n)),n.closeAddNoteModal=n.closeAddNoteModal.bind(Object(l.a)(n)),n.editContact=n.editContact.bind(Object(l.a)(n)),n.navigateToProperties=n.navigateToProperties.bind(Object(l.a)(n)),n.onChange=n.onChange.bind(Object(l.a)(n)),n.toggleDropdown=n.toggleDropdown.bind(Object(l.a)(n)),n.openDateModal=n.openDateModal.bind(Object(l.a)(n)),n.setAsMain=n.setAsMain.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({updatedDate:this.props.updatedDate,call_date:this.props.item.activity_next_datetime,ratingModalClose:this.props.updateRatingSuccess,phone_contact_info:this.props.item.contact_info.phone?this.props.item.contact_info.phone.map((function(e){return{cp_id:e.cp_id,contact_type:parseInt(e.contact_type,10),description:e.value,hide_from_directory:e.hide_from_directory,is_primary:e.isPrimary,contact_type_name:e.label}})):[],email_contact_info:this.props.item.contact_info.email?this.props.item.contact_info.email.map((function(e){return{cp_id:e.cp_id,contact_type:parseInt(e.contact_type,10),description:e.value,hide_from_directory:e.hide_from_directory,is_primary:e.isPrimary,contact_type_name:e.label}})):[],fax_contact_info:this.props.item.contact_info.fax?this.props.item.contact_info.fax.map((function(e){return{cp_id:e.cp_id,type:parseInt(e.contact_type,10),description:e.value,hide_from_directory:e.hide_from_directory,is_primary:e.isPrimary,contact_type_name:e.label}})):[],website_contact_info:this.props.item.contact_info.website?this.props.item.contact_info.website.map((function(e){return{cp_id:e.cp_id,contact_type:parseInt(e.contact_type,10),description:e.value,hide_from_directory:e.hide_from_directory,is_primary:e.isPrimary,contact_type_name:e.label}})):[]})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.updatedDate!==this.state.updatedDate&&this.state.call_date!==e.updatedDate&&(this.setState({call_date:w()(e.updatedDate).format("MM/DD/YYYY")}),this.render()),e.ratingModalClose!==this.state.ratingModalClose&&this.setState({ratingModalIsOpen:!1}),e.contactDeleted&&this.goBack()}},{key:"openStatusModal",value:function(){this.setState({statusModalIsOpen:!0})}},{key:"closeStatusModal",value:function(){this.setState({statusModalIsOpen:!1})}},{key:"submitStatusModal",value:function(e,t){this.setState({statusModalIsOpen:!1}),this.props.submitStatusModal(e,t)}},{key:"openLPServiceModal",value:function(){this.setState({lpModalIsOpen:!0})}},{key:"closeLPServiceModal",value:function(){this.setState({lpModalIsOpen:!1})}},{key:"submitLPServiceModal",value:function(e,t){this.setState({lpModalIsOpen:!1}),this.props.submitLPServiceModal(e,t)}},{key:"openRatingModal",value:function(){this.setState({ratingModalIsOpen:!0})}},{key:"closeRatingModal",value:function(){this.setState({ratingModalIsOpen:!1})}},{key:"submitRatingModal",value:function(){var e=Object(o.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.submitRatingModal(t,a);case 2:this.props.updateRatingSuccess?this.setState({ratingModalIsOpen:!1}):this.setState({ratingModalIsOpen:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"openDeleteModal",value:function(){this.setState({showDeleteModal:!0})}},{key:"closeDeleteModal",value:function(){this.setState({showDeleteModal:!1})}},{key:"deleteContact",value:function(){this.props.deleteContact(this.props.item.contact_id),this.setState({showDeleteModal:!1})}},{key:"openConfirmBlockNumberModal",value:function(e,t,a){this.setState({blockNumberModal:{show:!0,contact_id:e,contact_type:t,value:a}})}},{key:"closeConfirmBlockNumberModal",value:function(){this.setState({blockNumberModal:{show:!1,contact_id:null,contact_type:null,value:""}})}},{key:"confirmBlockNumber",value:function(){var e=this.state.blockNumberModal;this.props.blockNumber(e.contact_id,e.contact_type,e.value),this.closeConfirmBlockNumberModal()}},{key:"openModal",value:function(){this.setState({addContactInfoModalOpen:!0})}},{key:"openFaxModal",value:function(){this.setState({addContactInfoModalOpen:!0,modalType:"fax"})}},{key:"openEmailModal",value:function(){this.setState({addContactInfoModalOpen:!0,modalType:"email"})}},{key:"openWebsiteModal",value:function(){this.setState({addContactInfoModalOpen:!0,modalType:"website"})}},{key:"openPhoneModal",value:function(){this.setState({addContactInfoModalOpen:!0,modalType:"phone"})}},{key:"editContact",value:function(e,t,a,n){this.setState({modalValue:n,modalType:t,cp_id:e,modalSubTypeCode:a,addContactInfoModalOpen:!0})}},{key:"closeContactInfoModal",value:function(){this.setState({addContactHidden:!0,addContactInfoModalOpen:!1,modalType:null,modalValue:"",cp_id:"",modalSubTypeCode:"",showDatePicker:!1})}},{key:"addContactClick",value:function(){this.setState({addContactHidden:!this.state.addContactHidden})}},{key:"onDateChange",value:function(e){this.setState({call_date:e}),this.props.changeDate(this.props.item.contact_id,w()(e).format("YYYY-MM-DD"),localStorage.getItem("auth_token"))}},{key:"showDatePicker",value:function(){this.setState({showDatePicker:!0})}},{key:"onChange",value:function(e,t){this.setState({[e]:t})}},{key:"openLoginModal",value:function(){if(this.props.item.welcome_email&&0!==this.props.item.welcome_email){var e=w()(this.props.item.welcome_email_datetime).format("LL");this.setState({createLoginConfirmation:"A welcome email with login instructions have been sent to this client on "+e+". Would you like to send an additional email?",loginModalIsOpen:!0})}else this.setState({loginModalIsOpen:!0})}},{key:"afterOpenModal",value:function(){}},{key:"closeLoginModal",value:function(e){e.preventDefault(),this.setState({user_types:["client"],createLoginConfirmation:"",loginModalIsOpen:!1})}},{key:"handleModalSubmit",value:function(e){e.preventDefault(),this.props.createClientLogin(this.props.item.contact_id,this.state.user_types),this.setState({user_types:["client"],createLoginConfirmation:"",loginModalIsOpen:!1})}},{key:"openAddNoteModal",value:function(){this.setState({noteModalIsOpen:!0})}},{key:"handleAddNoteSubmit",value:function(e,t){e.preventDefault(),this.setState({noteModalIsOpen:!1}),this.addNoteToLocalArray(t),this.props.updateNote(this.props.item.contact_id,t)}},{key:"newQuickNote",value:function(e,t){this.props.newQuickNote(e,t),this.addNoteToLocalArray(t)}},{key:"addNoteToLocalArray",value:function(e){var t=new Date,a={note_date_time:w()(t).format("MM/DD/YYYY h:mm "),user_name:JSON.parse(localStorage.getItem("data")).user_name,activity_note:e};this.props.item.notes.unshift(a)}},{key:"closeAddNoteModal",value:function(e){e.preventDefault(),this.setState({noteModalIsOpen:!1})}},{key:"navigateToProperties",value:function(){this.props.setPageAndScrollPos(window.location.pathname,window.scrollY),S.f.go("/properties/deals?".concat(Object(z.a)({contact_id:this.props.item.contact_id,previous_page:encodeURIComponent(window.location.pathname)+window.location.search,contact_name:this.props.item.contact_first_name+" "+this.props.item.contact_last_name})))}},{key:"routeToPreviousPage",value:function(){S.f.go("/contacts/details/".concat(this.props.previousPage,"/").concat(encodeURIComponent(this.props.contact_section))+(this.props.searchType?"?".concat(Object(z.a)({type:this.props.searchType})):""))}},{key:"routeToNextPage",value:function(){S.f.go("/contacts/details/".concat(this.props.nextPage,"/").concat(encodeURIComponent(this.props.contact_section))+(this.props.searchType?"?".concat(Object(z.a)({type:this.props.searchType})):""))}},{key:"goBack",value:function(){S.f.go("/contacts/".concat(this.props.contact_section)+(this.props.searchType?"?".concat(Object(z.a)({type:this.props.searchType})):""))}},{key:"routeToLendingCriteria",value:function(){S.f.go("/lending-criteria/contact/".concat(this.props.item.contact_id))}},{key:"getContactTypeId",value:function(e){return this.props.contactInfoTypesList.find((function(t){return t.value===e})).list_type_id}},{key:"toggleDropdown",value:function(){this.setState({mobileDropdownShowing:!this.state.mobileDropdownShowing})}},{key:"openDateModal",value:function(){this.setState({dateModalShowing:!0})}},{key:"closeDateModal",value:function(){this.setState({dateModalShowing:!1})}},{key:"submitCallDate",value:function(e){this.setState({call_date:e}),this.closeDateModal()}},{key:"setAsMain",value:function(e,t,a){switch(t){case"phone":var n=this.state.phone_contact_info;n.forEach((function(e){return e.is_primary=!1})),n.find((function(t){return t.cp_id===e})).is_primary=a,this.setState({phone_contact_info:n});break;case"email":var s=this.state.email_contact_info;s.forEach((function(e){return e.is_primary=!1})),s.find((function(t){return t.cp_id===e})).is_primary=a,this.setState({email_contact_info:s});break;case"fax":var o=this.state.fax_contact_info;o.forEach((function(e){return e.is_primary=!1})),o.find((function(t){return t.cp_id===e})).is_primary=a,this.setState({fax_contact_info:o})}this.props.editContactDetails(this.props.contactId,this.state.phone_contact_info,this.state.email_contact_info,this.state.fax_contact_info,this.state.website_contact_info)}},{key:"editContactDetails",value:function(e,t,a,n){switch(t){case"phone":var s=this.state.phone_contact_info,o=s.find((function(t){return t.cp_id===e}));o.contact_type=a,o.description=n,this.setState({phone_contact_info:s});break;case"email":var i=this.state.email_contact_info,c=i.find((function(t){return t.cp_id===e}));c.contact_type=a,c.description=n,this.setState({email_contact_info:i});break;case"fax":var l=this.state.fax_contact_info,r=l.find((function(t){return t.cp_id===e}));r.contact_type=a,r.description=n,this.setState({fax_contact_info:l});break;case"website":var p=this.state.website_contact_info,d=p.find((function(t){return t.cp_id===e}));d.contact_type=a,d.description=n,this.setState({website_contact_info:p})}this.props.editContactDetails(this.props.contactId,this.state.phone_contact_info,this.state.email_contact_info,this.state.fax_contact_info,this.state.website_contact_info)}},{key:"addContactToPhone",value:function(e){var t=[];e.contact_info.phone&&e.contact_info.phone.map((function(e){return t.push({number:e.value,isPrimary:e.isPrimary})}));var a=[];e.contact_info.email&&e.contact_info.email.map((function(e){return a.push({email:e.value,isPrimary:e.isPrimary})})),window.ReactNativeWebView.postMessage(JSON.stringify({action:"SaveContactToPhone",data:{id:e.contact_id,firstName:e.contact_first_name,lastName:e.contact_last_name,nickname:e.nick_name,company:e.company_name,jobTitle:e.corporate_title,phoneNumbers:t,emails:a,workAddress:e.work_address,homeAddress:e.home_address}}))}},{key:"render",value:function(){var e=this,t=window.isNativeApp||window.matchMedia("(display-mode: standalone)").matches||window.innerWidth<901,a=this.props.item.associated_brokers&&this.props.item.associated_brokers.map((function(e,t){return m.a.createElement("div",{key:t},m.a.createElement("p",{className:"cd-info owner"},(e.contact_isresponsible,m.a.createElement("span",null,e.owner_full_name))))})),n=this.state.phone_contact_info&&this.state.phone_contact_info.map((function(t,a){return m.a.createElement(k,{key:a,typeCode:t.contact_type,category:"phone",type:t.contact_type_name,contact:t.description,isPrimary:t.is_primary,cpId:t.cp_id,contactId:e.props.contactId,editContact:e.editContact,setAsMain:e.setAsMain,openConfirmBlockNumberModal:e.openConfirmBlockNumberModal,deleteContact:e.props.deleteProfileContact})})),s=this.state.email_contact_info.map((function(t,a){return m.a.createElement(k,{key:a,typeCode:t.contact_type,type:t.contact_type_name,category:"email",contact:t.description,isPrimary:t.is_primary,cpId:t.cp_id,contactId:e.props.contactId,editContact:e.editContact,setAsMain:e.setAsMain,openConfirmBlockNumberModal:e.openConfirmBlockNumberModal,deleteContact:e.props.deleteProfileContact})})),o=this.state.fax_contact_info.map((function(t,a){return m.a.createElement(k,{key:a,typeCode:t.contact_type,type:t.contact_type_name,contact:t.description,category:"fax",isPrimary:t.is_primary,editContact:e.editContact,cpId:t.cp_id,contactId:e.props.contactId,setAsMain:e.setAsMain,deleteContact:e.props.deleteProfileContact})})),i=this.state.website_contact_info.map((function(t,a){return m.a.createElement(k,{key:a,typeCode:t.contact_type,type:t.contact_type_name,category:"website",editContact:e.editContact,contact:t.description,isPrimary:t.is_primary,cpId:t.cp_id,contactId:e.props.contactId,deleteContact:e.props.deleteProfileContact,setAsMain:e.setAsMain})})),c=this.props.item.notes&&this.props.item.notes.map((function(e,t){return m.a.createElement("div",{key:t},m.a.createElement(y.a,null,m.a.createElement("div",null,m.a.createElement(C.a,{lg:"5",md:"5",sm:"5",xs:"5"},m.a.createElement("p",{className:"cd-info-header"},m.a.createElement("b",null,e.user_name)," ",m.a.createElement("span",{className:"note-date"},"on ",e.note_date_time))),m.a.createElement(C.a,{lg:"7",md:"5",sm:"5"},m.a.createElement("p",{className:"cd-info"},e.activity_note)))),m.a.createElement(N.a,null))})),l=null;return 1===this.props.item.is_default_banker&&1!==this.props.item.is_primary_banker&&(l=m.a.createElement("p",{className:"gray-label"},"Default Banker")),1===this.props.item.is_primary_banker&&(l=m.a.createElement("p",{className:"green-label"},"Primary Banker")),m.a.createElement(y.a,null,m.a.createElement(C.a,{md:"12"},m.a.createElement(y.a,{style:{overflow:"visible"},className:"sub-header ".concat(t?"contact-mobile-header":"")},m.a.createElement("div",{className:"flex-center contact-sub-header",style:t?{}:{marginTop:"14px"}},m.a.createElement("div",{className:"cd-back-arrow",onClick:this.props.previousPage?this.goBack.bind(this):function(){return S.f.goBack()}},m.a.createElement("img",{src:"/images/icons/arrow-left.png",alt:"arrow-left"})),m.a.createElement("div",null,this.props.item&&!t&&m.a.createElement(d.Fragment,null,m.a.createElement("p",{className:"cd-header-contact"},this.props.item.contact_first_name+" "+this.props.item.contact_last_name),m.a.createElement("div",{className:"cd-rating",onClick:this.openRatingModal},this.props.item.client_rating),1===this.props.item.property_count&&1===this.props.item.is_associated&&m.a.createElement("div",{className:"cd-rating-contacts-properties",onClick:this.navigateToProperties},this.props.item.property_count,m.a.createElement("span",null,"property")),m.a.createElement("span",null,l))),m.a.createElement("div",{className:"mobile-margin-bottom contact-subheader-right"},m.a.createElement("div",{className:this.props.userData&&this.props.userData.addons.includes(11)?"cd-delete pointer":"hidden",onClick:this.openDeleteModal},m.a.createElement("i",{className:"material-icons"},"delete"),m.a.createElement("p",null,"DELETE")),m.a.createElement("div",{className:"cd-edit pointer",onClick:function(){return S.f.go("/contacts/edit/".concat(e.props.contactId,"/").concat(encodeURIComponent(e.props.contact_section))+(e.props.searchType?"?".concat(Object(z.a)({type:e.props.searchType})):""))}},m.a.createElement("i",{className:"material-icons"},"mode_edit"),m.a.createElement("p",null,"EDIT")),null!=this.props.item.owner_starred?m.a.createElement("div",{onClick:function(){e.props.updateStar(e.props.item.contact_id,e.props.item.owner_starred)},className:"cd-star-wrapper"},m.a.createElement("p",null,1===this.props.item.owner_starred?m.a.createElement("span",{className:"quote-star"},m.a.createElement("i",{className:"material-icons star-icon-orange"},"star")):m.a.createElement("span",{className:"quote-star"},m.a.createElement("i",{className:"material-icons star-icon-gray"},"star")))):"",1===this.props.item.is_associated?m.a.createElement("div",{className:"cd-datepicker"},this.state.call_date&&w()(this.state.call_date).isValid()||this.state.showDatePicker?m.a.createElement(M.a,{allowClear:!1,dateValue:this.state.call_date,update:this.onDateChange}):m.a.createElement("div",{className:"padding-left no-call-date",style:{display:"inline-flex",alignItems:"center"},onClick:function(){return e.showDatePicker()}},"no call date",m.a.createElement("i",{className:"material-icons xl-text"},"calendar_today"))):"",1===this.props.item.is_associated?m.a.createElement("div",{className:"cd-client-login",onClick:this.openLoginModal},"Create Client Login",m.a.createElement("img",{src:"/images/icons/sign-in-white.png",alt:"sign-in-white"})):"",m.a.createElement("div",{className:"nav-arrows"},!this.props.loadingPageInfo&&this.props.previousPage?m.a.createElement("div",{className:"previous-arrow",onClick:this.routeToPreviousPage.bind(this)},m.a.createElement("i",{className:"material-icons"},"keyboard_arrow_left")):m.a.createElement("div",{className:"previous-arrow"},m.a.createElement("i",{className:"material-icons disabled-arrow"},"keyboard_arrow_left")),!this.props.loadingPageInfo&&this.props.nextPage?m.a.createElement("div",{className:"previous-arrow",onClick:this.routeToNextPage.bind(this)},m.a.createElement("i",{className:"material-icons"},"keyboard_arrow_right")):m.a.createElement("div",{className:"next-arrow"},m.a.createElement("i",{className:"material-icons disabled-arrow"},"keyboard_arrow_right"))),m.a.createElement("div",{className:"mobile-dropdown-container",onClick:function(){return e.toggleDropdown()}},m.a.createElement("div",{className:"mobile-dropdown"},m.a.createElement("i",{className:"material-icons pointer"},"more_vert"),m.a.createElement("div",{className:this.state.mobileDropdownShowing?"mobile-dropdown-content":"mobile-dropdown-content mobile-dropdown-content-hidden"},m.a.createElement("div",{className:this.props.userData&&this.props.userData.addons.includes(11)?"cd-delete-mobile pointer":"hidden",onClick:this.openDeleteModal},m.a.createElement("p",null,"Delete")),m.a.createElement("div",{className:"cd-edit-mobile pointer",onClick:function(){return S.f.go("/contacts/edit/".concat(e.props.contactId,"/").concat(encodeURIComponent(e.props.contact_section))+(e.props.searchType?"?".concat(Object(z.a)({type:e.props.searchType})):""))}},m.a.createElement("p",null,"Edit")),1===this.props.item.is_associated?m.a.createElement("div",{className:"cd-datepicker-mobile"},m.a.createElement("p",{className:"pointer",onClick:function(){return e.openDateModal()}},"Select call date")):"",1===this.props.item.is_associated?m.a.createElement("div",{className:"cd-client-login-mobile",onClick:this.openLoginModal},"Create Client Login"):"",window.isNativeApp&&m.a.createElement("div",{className:"cd-client-login-mobile",onClick:function(){return e.addContactToPhone(e.props.item)}},"Save to Phone"))))),m.a.createElement(F,{isOpen:this.state.loginModalIsOpen,onRequestClose:this.closeLoginModal,onAfterOpen:this.afterOpenModal,userTypes:this.state.user_types,onChange:this.onChange,onContinue:function(t){t.preventDefault();var a=[e.state.user_types.slice(0,-1).join(", "),e.state.user_types.slice(-1)[0]].join(e.state.user_types.length<2?"":" and ");e.setState({createLoginConfirmation:"Are you sure you want to create a user of type".concat(e.state.user_types.length>1?"s":""," ").concat(a," for this contact and send an app welcome email?")})},confirmationText:this.state.createLoginConfirmation,onSubmit:this.handleModalSubmit}),m.a.createElement($.a,{isOpen:this.state.noteModalIsOpen,onRequestClose:this.closeAddNoteModal,onAfterOpen:this.afterOpenModal,require:!0,text:{title:"Add note",button:"Save"},onSubmit:this.handleAddNoteSubmit}),m.a.createElement(U,{isOpen:this.state.addContactInfoModalOpen,onRequestClose:this.closeContactInfoModal,onAfterOpen:this.afterOpenModal,type:this.state.modalType,value:this.state.modalValue,modalSubTypeCode:this.state.modalSubTypeCode,cp_id:this.state.cp_id,editContact:this.editContactDetails.bind(this),contactId:this.props.contactId,updateContactDetails:this.props.updateContactDetails,addContact:this.props.addContact}),m.a.createElement(Y,{isOpen:this.state.statusModalIsOpen,contactId:this.props.contactId,onRequestClose:this.closeStatusModal,submitStatusModal:this.submitStatusModal.bind(this),status:this.props.item.status,clientStatus:this.props.clientStatus}),m.a.createElement(Q,{lpServiceStatus:this.props.lpServiceStatus,status:this.props.item.lp_status,isOpen:this.state.lpModalIsOpen,contactId:this.props.contactId,onRequestClose:this.closeLPServiceModal.bind(this),submitLPServiceModal:this.submitLPServiceModal.bind(this)}),m.a.createElement(J.a,{isOpen:this.state.ratingModalIsOpen,contactId:this.props.contactId,ratingList:this.props.ratingList,onRequestClose:this.closeRatingModal.bind(this),submitRatingModal:this.submitRatingModal.bind(this),client_rating:this.props.item.client_rating}),m.a.createElement(G.a,{isOpen:this.state.showDeleteModal,message:"Are you sure you would like to delete this contact?",close:this.closeDeleteModal,confirm:this.deleteContact}),m.a.createElement(G.a,{isOpen:this.state.blockNumberModal.show,message:"Please confirm that you are marking this contact info as do not call. This action cannot be undone.",confirmBtnText:"Confirm",close:this.closeConfirmBlockNumberModal,confirm:this.confirmBlockNumber})),t&&m.a.createElement(y.a,{className:"flex-center contact-sub-header"},m.a.createElement("p",{className:"cd-header-contact"},this.props.item.contact_first_name+" "+this.props.item.contact_last_name),m.a.createElement("div",{className:"cd-rating",onClick:this.openRatingModal},this.props.item.client_rating),1===this.props.item.property_count&&1===this.props.item.is_associated&&m.a.createElement("div",{className:"cd-rating-contacts-properties",onClick:this.navigateToProperties},this.props.item.property_count,m.a.createElement("span",null,"property")),m.a.createElement("span",null,l))),m.a.createElement("div",{className:"cd-page"},m.a.createElement("div",{className:"cd-padding-top"},m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement(C.a,{md:"9",sm:"9",xs:"10"},m.a.createElement("img",{src:"/images/icons/my-profile2-small.png",className:"cd-section-title-img big-img",alt:"big-img"}),m.a.createElement("p",{className:"cd-section-title"},"Primary Information")),1===this.props.item.is_associated?m.a.createElement(C.a,{md:"3",sm:"3",xs:"2",className:"confirmed-contact"},m.a.createElement("p",{onClick:this.openStatusModal},m.a.createElement("i",{className:"material-icons"},"person"),this.props.item.status_string)):""),m.a.createElement(N.a,null),m.a.createElement(y.a,null,m.a.createElement(C.a,{lg:"3",md:"3",sm:"4",xs:"4"},m.a.createElement("p",{className:"cd-info-header"},"Name")),m.a.createElement(C.a,{lg:"8",md:"8",sm:"7",xs:"7"},m.a.createElement("p",{className:"cd-info"},this.props.item.contact_first_name+" "+this.props.item.contact_last_name))),m.a.createElement(N.a,null),m.a.createElement(y.a,null,m.a.createElement(C.a,{lg:"3",md:"3",sm:"4",xs:"4"},m.a.createElement("p",{className:"cd-info-header"},"Job description")),m.a.createElement(C.a,{lg:"8",md:"8",sm:"7",xs:"7"},m.a.createElement("p",{className:"cd-info"},this.props.item.corporate_title))),m.a.createElement(N.a,null),m.a.createElement(y.a,null,m.a.createElement(C.a,{lg:"3",md:"3",sm:"4",xs:"4"},m.a.createElement("p",{className:"cd-info-header"},"Company")),m.a.createElement(C.a,{lg:"8",md:"8",sm:"7",xs:"7"},m.a.createElement("p",{className:"cd-info"},this.props.item.company_name))),1===this.props.item.is_banker?m.a.createElement(y.a,{className:"contacts-lc"},m.a.createElement("p",{className:"orange-text inline-block",onClick:this.routeToLendingCriteria.bind(this)},"See Lending Criteria"),m.a.createElement("i",{className:"material-icons orange-text"},"arrow_forward")):""),m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement("i",{className:"material-icons cd-section-title-icon"},"phone"),m.a.createElement("p",{className:"cd-section-title"},"Phone")),m.a.createElement(N.a,null),n),m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement("i",{className:"material-icons cd-section-title-icon"},"email"),m.a.createElement("p",{className:"cd-section-title"},"Email")),m.a.createElement(N.a,null),s),m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement("img",{src:"/images/icons/fax3.png",alt:"fax3",className:"cd-section-title-img"}),m.a.createElement("p",{className:"cd-section-title"},"Fax")),m.a.createElement(N.a,null),o),m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement("img",{src:"/images/icons/web6.png",alt:"web6",className:"cd-section-title-img"}),m.a.createElement("p",{className:"cd-section-title"},"Website")),m.a.createElement(N.a,null),i),m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement("i",{className:"material-icons cd-section-title-icon"},"location_on"),m.a.createElement("p",{className:"cd-section-title"},"Address")),m.a.createElement(N.a,null),m.a.createElement(y.a,null,m.a.createElement(C.a,{lg:"3",md:"3",sm:"4",xs:"4"},m.a.createElement("p",{className:"cd-info-header"},"Business")),m.a.createElement(C.a,{lg:"8",md:"8",sm:"7",xs:"7"},m.a.createElement("p",{className:"cd-info"},this.props.item.work_address)))),m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement("img",{src:"/images/icons/app-icon-web.png",alt:"icon-web",className:"cd-section-title-img"}),m.a.createElement("p",{className:"cd-section-title"},"App")),m.a.createElement(N.a,null),m.a.createElement(y.a,null,m.a.createElement(C.a,{lg:"3",md:"3",sm:"4",xs:"4"},m.a.createElement("p",{className:"cd-info-header"},"App")),m.a.createElement(C.a,{lg:"8",md:"8",sm:"7",xs:"7"},m.a.createElement("p",{className:"cd-info"},this.props.item.app_level)))),m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement("img",{src:"/images/icons/lp-settings.png",alt:"lp-settings",className:"cd-section-title-img big-img"}),m.a.createElement("p",{className:"cd-section-title"},"LP Service Status")),m.a.createElement(N.a,null),m.a.createElement("div",null,m.a.createElement(N.a,null),m.a.createElement(y.a,null,m.a.createElement(C.a,{lg:"3",md:"3",sm:"4",xs:"4"},m.a.createElement("p",{className:"cd-info-header"},"Status")),m.a.createElement(C.a,{lg:"8",md:"8",sm:"7",xs:"7"},m.a.createElement("div",{className:"cd-info"},this.props.item.lp_status_string)),m.a.createElement(C.a,{md:"1",sm:"1",xs:"1"},m.a.createElement("div",{className:"cd-page-dropdown"},m.a.createElement("img",{src:"/images/icons/dots-vertical2.png",onClick:this.openLPServiceModal.bind(this),alt:"vertical2",className:"cd-dropdown-icon"})))))),m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement("img",{src:"/images/icons/account-multiple.png",alt:"account-multiple",className:"cd-section-title-img small-img"}),m.a.createElement("p",{className:"cd-section-title"},"Owners")),m.a.createElement(N.a,null),m.a.createElement(y.a,null,m.a.createElement(C.a,{lg:"3",md:"3",sm:"4",xs:"4"},m.a.createElement("p",{className:"cd-info-header"},"Owners")),m.a.createElement(C.a,{lg:"8",md:"8",sm:"7"},m.a.createElement("div",{className:"owner-padding-top"},a)))),m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement("i",{className:"material-icons cd-section-title-icon"},"assignment"),m.a.createElement("p",{className:"cd-section-title"},"Bio")),m.a.createElement(N.a,null),m.a.createElement(y.a,null,m.a.createElement(C.a,{lg:"3",md:"3",sm:"4",xs:"4"},m.a.createElement("p",{className:"cd-info-header"},"Bio")),m.a.createElement(C.a,{lg:"8",md:"8",sm:"7"},m.a.createElement("div",{className:"owner-padding-top"},m.a.createElement("div",null,m.a.createElement("p",{className:"cd-info"},this.props.item.bio?m.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.item.bio}}):"There is no bio for this contact")))))),m.a.createElement("div",{className:"panel mui-panel"},m.a.createElement(y.a,null,m.a.createElement("img",{src:"/images/icons/contact-note.png",className:"cd-section-title-img",alt:"title-img"}),m.a.createElement("p",{className:"cd-section-title"},"Notes")),m.a.createElement(N.a,null),m.a.createElement(y.a,null,c),1===this.props.item.is_associated?m.a.createElement(y.a,{className:"add-note-row pointer"},m.a.createElement("i",{className:"material-icons cd-section-title-icon orange-text",onClick:this.openAddNoteModal},"add"),m.a.createElement("p",{className:"add-note-title",onClick:this.openAddNoteModal},"Add Note"),m.a.createElement("div",{className:"quick-notes"},m.a.createElement("p",{className:"quick-notes-header"},"Quick Note:"),m.a.createElement("p",{className:"quick-note orange-text",onClick:this.newQuickNote.bind(this,this.props.contactId,"LM")},"LM"),m.a.createElement("p",{className:"quick-note-bullet orange-text"},"\u2022"),m.a.createElement("p",{className:"quick-note orange-text",onClick:this.newQuickNote.bind(this,this.props.contactId,"Nothing Now")},"Nothing Now"))):""),m.a.createElement("div",{className:"add-info-dropdown"},m.a.createElement("img",{src:"/images/icons/add-circle.png",alt:"add-circle",className:this.state.addContactHidden?"add-circle-icon":"hidden",onClick:this.addContactClick}),m.a.createElement("img",{src:"/images/icons/close-circle.png",className:this.state.addContactHidden?"hidden":"close-circle-icon",alt:"close-circle",onClick:this.addContactClick}),m.a.createElement("div",{className:this.state.addContactHidden?"hidden":"add-info-dropdown-content"},m.a.createElement("div",{onClick:this.openFaxModal},m.a.createElement("img",{src:"/images/icons/fax5.png",className:"fax-icon",alt:"fax5"})),m.a.createElement("div",{onClick:this.openEmailModal},m.a.createElement("i",{className:"material-icons email-icon"},"email")),m.a.createElement("div",{onClick:this.openPhoneModal},m.a.createElement("i",{className:"material-icons phone-icon"},"phone")),m.a.createElement("div",{onClick:this.openWebsiteModal},m.a.createElement("img",{src:"/images/icons/web4.png",alt:"web4",className:"web-icon"}))))))),m.a.createElement(X,{isOpen:this.state.dateModalShowing,closeModal:this.closeDateModal.bind(this),call_date:this.state.call_date,onDateChange:this.onDateChange,submitCallDate:this.submitCallDate.bind(this)}))}}]),a}(m.a.Component),Z=a(88),ee=a(25),te=a(104),ae=function(e){Object(r.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={id:"",scrolled:!1},n.updateStar=n.updateStar.bind(Object(l.a)(n)),n.createClientLogin=n.createClientLogin.bind(Object(l.a)(n)),n.updateNote=n.updateNote.bind(Object(l.a)(n)),n.closeToast=n.closeToast.bind(Object(l.a)(n)),n.closeLPClientStatusToast=n.closeLPClientStatusToast.bind(Object(l.a)(n)),n.newQuickNote=n.newQuickNote.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({id:this.props.match.params.id}),this.props.contactActions.loadClientStatus(),this.props.contactActions.getContactRatingList(),this.props.contactActions.getContactInfoTypeList(),this.props.contactActions.loadLPServiceStatus(),this.props.match.params.previousPage&&this.props.contactActions.getPreviousPage(decodeURIComponent(this.props.match.params.previousPage),Object(ee.a)("type"),this.props.match.params.id),e.next=8,this.props.contactActions.getContactInfo(this.props.match.params.id,decodeURIComponent(this.props.match.params.previousPage));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.match.params.id===this.state.id){e.next=3;break}return e.next=3,this.UNSAFE_componentWillMount();case 3:!this.props.contacts.loading&&this.props.contacts.searchContacts&&!this.state.scrolled&&this.props.comps.previousScrollPos&&(window.scrollTo(0,this.props.comps.previousScrollPos[this.props.comps.previousScrollPos.length-1]),setTimeout((function(){t.props.compsActions.resetScrollPosition()}),1e3),this.setState({scrolled:!0}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateStar",value:function(e,t){this.props.contacts.searchContacts.owner_starred=1===t?0:1,this.props.contactActions.updateGeneralStar(e,t)}},{key:"updateNote",value:function(e,t){this.props.contactActions.updateGeneralNote(e,t)}},{key:"createClientLogin",value:function(e,t){this.props.contactActions.createClientLogin(e,t)}},{key:"newQuickNote",value:function(e,t){this.props.contactActions.newQuickNote(e,t)}},{key:"closeToast",value:function(){this.props.contactActions.closeToast()}},{key:"submitRatingModal",value:function(){var e=Object(o.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.contactActions.changeClientRating(t,a);case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"closeLPClientStatusToast",value:function(){this.props.contactActions.closeLPClientStatusToast()}},{key:"render",value:function(){var e=null;return this.props.contacts.toast&&this.props.contacts.toast.show&&(e=m.a.createElement(Z.a,{closeToast:this.closeToast,delay:6e3},m.a.createElement("div",{className:"success-message"},m.a.createElement("p",null,this.props.contacts.toast.message),m.a.createElement(q.a,{variant:"flat",onClick:this.closeToast},this.props.contacts.toast.success?"Done":"Dismiss")))),m.a.createElement("div",null,!this.props.contacts.loading&&this.props.contacts.contactInfoTypes.length&&this.props.contacts.searchContacts.contacts?m.a.createElement(K,{contactId:this.props.match.params.id,nextPage:this.props.contacts.nextPage,item:this.props.contacts.searchContacts.contacts[0],ratingList:this.props.contacts.ratingList,previousPage:this.props.contacts.previousPage,searchType:Object(ee.a)("type"),updatedDate:this.props.contacts.updated_date,clientStatus:this.props.contacts.clientStatus,contactInfoTypesList:this.props.contacts.contactInfoTypes,loadingPageInfo:this.props.contacts.loadingPageInfo,lpServiceStatus:this.props.contacts.lpServiceStatus,updateRatingSuccess:this.props.contacts.updateRatingSuccess,contactDeleted:this.props.contacts.contactDeleted,userData:JSON.parse(localStorage.getItem("data")),updateContactDetails:this.props.contacts.updateContactDetails,updateStar:this.updateStar,updateNote:this.updateNote,createClientLogin:this.createClientLogin,newQuickNote:this.newQuickNote,submitRatingModal:this.submitRatingModal.bind(this),contact_section:decodeURIComponent(this.props.match.params.previousPage),changeDate:this.props.contactActions.updateDate,editContactDetails:this.props.contactActions.editContactDetails,blockNumber:this.props.contactActions.blockThisNumber,addContact:this.props.contactActions.addContact,deleteProfileContact:this.props.contactActions.deleteProfileContact,deleteContact:this.props.contactActions.deleteContact,showNoDataToast:this.props.contactActions.showNoDataToast,submitStatusModal:this.props.contactActions.submitStatusModal,submitLPServiceModal:this.props.contactActions.submitLPServiceModal,setPageAndScrollPos:this.props.compsActions.setPageAndScrollPos}):m.a.createElement(te.b,null),e)}}]),a}(m.a.Component);t.default=Object(u.b)((function(e){return{contacts:e.contacts,profile:e.profile,comps:e.comps}}),(function(e){return{contactActions:Object(h.b)(f,e),profileActions:Object(h.b)(g,e),compsActions:Object(h.b)(b,e)}}))(ae)}}]);
//# sourceMappingURL=46.37130ce0.chunk.js.map