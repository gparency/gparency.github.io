(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[80],{952:function(e,s,t){"use strict";t.r(s);var a=t(9),o=t(8),i=t(12),n=t(11),l=t(0),c=t.n(l),r=t(6),p=t(23),m=t(825),h=t(255),g=t(50),u=t(164),d=t(26),v=t.n(d),S=t(841),Q=t(72),k=t.n(Q),b=t(34),D=t.n(b),f=t(88),E=t(15),T=t(2),A=function(e){Object(i.a)(t,e);var s=Object(n.a)(t);function t(e){var o;return Object(a.a)(this,t),(o=s.call(this,e)).state={isSearchActive:!1,toggle:!0,search:sessionStorage.getItem("mq_broker_search")?sessionStorage.getItem("mq_broker_search"):""},o}return Object(o.a)(t,[{key:"toggleToggle",value:function(){this.setState({toggle:!this.state.toggle},(function(){if(this.state.toggle||sessionStorage.setItem("mq_broker_active_banker_id",0),sessionStorage.setItem("MQB_toggle-broker",this.state.toggle),this.state.isSearchActive||this.state.search){var e=this.state.search.match(/\w+/g),s="";e.forEach((function(t,a){e.length-1===a?s+=t:s+=t+"+"})),this.props.actions.search(s,this.state.toggle?"bank":"deal")}else this.loadDeals()}))}},{key:"componentDidMount",value:function(){var e=this;if(this.state.search&&this.state.search.length){var s=this.state.search.match(/\w+/g),t="";s.forEach((function(e,a){s.length-1===a?t+=e:t+=e+"+"})),this.props.actions.search(t,"true"===sessionStorage.getItem("MQB_toggle-broker")?"bank":"deal")}if(this.props.navActions.updateNavTitle("Missing Quotes"),sessionStorage.getItem("MQB_toggle-broker")||sessionStorage.setItem("MQB_toggle-broker",this.state.toggle),"false"===sessionStorage.getItem("MQB_toggle-broker")?this.setState({toggle:!1},(function(){this.loadDeals()})):this.loadDeals(),this.props.comps.previousScrollPos&&this.props.comps.previousScrollPos.length){var a=this.props.comps.previousScrollPos;setTimeout((function(){window.scrollTo(0,a[a.length-1])}),400)}setTimeout((function(){e.props.compsActions.resetScrollPosition()}),600)}},{key:"scrollToContainer",value:function(){this.props.comps.previousScrollPos&&this.props.comps.previousScrollPos.length&&(window.scrollTo(0,this.props.comps.previousScrollPos[this.props.comps.previousScrollPos.length-1]),this.props.compsActions.resetScrollPosition())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var s=this;this.props.missingQuotes.loading&&!e.missingQuotes.loading&&setTimeout((function(){return s.scrollToContainer()}),0)}},{key:"loadDeals",value:function(){this.props.actions.loadMissingQuotesbyBroker(this.state.toggle?"bank":"deal",this.props.match.params.broker_id)}},{key:"searchChange",value:function(e){this.setState({search:e.target.value},(function(){this.state.search.length&&this.setState({isSearchActive:!0}),this.state.search.length||this.setState({isSearchActive:!1})}))}},{key:"handleSearchEnter",value:function(e){if(13===e.keyCode)if(e.preventDefault(),sessionStorage.setItem("mq_broker_search",e.target.value),e.target.value.length){var s=e.target.value.match(/\w+/g),t="";s.forEach((function(e,a){s.length-1===a?t+=e:t+=e+"+"})),this.props.actions.search(t,this.state.toggle?"bank":"deal")}else this.loadDeals()}},{key:"openDealDD",value:function(e){this.props.compsActions.setPageAndScrollPos("/missingQuotesbroker",window.scrollY),T.f.go("/MQB-deal-details/".concat(e,"/bank-quotes"))}},{key:"openBankDD",value:function(e,s){sessionStorage.setItem("mq_broker_active_banker_id",s),this.props.compsActions.setPageAndScrollPos("/missingQuotesbroker",window.scrollY),T.f.go("/MQB-deal-details/".concat(e,"/bank-quotes"))}},{key:"render",value:function(){var e=null;return this.props.missingQuotes.quotePassSuccessToast&&(e=c.a.createElement(f.a,{closeToast:this.props.actions.closeMQDealPassSuccessToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,"The deal has successfully been passed"),c.a.createElement(D.a,{variant:"flat",onClick:this.props.actions.closeMQDealPassSuccessToast},"Done")))),this.props.missingQuotes.quoteSnoozeSuccessToast&&(e=c.a.createElement(f.a,{closeToast:this.props.actions.closeMQSnoozeSuccessToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,this.props.missingQuotes.message),c.a.createElement(D.a,{variant:"flat",onClick:this.props.actions.closeMQSnoozeSuccessToast},"Done")))),this.props.missingQuotes.quoteIrrelevantSuccessToast&&(e=c.a.createElement(f.a,{closeToast:this.props.actions.closeMQIrrelevantSuccessToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,"The deal has successfully been marked irrelevant"),c.a.createElement(D.a,{variant:"flat",onClick:this.props.actions.closeMQIrrelevantSuccessToast},"Done")))),this.props.mq.toast&&this.props.mq.toast.show&&(e=c.a.createElement(f.a,{closeToast:this.props.missingQuotesActions.closeToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,this.props.mq.toast.message),c.a.createElement(D.a,{variant:"flat",onClick:this.props.missingQuotesActions.closeToast},this.props.mq.toast.success?"Done":"Dismiss")))),this.props.missingQuotes.errorMBQToast&&(e=c.a.createElement(f.a,{closeToast:this.props.actions.closeUpdateMQBToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,"The deal has successfully been passed"),c.a.createElement(D.a,{variant:"flat",onClick:this.props.actions.closeUpdateMQBToast},"Done")))),this.props.missingQuotes.updateNoteModalSuccess&&(e=c.a.createElement(f.a,{closeToast:this.props.actions.closeUpdateNoteMQModalToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,this.props.missingQuotes.message),c.a.createElement(D.a,{variant:"flat",onClick:this.props.actions.closeUpdateNoteMQModalToast},"Done")))),this.props.missingQuotes.updateQTSStarModal&&(e=c.a.createElement(f.a,{closeToast:this.props.actions.closeQTSStarModalToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,this.props.missingQuotes.message),c.a.createElement(D.a,{variant:"flat",onClick:this.props.actions.closeQTSStarModalToast},"Done")))),c.a.createElement("div",{className:"mq-broker-page"},c.a.createElement(v.a,{className:"sub-header"},c.a.createElement("div",{className:"mq-broker-subheader-broker"},c.a.createElement(E.a,{className:"back-arrow",to:"/missingQuotesBroker"},c.a.createElement("img",{src:"/images/icons/arrow-left.png",alt:"arrow-left"})),c.a.createElement("p",{className:"mq-broker-name"},this.props.match.params.broker_name),c.a.createElement("div",{className:"mq-broker-toggle-broker"},c.a.createElement("p",{className:this.state.toggle?"":"active"},"Deal"),c.a.createElement("div",{className:"toggle"},c.a.createElement("input",{type:"checkbox",id:"toggle",checked:this.state.toggle,className:"cbx hidden",onChange:this.toggleToggle.bind(this)}),c.a.createElement("label",{htmlFor:"toggle",className:"lbl"})),c.a.createElement("p",{className:this.state.toggle?"active":""},"Bank")))),this.props.missingQuotes.loading?c.a.createElement(k.a,{className:"loading-modal",isOpen:this.props.missingQuotes.loading,ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!1},c.a.createElement("div",{className:this.props.missingQuotes.loading?"centered-spinner":"hidden"},c.a.createElement("img",{src:"/images/icons/spin.svg",className:"loading-spinner",alt:"loading spinner"}))):c.a.createElement(S.a,{toggle:this.state.toggle,noQuotes:this.props.missingQuotes.noQuotes,noSearchQuotes:this.props.missingQuotes.noSearchQuotes,isSearchDeal:this.props.missingQuotes.isSearchDeal,quotes:this.props.missingQuotes.missingQuotes,authentication:JSON.parse(localStorage.getItem("data")),isSearchActive:this.state.isSearchActive,passDeal:this.props.actions.passDeal,snoozeDeal:this.props.actions.snoozeDeal,irrelevantDeal:this.props.actions.irrelevantDeal,submitNoteModal:this.props.actions.updateNote,submitDealNoteModal:this.props.actions.updateDealNote,noAdminViewData:this.props.missingQuotes.noAdminViewData,localAdminBankId:this.props.missingQuotes.bank_id,loadingAdminData:this.props.missingQuotes.loadingAdminData,getAdminViewData:this.props.actions.getAdminViewData,removeAdminViewData:this.props.actions.removeAdminViewData,getContactFullInfo:this.props.actions.getFullContactInfo,updateDealQTSStar:this.props.actions.updateDealQTSStar,updateBankQTSStar:this.props.actions.updateBankQTSStar,setPageAndScrollPos:this.props.compsActions.setPageAndScrollPos,contact:this.props.missingQuotes.contact,loadingContact:this.props.missingQuotes.loadingContact,noContact:this.props.missingQuotes.noContact,openBankDD:this.openBankDD.bind(this),openDealDD:this.openDealDD.bind(this)}),e)}}]),t}(c.a.Component);s.default=Object(r.b)((function(e){return{missingQuotes:e.missingQuotesBroker,mq:e.missingQuotes,title:e.navTitle,comps:e.comps}}),(function(e){return{actions:Object(p.b)(m,e),missingQuotesActions:Object(p.b)(h,e),navActions:Object(p.b)(g,e),compsActions:Object(p.b)(u,e)}}))(A)}}]);
//# sourceMappingURL=80.a7621a73.chunk.js.map