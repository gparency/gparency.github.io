(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[48],{840:function(e,t,a){var n=a(74);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){function t(){return n.classCallCheck(this,t),n.possibleConstructorReturn(this,n.getPrototypeOf(t).apply(this,arguments))}return n.inherits(t,e),n.createClass(t,[{key:"render",value:function(){return null}}]),t}(n.interopRequireDefault(a(0)).default.Component);n.defineProperty(l,"defaultProps",{value:null,label:"",onActive:null});var o=l;t.default=o,e.exports=t.default},921:function(e,t,a){(function(n){var l=a(74);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l.interopRequireDefault(a(0)),s=l.interopRequireDefault(a(840)),i=l.interopRequireWildcard(a(129)),r=function(e){function t(e){var a,o;return l.classCallCheck(this,t),"number"===typeof e.initialSelectedIndex?(o=e.initialSelectedIndex,console&&n&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"https://api.loantracker.net/",REACT_APP_SECRET_ID:"8apZIqGhDskkNsk4UFBBAe4mZyH0JH7M4itV3yCi",REACT_APP_API_KEY:"u54J4hZkfMU8nNvpwaBwdAoh2VJ0yt",REACT_APP_MAIN_SITE:"http://gparency.com",REACT_APP_PORTAL_URL:"https://toolkit.gparency.com",REACT_APP_PERSIST_KEY:"reduxPersist",REACT_APP_TURNOFF_MIX_TRACKING:"false",REACT_APP_MODE:"production"})&&"production"!==n.NODE_ENV&&console.warn('MUICSS DEPRECATION WARNING: property "initialSelectedIndex" on the muicss Tabs component is deprecated in favor of "defaultSelectedIndex". It will be removed in a future release.')):o=e.defaultSelectedIndex,(a=l.possibleConstructorReturn(this,l.getPrototypeOf(t).call(this,e))).state={currentSelectedIndex:"number"===typeof e.selectedIndex?e.selectedIndex:o},a}return l.inherits(t,e),l.createClass(t,[{key:"onClick",value:function(e,t,a){("number"===typeof this.props.selectedIndex&&e!==this.props.selectedIndex||e!==this.state.currentSelectedIndex)&&(this.setState({currentSelectedIndex:e}),t.props.onActive&&t.props.onActive(t),this.props.onChange&&this.props.onChange(e,t.props.value,t,a))}},{key:"render",value:function(){var e,t,a,n,r=this.props,c=r.children,m=(r.defaultSelectedIndex,r.initialSelectedIndex,r.justified),d=r.selectedIndex,u=l.objectWithoutProperties(r,["children","defaultSelectedIndex","initialSelectedIndex","justified","selectedIndex"]),p=o.default.Children.toArray(c),h=[],f=[],E=p.length,v=("number"===typeof d?d:this.state.currentSelectedIndex)%E;for(n=0;n<E;n++)(t=p[n]).type!==s.default&&i.raiseError("Expecting MUITab React Element"),e=n===v,h.push(o.default.createElement("li",{key:n,className:e?"mui--is-active":""},o.default.createElement("a",{onClick:this.onClick.bind(this,n,t)},t.props.label))),a="mui-tabs__pane ",e&&(a+="mui--is-active"),f.push(o.default.createElement("div",{key:n,className:a},t.props.children));return a="mui-tabs__bar",m&&(a+=" mui-tabs__bar--justified"),o.default.createElement("div",u,o.default.createElement("ul",{className:a},h),f)}}]),t}(o.default.Component);l.defineProperty(r,"defaultProps",{className:"",defaultSelectedIndex:0,initialSelectedIndex:null,justified:!1,onChange:null,selectedIndex:null});var c=r;t.default=c,e.exports=t.default}).call(this,a(212))},968:function(e,t,a){"use strict";a.r(t);var n=a(9),l=a(8),o=a(17),s=a(12),i=a(11),r=a(0),c=a.n(r),m=a(6),d=a(23),u=a(45),p=a.n(u),h=a(3),f=a(10),E=a.n(f),v=a(19),b=a(72),g=a.n(b),C=a(26),y=a.n(C),O=a(87),N=a.n(O),_=a(257),x=a.n(_),k=a(2),M=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state={commentModalOpen:!1,comment:""},l.openCommentModal=l.openCommentModal.bind(Object(o.a)(l)),l.closeCommentModal=l.closeCommentModal.bind(Object(o.a)(l)),l.handleInputChange=l.handleInputChange.bind(Object(o.a)(l)),l.handleCommentSubmit=l.handleCommentSubmit.bind(Object(o.a)(l)),l.handleConfirm=l.handleConfirm.bind(Object(o.a)(l)),l}return Object(l.a)(a,[{key:"updateRating",value:function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({modalRatingOpen:!1}),e.next=3,this.props.updateRating(this.props.deal_id,t);case 3:this.updateDealReview("updated",this.props.ip_date_reviewed,this.props.notes_reviewed);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openCommentModal",value:function(){this.setState({commentModalOpen:!0})}},{key:"closeCommentModal",value:function(){this.setState({commentModalOpen:!1})}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState({[n]:a})}},{key:"handleCommentSubmit",value:function(){var e=this.state.comment,t=this.props.deal.commissionid;if(!e)return null;this.props.commentOnCommission(t,{comment:e}),this.setState({commentModalOpen:!1})}},{key:"handleConfirm",value:function(){var e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.deal.commissionid,e.next=3,this.props.confirmCommission(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.deal,t=(e=void 0===e?{}:e).deal_id,a=e.broker_commission,n=(e.tip_percent,e.tip_amount,e.deal_name),l=(e.first_name,e.last_name,e.contact),o=e.loan_amount,s=e.bank_fee,i=e.fee_amount,r=e.third_party_fee_notes,m=e.confirmation_status,d=e.broker_tips,u=void 0===d?[]:d,p=e.additional_tips,h=void 0===p?[]:p,f=e.face_of_deal,E=1===Number(f),v=this.state,b=v.commentModalOpen,C=v.comment;JSON.parse(localStorage.getItem("data")).member_id;return c.a.createElement("div",{className:"pw-deal",key:t},c.a.createElement("div",{className:"panel mui-panel"},c.a.createElement(y.a,{className:"panel-heading panel-body"},c.a.createElement(N.a,{md:"3",sm:"3",xs:"3"},c.a.createElement("div",{className:"deal-name"},c.a.createElement("p",{className:"panel-info-value property-title"},c.a.createElement("b",{style:{marginRight:15}},c.a.createElement("span",null,n)),c.a.createElement("span",{className:"small-title deal-info-title"},"ID ",t)))),c.a.createElement(N.a,{md:"3",sm:"3",xs:"3",style:{textAlign:"right"}},c.a.createElement("span",{className:m?"status-tag yellow-background":"status-tag red-background"},m?"pending":"unconfirmed"))),c.a.createElement(y.a,{className:"panel-body border-bottom"},c.a.createElement(N.a,{md:"2",sm:"4",xs:"6"},c.a.createElement("div",null,c.a.createElement("p",{className:"small-title deal-info-title"},"Client"),c.a.createElement("p",null,l))),c.a.createElement(N.a,{md:"2",sm:"4",xs:"6"},c.a.createElement("div",null,c.a.createElement("p",{className:"small-title deal-info-title"},"Loan Amount"),c.a.createElement("p",null,Object(k.m)(o)))),!E&&a>0&&c.a.createElement(N.a,{md:"2",sm:"4",xs:"6"},c.a.createElement("div",null,c.a.createElement("p",{className:"small-title deal-info-title"},"Fee"),c.a.createElement("p",null,Object(k.m)(i)))),!E&&parseFloat(s)>0&&c.a.createElement(N.a,{md:"2",sm:"4",xs:"6"},c.a.createElement("div",null,c.a.createElement("p",{className:"small-title deal-info-title"},"Bank Fee"),c.a.createElement("p",null,Object(k.m)(s)))),a>0&&c.a.createElement(N.a,{md:"2",sm:"4",xs:"6"},c.a.createElement("div",null,c.a.createElement("p",{className:"small-title deal-info-title"},"My Portion"),c.a.createElement("p",null,"".concat(a,"%")))),!E&&r&&c.a.createElement(N.a,{md:"2",sm:"4",xs:"6"},c.a.createElement("p",{className:"small-title deal-info-title"},"3rd Party Notes"),c.a.createElement("p",null,r))),!E&&c.a.createElement(y.a,{className:"panel-body border-bottom"},c.a.createElement("p",{className:"uc-panel-info",style:{textDecoration:"underline"}},"FOR TIP PUPROSES ONLY"),c.a.createElement(y.a,null,c.a.createElement("p",{className:"small-title deal-info-title"},"Senior Underwriter"),c.a.createElement("p",null,u.find((function(e){return 1===e.face_of_deal}))?u.find((function(e){return 1===e.face_of_deal})).full_name:"No Senior Underwriter"))),h.length>0&&c.a.createElement(y.a,{className:"panel-body border-bottom"},c.a.createElement("p",{className:"uc-panel-info",style:{textDecoration:"underline"}},"ADDITIONAL TIP INFO"),h.map((function(e){var t=e.amount,a=e.member_id,n=e.percent_of_gross,l=e.hitting,o=void 0===l?[]:l,s=e.broker.full_name;e.additional_tips_broker_percent;return c.a.createElement(y.a,{key:a,className:"border-bottom"},c.a.createElement(N.a,{md:"3",sm:"3",xs:"12"},c.a.createElement("div",null,c.a.createElement("p",{className:"small-title deal-info-title"},"Recipient"),c.a.createElement("p",null,s))),t>0&&c.a.createElement(N.a,{md:"3",sm:"3",xs:"12"},c.a.createElement("div",null,c.a.createElement("p",{className:"small-title deal-info-title"},"Total Amount (Of Gross Fee)"),c.a.createElement("p",null,Object(k.m)(t)," (","".concat(n,"%"),")"))),c.a.createElement(N.a,{md:"6",sm:"6",xs:"12"},o.map((function(e,t){var a=e.member_id,n=e.amount,l=e.portion,o=e.broker.full_name,s=t%2?{background:"#f5f8fb"}:{};return c.a.createElement(N.a,{xs:"12",key:a},c.a.createElement(N.a,{xs:"6"},c.a.createElement("div",null,t<1&&c.a.createElement("p",{className:"small-title deal-info-title"},"Who's Paying"),c.a.createElement("p",{style:s},o))),c.a.createElement(N.a,{xs:"6"},c.a.createElement("div",null,t<1&&c.a.createElement("p",{className:"small-title deal-info-title"},"How Much"),c.a.createElement("p",{style:s},Object(k.m)(n)," (","".concat(l,"%"),")"))))}))))}))),c.a.createElement(y.a,{className:"panel-body border-bottom"},E&&!a?c.a.createElement("p",null,"You as the underwriter will receive the underwriter tip, as per your agreement."):E?"":c.a.createElement("p",null,"You as the broker are responsible for the tip to the underwriter, as per your agreement.")),c.a.createElement(y.a,{style:{height:40}},c.a.createElement("div",{className:"view-all unconfirmed-btn-container"},c.a.createElement("span",{className:"orange-text xs-text",onClick:this.openCommentModal,style:{fontWeight:600}},"COMMENT"),c.a.createElement("span",{className:"orange-text xs-text",style:{marginLeft:20,fontWeight:600},onClick:this.handleConfirm},"CONFIRM")))),c.a.createElement(g.a,{className:"share-calc-modal",ariaHideApp:!1,contentLabel:"Modal",isOpen:b,shouldCloseOnOverlayClick:!1},c.a.createElement("div",null,c.a.createElement(x.a,{label:"Comment",name:"comment",value:C,onChange:this.handleInputChange,rows:"3"}),c.a.createElement("div",{style:{textAlign:"right"}},c.a.createElement("span",{className:"orange-text xs-text pointer",onClick:this.closeCommentModal,style:{marginRight:15}},"Cancel"),c.a.createElement("span",{className:"orange-text xs-text pointer",onClick:this.handleCommentSubmit},"Submit")))))}}]),a}(c.a.Component),S=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state={commentModalOpen:!1,comment:""},l.openCommentModal=l.openCommentModal.bind(Object(o.a)(l)),l.closeCommentModal=l.closeCommentModal.bind(Object(o.a)(l)),l.handleInputChange=l.handleInputChange.bind(Object(o.a)(l)),l.handleCommentSubmit=l.handleCommentSubmit.bind(Object(o.a)(l)),l.handleConfirm=l.handleConfirm.bind(Object(o.a)(l)),l}return Object(l.a)(a,[{key:"updateRating",value:function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({modalRatingOpen:!1}),e.next=3,this.props.updateRating(this.props.deal_id,t);case 3:this.updateDealReview("updated",this.props.ip_date_reviewed,this.props.notes_reviewed);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openCommentModal",value:function(){this.setState({commentModalOpen:!0})}},{key:"closeCommentModal",value:function(){this.setState({commentModalOpen:!1})}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState({[n]:a})}},{key:"handleCommentSubmit",value:function(){var e=this.state.comment,t=this.props.deal.commissionid;if(!e)return null;this.props.commentOnCommission(t,{comment:e},"noMoney"),this.setState({commentModalOpen:!1})}},{key:"handleConfirm",value:function(){var e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.deal.commissionid,e.next=3,this.props.confirmCommission(t,"noMoney");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.deal,t=(e=void 0===e?{}:e).loan_amount,a=e.contact,n=e.confirmation_status,l=e.deal_name,o=e.deal_id,s=this.state,i=s.commentModalOpen,r=s.comment;return c.a.createElement("div",{className:"pw-deal",key:o},c.a.createElement("div",{className:"panel mui-panel"},c.a.createElement(y.a,{className:"panel-heading panel-body"},c.a.createElement(N.a,{md:"9",sm:"9",xs:"9"},c.a.createElement("div",{className:"deal-name"},c.a.createElement("p",{className:"panel-info-value property-title"},c.a.createElement("b",{style:{marginRight:15}},c.a.createElement("span",null,l)),c.a.createElement("span",{className:"small-title deal-info-title"},"ID ",o)))),"pending"===n&&c.a.createElement(N.a,{md:"3",sm:"3",xs:"3",style:{textAlign:"right"}},c.a.createElement("span",{className:"status-tag yellow-background"},"pending"))),c.a.createElement(y.a,{className:"panel-body border-bottom"},c.a.createElement(N.a,{md:"3",sm:"3",xs:"3"},c.a.createElement("div",null,c.a.createElement("p",{className:"small-title deal-info-title"},"Client"),c.a.createElement("p",null,a))),c.a.createElement(N.a,{md:"3",sm:"3",xs:"3"},c.a.createElement("div",null,c.a.createElement("p",{className:"small-title deal-info-title"},"Loan Amount"),c.a.createElement("p",null,Object(k.m)(t))))),c.a.createElement(y.a,{style:{height:40}},c.a.createElement("div",{className:"view-all unconfirmed-btn-container"},c.a.createElement("span",{className:"orange-text xs-text",onClick:this.openCommentModal,style:{fontWeight:600}},"COMMENT"),c.a.createElement("span",{className:"orange-text xs-text",style:{marginLeft:20,fontWeight:600},onClick:this.handleConfirm},"CONFIRM")))),c.a.createElement(g.a,{className:"share-calc-modal",ariaHideApp:!1,contentLabel:"Modal",isOpen:i,shouldCloseOnOverlayClick:!1},c.a.createElement("div",null,c.a.createElement(x.a,{label:"Comment",name:"comment",value:r,onChange:this.handleInputChange,rows:"3"}),c.a.createElement("div",{style:{textAlign:"right"}},c.a.createElement("span",{className:"orange-text xs-text pointer",onClick:this.closeCommentModal,style:{marginRight:15}},"Cancel"),c.a.createElement("span",{className:"orange-text xs-text pointer",onClick:this.handleCommentSubmit},"Submit")))))}}]),a}(c.a.Component),R=a(39),A=a.n(R),I=a(34),j=a.n(I),w=a(921),P=a.n(w),D=a(840),T=a.n(D),L=a(88),U=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).formatDate=l.formatDate.bind(Object(o.a)(l)),l.state={suggestions:[],pwDeals:[],input:"",confRequiredView:!0},l.onChange=l.onChange.bind(Object(o.a)(l)),l}return Object(l.a)(a,[{key:"formatDate",value:function(e){return A()(new Date(e)).format("l")}},{key:"onChange",value:function(e,t,a,n){this.setState({confRequiredView:"confRequired"===t})}},{key:"render",value:function(){var e="";this.props.toast.show&&(e=c.a.createElement(L.a,{closeToast:this.props.closeToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,this.props.toast.message),c.a.createElement(j.a,{variant:"flat",onClick:this.props.closeToast},this.props.toast.success?"Done":"Dismiss"))));var t=this.props,a=t.unconfirmedDeals,n=void 0===a?[]:a,l=t.unconfDealsNoMoney,o=void 0===l?[]:l,s=t.unconfDealsNoMoneyLoading,i=t.navChange,r=t.unconfirmedLoading,m=t.commentOnCommission,d=t.confirmCommission,u=t.showRedirectModal,p=t.closeRedirectModal,f=t.logout,E=this.state.confRequiredView,v=c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{className:"grey-circle"},c.a.createElement("i",{className:"material-icons"},"warning")),c.a.createElement("h2",{className:"no-results"},"No Deals"))),b=n.length||r?n.map((function(e){return c.a.createElement(M,{key:e.deal_id,navChange:i,deal:Object(h.a)({},e),commentOnCommission:m,confirmCommission:d})})):v,C=o.length||s?o.map((function(e){return c.a.createElement(S,{key:e.deal_id,navChange:i,deal:Object(h.a)({},e),commentOnCommission:m,confirmCommission:d})})):v,y=r||s;return c.a.createElement("div",{style:{padding:"50px 0"}},c.a.createElement("div",{className:"tab-container"},c.a.createElement(P.a,{onChange:this.onChange,defaultSelectedIndex:0,className:"tabs"},c.a.createElement(T.a,{value:"confRequired",label:"CONFIRMATION REQUIRED",className:"tab"}),c.a.createElement(T.a,{value:"confNotRequired",label:"NO CONFIRMATION REQUIRED",className:"tab"}))),c.a.createElement("div",null,E?c.a.createElement("p",{className:"unconfirmed-msg"},"The following deals are waiting your confirmation."):c.a.createElement("p",{className:"unconfirmed-msg"},"The following deals are scheduled to close within the next seven days. You have no money on these deals. If you feel there is an error, please comment ASAP."),E?b:C,e),c.a.createElement(g.a,{className:"loading-modal",ariaHideApp:!1,contentLabel:"Modal",isOpen:y,shouldCloseOnOverlayClick:!1},c.a.createElement("div",{className:y?"centered-spinner":"hidden"},c.a.createElement("img",{src:"/images/icons/spin.svg",className:"loading-spinner",alt:"loading spinner"}))),c.a.createElement(g.a,{className:"share-calc-modal",ariaHideApp:!1,contentLabel:"Modal",isOpen:u,shouldCloseOnOverlayClick:!1},c.a.createElement("div",null,c.a.createElement("p",{className:"redirect-modal-title"},"Sorry, can\u2019t go there now"),c.a.createElement("p",{className:"redirect-modal-msg"},"You must resolve these unconfirmed deals before leaving the page."),c.a.createElement("div",{className:"orange-text xs-text redirect-modal-action"},c.a.createElement("span",{onClick:f},"Logout"),c.a.createElement("span",{onClick:p,style:{marginLeft:20}},"OK")))))}}]),a}(c.a.Component),F=a(167),q=a(50),W=a(21),H=a(164),K=!1,V=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state={property_address:l.props.match.params.property_address?l.props.match.params.property_address:"",showRedirectModal:!1},l.navChange=l.navChange.bind(Object(o.a)(l)),l.closeRedirectModal=l.closeRedirectModal.bind(Object(o.a)(l)),l.logout=l.logout.bind(Object(o.a)(l)),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.comps.previousScrollPos&&this.props.comps.previousScrollPos.length&&window.scrollTo(0,this.props.comps.previousScrollPos[this.props.comps.previousScrollPos.length-1]),this.props.navigationTitleActions.updateNavTitle("Unconfirmed Deals"),this.props.compsActions.resetScrollPosition(),this.props.dealsActions.unconfirmedDeals(),this.props.dealsActions.unconfDealsNoMoney(),"true"===p.a.parse(this.props.location.search).redirected&&K&&this.setState({showRedirectModal:!0}),K=!0}},{key:"closeRedirectModal",value:function(){this.setState({showRedirectModal:!1})}},{key:"navChange",value:function(e){this.props.navigationTitleActions.updateNavTitle(e)}},{key:"logout",value:function(){this.props.authenticationActions.logout(localStorage.getItem("auth_token"))}},{key:"render",value:function(){var e=this.props,t=e.unconfirmedDeals,a=e.unconfirmedLoading,n=e.unconfDealsNoMoney,l=e.unconfDealsNoMoneyLoading,o=e.toast;return c.a.createElement(U,{unconfirmedLoading:a,navChange:this.navChange,closeToast:this.props.dealsActions.closeToast,toast:o,setPageAndScrollPos:this.props.compsActions.setPageAndScrollPos,unconfirmedDeals:t,unconfDealsNoMoney:n,unconfDealsNoMoneyLoading:l,commentOnCommission:this.props.dealsActions.commentOnCommission,confirmCommission:this.props.dealsActions.confirmCommission,showRedirectModal:this.state.showRedirectModal,closeRedirectModal:this.closeRedirectModal,logout:this.logout})}}]),a}(c.a.Component);t.default=Object(m.b)((function(e){var t=e.pwDeals,a=(t=void 0===t?{}:t).unconfirmedDeals,n=(a=void 0===a?{}:a).deals,l=a.loading,o=t.unconfDealsNoMoney;return{unconfirmedDeals:n,unconfirmedLoading:l,unconfDealsNoMoney:(o=void 0===o?{}:o).deals,unconfDealsNoMoneyLoading:o.loading,toast:t.toast,comps:e.comps}}),(function(e){return{dealsActions:Object(d.b)(F,e),navigationTitleActions:Object(d.b)(q,e),compsActions:Object(d.b)(H,e),authenticationActions:Object(d.b)(W,e)}}))(V)}}]);
//# sourceMappingURL=48.7ef86c7c.chunk.js.map