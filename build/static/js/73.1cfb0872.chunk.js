(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[73],{960:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"loadInProcessPipeline",(function(){return P})),t.d(n,"noViolationsFeedbackToast",(function(){return k})),t.d(n,"closeViolationsFeedbackToast",(function(){return f}));var l=t(9),o=t(8),i=t(17),s=t(12),r=t(11),c=t(0),p=t.n(c),m=t(6),u=t(23),d=t(1),v=t(7),h=t(21),E=t(2);function P(){return function(e){Object(E.i)({url:"".concat(v.a.BASE_URL,"inprocess-pipeline"),applyAuthHeader:!0,success:function(a){a.isResponse?"204"===a.status?e({type:d.NO_IN_PROCESS_PIPELINE}):e({type:d.LOAD_IN_PROCESS_PIPELINE,data:a.data.inProcessPipeline}):e(Object(h.tokenExpired)())}})}}function k(){return{type:d.NO_VIOLATIONS_FEEDBACK_TOAST}}function f(){return{type:d.CLOSE_VIOLATIONS_FEEDBACK_TOAST}}var b=t(26),y=t.n(b),_=t(87),N=t.n(_),C=t(210),g=t.n(C),O=function(e){return p.a.createElement("div",{className:"pipeline"},p.a.createElement("div",{className:"panel mui-panel",onClick:e.navChange.bind(null,e.violations,e.name)},p.a.createElement(y.a,{className:"panel-heading",onClick:e.clickFunction.bind(void 0,e.dealId,e.violations,e.otherProperty,"violations")},p.a.createElement(N.a,{md:"12"},p.a.createElement("p",{className:"panel-info-value property-title"},p.a.createElement("b",null,e.name)))),p.a.createElement(y.a,{onClick:e.clickFunction.bind(void 0,e.dealId,e.violations,e.otherProperty,"violations")},p.a.createElement(N.a,{md:"2"},p.a.createElement("p",{className:"small-title deal-info-title"},"Address"),p.a.createElement("p",{className:"panel-info-value"},e.address),p.a.createElement("p",{className:"panel-info-value"},e.zip),p.a.createElement("p",{className:"panel-info-value"},p.a.createElement("i",{className:"orange-text orange-text-hover pointer",onClick:e.clickFunction.bind(void 0,e.dealId,e.violations,e.otherProperty,"property-details")},0===e.otherProperty?null:1===e.otherProperty?"1 other property":e.otherProperty+" other properties"))),p.a.createElement("div",null,e.info)),p.a.createElement(y.a,{onClick:e.clickFunction.bind(void 0,e.dealId,e.violations,e.otherProperty,"violations")},p.a.createElement(N.a,{md:"12"},p.a.createElement("h3",{className:"quote-section orange-text"},"Loan details"),e.loan)),p.a.createElement(g.a,{style:{marginTop:"20px"}}),p.a.createElement(y.a,null,p.a.createElement(N.a,{md:"12"},p.a.createElement(y.a,{className:"comps-row"},p.a.createElement("div",{onClick:e.compsClick.bind(null,e.inNYC,e.address,e.zip,e.property_type_id)},p.a.createElement("div",null,p.a.createElement("div",{className:null!==e.violations?"border-right":""},p.a.createElement("p",{className:"violation-value comps"},Object(E.q)(e.comps),p.a.createElement("span",null,"Comps"))))),p.a.createElement("div",{className:null!==e.violations?"comps-row-violations":"hidden",onClick:e.navChange.bind(null,e.violations,e.name)},p.a.createElement("div",{className:"comps-row-violations",onClick:e.clickFunction.bind(void 0,e.dealId,e.violations,e.otherProperty,"violations")},p.a.createElement("div",null,p.a.createElement("p",{className:"violation-value"},e.violations,p.a.createElement("span",null,"Violations"))),p.a.createElement("div",null,p.a.createElement("p",{className:"violation-value"},e.complaints,p.a.createElement("span",null,"Complaints"))))))))))},A=function(e){return p.a.createElement("div",null,p.a.createElement(N.a,{md:"2"},p.a.createElement("p",{className:"small-title deal-info-title"},e.title),p.a.createElement("p",{className:"panel-info-value"},e.value?e.value:"N/A")))},S=function(e){return p.a.createElement("div",null,p.a.createElement(N.a,{md:"2"},p.a.createElement("p",{className:"small-title"},e.title),p.a.createElement("p",{className:"panel-info-value"},e.value?e.value:"N/A")))},I=t(104),T=t(80),j=function(e){Object(s.a)(t,e);var a=Object(r.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"getLoanDetails",value:function(e){var a=[];return a.push(p.a.createElement(S,{key:"0",title:"Banker name",value:e.banker})),a.push(p.a.createElement(S,{key:"1",title:"Loan amount",value:e.quoted_amount})),a.push(p.a.createElement(S,{key:"2",title:"Rate",value:e.rate})),a.push(p.a.createElement(S,{key:"3",title:"Term / Amortization",value:e.term+" / "+e.amortization})),a}},{key:"getPropertyInfo",value:function(e){var a=[];return a.push(p.a.createElement(A,{key:"1",title:"Expected closing date",value:e.ecl_dates})),a.push(p.a.createElement(A,{key:"2",title:"Main brokers",value:this.getBrokers(e)})),a.push(p.a.createElement(A,{key:"3",title:"Sr UW/processor",value:e.underWriterDF})),a.push(p.a.createElement(A,{key:"4",title:"Client name",value:e.primary_client})),a}},{key:"dealClick",value:function(e,a,t,n,l){l.stopPropagation(),(null!=a||t>0)&&(this.props.setPageAndScrollPos("/inProcessPipeline",window.scrollY),E.f.go("/IPPdeal-details/".concat(e,"/").concat(n,"?").concat(Object(T.a)({violations:a,additional_properties:t}))))}},{key:"compsClick",value:function(e,a,t,n){sessionStorage.setItem("comps_inNYC",e),this.props.setPageAndScrollPos("/inProcessPipeline",window.scrollY),this.props.submitCompsSearch("".concat(a," ").concat(t),n)}},{key:"getBrokers",value:function(e){if(null===e.face_of_deal&&null===e.broker_of_record)return"N/A";var a="";return e.broker_of_record&&(a+=e.broker_of_record,e.face_of_deal&&(a+=", ")),e.face_of_deal&&(a+=e.face_of_deal),a}},{key:"render",value:function(){var e=this,a=this.props.inProcessDeals.map((function(a){return p.a.createElement(O,{key:a.deal_id,property_type_id:a.property_type_id,dealId:a.deal_id,name:a.deal_name,address:a.property_address,zip:a.city_state_zip,otherProperty:a.CntOtherProperties,dealTitle:a.deal_name,loan:e.getLoanDetails(a),info:e.getPropertyInfo(a),clickFunction:e.dealClick.bind(e),compsClick:e.compsClick.bind(e),navChange:e.props.navChange,complaints:a.total_complaints,violations:a.total_violations,inNYC:a.inNYC,comps:a.TotalComps})}));return p.a.createElement("div",null,a,this.props.loading&&p.a.createElement(I.b,null),p.a.createElement("div",{className:this.props.noQuotes?"":"hidden"},p.a.createElement("div",null,p.a.createElement("div",{className:"grey-circle"},p.a.createElement("i",{className:"material-icons"},"warning")),p.a.createElement("h2",{className:"no-results"},"No Deals In Process"))))}}]),t}(p.a.Component),F=t(50),w=t(164),D=t(88),L=t(34),V=t.n(L),x=function(e){Object(s.a)(t,e);var a=Object(r.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).navChange=n.navChange.bind(Object(i.a)(n)),n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.loadInProcessPipeline(),this.props.navActions.updateNavTitle("In Process Pipeline"),this.props.comps.previousScrollPos&&this.props.comps.previousScrollPos.length&&(window.scrollTo(0,this.props.comps.previousScrollPos[this.props.comps.previousScrollPos.length-1]),this.props.compsActions.resetScrollPosition())}},{key:"navChange",value:function(e,a){e>=1?this.props.navActions.updateNavTitle(a):this.props.actions.noViolationsFeedbackToast()}},{key:"closeViolationsFeedbackToast",value:function(){this.props.actions.closeViolationsFeedbackToast()}},{key:"render",value:function(){var e=null;return this.props.inProcessPipeline.toastShowing&&(e=p.a.createElement(D.a,{closeToast:this.closeViolationsFeedbackToast.bind(this),delay:6e3},p.a.createElement("div",{className:"success-message"},p.a.createElement("p",null,"No violation data available for this deal"),p.a.createElement(V.a,{variant:"flat",onClick:this.closeViolationsFeedbackToast.bind(this)},"Done")))),p.a.createElement("div",null,e,p.a.createElement(j,{inProcessDeals:this.props.inProcessPipeline.inProcessDeals,loading:this.props.inProcessPipeline.loading,noQuotes:this.props.inProcessPipeline.noQuotes,navChange:this.navChange,setPageAndScrollPos:this.props.compsActions.setPageAndScrollPos,submitCompsSearch:this.props.compsActions.submitCompsSearch}))}}]),t}(p.a.Component);a.default=Object(m.b)((function(e){return{inProcessPipeline:e.inProcessPipeline,title:e.navTitle,comps:e.comps}}),(function(e){return{actions:Object(u.b)(n,e),navActions:Object(u.b)(F,e),compsActions:Object(u.b)(w,e)}}))(x)}}]);
//# sourceMappingURL=73.1cfb0872.chunk.js.map