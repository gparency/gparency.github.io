(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[47],{799:function(e,t,a){"use strict";var s=a(0),n=a.n(s),i=a(87),o=a.n(i);t.a=function(e){return n.a.createElement(o.a,{md:"2"},n.a.createElement("p",{className:"small-title panel-info-title"},e.title),n.a.createElement("p",{className:"panel-info-value"},e.value?e.value:"N/A"))}},817:function(e,t,a){"use strict";a.d(t,"a",(function(){return Q}));var s=a(9),n=a(8),i=a(12),o=a(11),l=a(0),r=a.n(l),c=a(26),p=a.n(c),m=a(87),u=a.n(m),h=a(210),d=a.n(h),v=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"handleClick",value:function(){this.props.clickFunction(this.props.id)}},{key:"render",value:function(){return r.a.createElement("li",{className:this.props.active?"tab tab-active":"tab",onClick:this.handleClick.bind(this)},this.props.title)}}]),a}(r.a.Component),g=a(798),E=a.n(g),b=a(10),f=a.n(b),k=a(19),C=a(17),y=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(C.a)(n)),n}return Object(n.a)(a,[{key:"handleClick",value:function(){var e=Object(k.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getGoogleDoc(this.props.id);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{className:"documents"},r.a.createElement(u.a,{md:"9",className:"document-name"},r.a.createElement("i",{className:"material-icons"},"description"),r.a.createElement("p",{onClick:this.handleClick},this.props.title)),r.a.createElement(u.a,{md:"3",className:"document-download"},r.a.createElement("div",{href:"#",onClick:this.handleClick},r.a.createElement("div",{className:"download-tooltip"},r.a.createElement("i",{className:"material-icons doc-download"},"file_download"),r.a.createElement("span",{className:"download-tooltiptext"},"Download"))))))}}]),a}(r.a.Component),N=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(C.a)(n)),n}return Object(n.a)(a,[{key:"handleClick",value:function(){this.props.getGoogleDoc(this.props.id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{className:"documents"},r.a.createElement(u.a,{md:"7",className:"document-name"},r.a.createElement("i",{className:"material-icons"},"description"),r.a.createElement("a",{href:this.props.gDriveUrl,target:"_blank",rel:"noopener noreferrer"},this.props.title)),r.a.createElement(u.a,{md:"4",className:"document-share"},r.a.createElement("p",null,this.props.shared)),r.a.createElement(u.a,{md:"1",className:"document-download"},r.a.createElement("p",{href:"#",onClick:this.handleClick},r.a.createElement("i",{className:"material-icons"},"file_download")))))}}]),a}(r.a.Component),S=a(2),O=a(72),_=a.n(O),w=a(38),j=a.n(w),D=a(257),P=a.n(D),q=a(34),A=a.n(q),Q=function(e){Object(i.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={tabSelected:1,modalOpen:!1,note:""},n}return Object(n.a)(a,[{key:"handleTabClick",value:function(e){this.setState({tabSelected:e})}},{key:"getSubmission",value:function(){var e=this.props.submission,t=E()(e);return this.props.submission?{__html:t}:{__html:""}}},{key:"getDocuments",value:function(){var e=this,t=[];return this.props.documents.length&&this.props.documents.map((function(a){return a.info.map((function(a){if(e.props.authentication.is_broker){var s=decodeURIComponent(a.gDriveUrl);t.push(r.a.createElement(N,{key:a.fileId,id:a.id,gDriveUrl:s,shared:a.isClientView,title:a.title,getGoogleDoc:e.props.getGoogleDoc}))}else t.push(r.a.createElement(y,{key:a.fileId,id:a.id,title:a.title,getGoogleDoc:e.props.getGoogleDoc}));return t})),t})),r.a.createElement(p.a,null,t)}},{key:"quoteDialog",value:function(){this.props.setPageAndScrollPos("/missingQuotes/quote",window.scrollY);var e=encodeURIComponent(window.location.pathname);S.f.go("/quote-form/1/".concat(this.props.quote_id,"/").concat(e))}},{key:"passDialog",value:function(){this.setState({modalOpen:!0})}},{key:"closeDialog",value:function(e){e.preventDefault(),this.setState({modalOpen:!1,note:""})}},{key:"submitDialog",value:function(e){e.preventDefault(),this.state.note?(this.props.passDeal(this.props.quote_id,this.state.note),this.setState({modalOpen:!1,note:""})):this.setState({noteRequired:!0})}},{key:"setNote",value:function(e){this.setState({note:e.target.value,noteRequired:!e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"missing-quotes"},r.a.createElement("div",{className:"panel mui-panel mq-panel"},r.a.createElement(p.a,{className:"panel-heading",onClick:this.props.navChange.bind(null,this.props.violations,this.props.name)},r.a.createElement(u.a,{md:"10",onClick:this.props.clickFunction.bind(this,this.props.dealId,this.props.violations,this.props.otherProperty,"violations")},r.a.createElement("p",{className:"panel-info-value property-title"},r.a.createElement("b",null,this.props.name),this.props.firstLook?r.a.createElement("span",{className:"tag primary-tag first-look-tag inline-block"},"First Look"):""))),r.a.createElement(p.a,{onClick:this.props.navChange.bind(null,this.props.violations,this.props.name)},r.a.createElement("div",{onClick:this.props.clickFunction.bind(this,this.props.dealId,this.props.violations,this.props.otherProperty,"violations")},r.a.createElement(u.a,{md:"2"},r.a.createElement("p",{className:"small-title deal-info-title"},"Address"),r.a.createElement("p",{className:"panel-info-value"},this.props.address),r.a.createElement("p",{className:"panel-info-value"},this.props.zip),r.a.createElement("p",{className:"panel-info-value"},r.a.createElement("i",{className:"orange-text orange-text-hover pointer",onClick:this.props.clickFunction.bind(this,this.props.dealId,this.props.violations,this.props.otherProperty,"property-details")},0===this.props.otherProperty?null:1===this.props.otherProperty?"1 other property":this.props.otherProperty+" other properties"))),r.a.createElement("div",null,this.props.info))),r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement("p",{className:"quotes-btn",onClick:this.quoteDialog.bind(this)},r.a.createElement("span",null,this.props.quoteText)),"Edit Quote"===this.props.quoteText?"":r.a.createElement("p",{className:"pass-btn",onClick:this.passDialog.bind(this)},r.a.createElement("span",null,"Pass")))),r.a.createElement(p.a,null,r.a.createElement(u.a,{md:"12"},r.a.createElement("ul",{className:"tabs"},r.a.createElement(v,{id:1,active:1===this.state.tabSelected,title:"WRITE UP",clickFunction:this.handleTabClick.bind(this)}),r.a.createElement(v,{id:2,active:2===this.state.tabSelected,title:"DOCUMENTS",clickFunction:this.handleTabClick.bind(this)})))),r.a.createElement(p.a,null,r.a.createElement(d.a,null)),r.a.createElement(p.a,null,r.a.createElement(u.a,{md:"12"},r.a.createElement("div",{className:1===this.state.tabSelected?"tab-content":"hidden",dangerouslySetInnerHTML:this.getSubmission()}),r.a.createElement("div",{className:2===this.state.tabSelected?"tab-content":"hidden"},2===this.state.tabSelected?this.getDocuments():""))),r.a.createElement(d.a,{style:{marginTop:"20px"}}),r.a.createElement(p.a,null,r.a.createElement(u.a,{md:"12"},r.a.createElement(p.a,{className:"comps-row"},r.a.createElement("div",{onClick:this.props.compsClick.bind(null,this.props.inNYC,this.props.address,this.props.zip,this.props.property_type_id)},r.a.createElement("div",{className:null!==this.props.violations?"border-right":""},r.a.createElement("p",{className:"violation-value comps"},Object(S.q)(this.props.comps),r.a.createElement("span",null,"Comps")))),r.a.createElement("div",{className:null!==this.props.violations?"comps-row-violations":"hidden",onClick:this.props.navChange.bind(null,this.props.violations,this.props.name)},r.a.createElement("div",{onClick:this.props.clickFunction.bind(this,this.props.dealId,this.props.violations,this.props.otherProperty,"violations")},r.a.createElement("p",{className:"violation-value"},this.props.violations,r.a.createElement("span",null,"Violations"))),r.a.createElement("div",{onClick:this.props.clickFunction.bind(this,this.props.dealId,this.props.violations,this.props.otherProperty,"violations")},r.a.createElement("p",{className:"violation-value"},this.props.complaints,r.a.createElement("span",null,"Complaints")))))))),r.a.createElement(_.a,{className:"note-modal",isOpen:this.state.modalOpen,ariaHideApp:!1,contentLabel:"Modal",onAfterOpen:function(){},onRequestClose:this.closeDialog.bind(this),shouldCloseOnOverlayClick:!0},r.a.createElement(j.a,{className:"modal-form"},r.a.createElement("p",{className:"add-note-modal"},"Reason for passing "),r.a.createElement(P.a,{rows:1,value:this.state.note?this.state.note:"",require:!0,onChange:this.setNote.bind(this),className:"add-note-textarea"}),this.state.noteRequired?r.a.createElement("span",{className:"error-block"},"Required"):"",r.a.createElement("div",{className:"add-note-buttons"},r.a.createElement(A.a,{variant:"flat",onClick:this.closeDialog.bind(this)},"CANCEL"),r.a.createElement(A.a,{variant:"flat",onClick:this.submitDialog.bind(this),type:"submit",value:"submit"},"PASS")))))}}]),a}(r.a.Component)},992:function(e,t,a){"use strict";a.r(t);var s=a(9),n=a(8),i=a(17),o=a(12),l=a(11),r=a(0),c=a.n(r),p=a(6),m=a(23),u=a(255),h=a(50),d=a(164),v=a(817),g=a(2),E=a(799),b=a(72),f=a.n(b),k=a(80),C=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"getAwaitingSheetInfo",value:function(e){var t=e.brokers.filter((function(e){return 1===e.is_underwriter})).map((function(e){return e.first_name+" "+e.last_name})).join(", "),a=e.brokers.filter((function(e){return 1===e.broker_of_record||1===e.face_of_deal})).map((function(e){return e.first_name+" "+e.last_name})).join(", "),s=[];return s.push(c.a.createElement(E.a,{key:"1",title:"Quote Date",value:e.req_date})),s.push(c.a.createElement(E.a,{key:"3",title:"Main Brokers",value:a})),s.push(c.a.createElement(E.a,{key:"4",title:"Sr UW/processor",value:t})),s.push(c.a.createElement(E.a,{key:"5",title:"Client Name",value:e.contact_name})),s}},{key:"dealClick",value:function(e,t,a,s,n){n.stopPropagation(),(null!=t||a>0)&&(this.props.setPageAndScrollPos("/missingQuotes/quote",window.scrollY),g.f.go("/MQdeal-details/".concat(e,"/").concat(s,"?").concat(Object(k.a)({violations:t,additional_properties:a,previous_page:encodeURIComponent("/missingQuotes/termSheet")}))))}},{key:"compsClick",value:function(e,t,a,s){sessionStorage.setItem("comps_inNYC",e),this.props.setPageAndScrollPos("/missingQuotes/termSheet",window.scrollY),this.props.submitCompsSearch("".concat(t," ").concat(a),s)}},{key:"render",value:function(){var e=this,t=!this.props.noQuotes&&this.props.awaitingSheet&&this.props.awaitingSheet.map((function(t){return c.a.createElement(v.a,{key:t.quote_id,dealId:t.deal_id,quote_id:t.quote_id,property_type_id:t.property_type_id,navChange:e.props.navChange,clickFunction:e.dealClick.bind(e),dealTitle:t.deal_name,name:t.deal_name,address:t.property_address,zip:t.city_state_zip,otherProperty:t.count_other_properties,info:e.getAwaitingSheetInfo(t),submission:t.write_up,complaints:t.total_complaints,violations:t.total_violations,comps:t.TotalComps,inNYC:t.in_nyc,compsClick:e.compsClick.bind(e),quoteText:"Edit Quote",documents:t.documents,getGoogleDoc:e.props.getGoogleDoc,setPageAndScrollPos:e.props.setPageAndScrollPos})}));return c.a.createElement("div",null,t,c.a.createElement(f.a,{className:"loading-modal",isOpen:this.props.loading,ariaHideApp:!1,contentLabel:"Modal",shouldCloseOnOverlayClick:!1},c.a.createElement("div",{className:this.props.loading?"centered-spinner":"hidden"},c.a.createElement("img",{src:"/images/icons/spin.svg",className:"loading-spinner",alt:"loading spinner"}))),c.a.createElement("div",{className:this.props.noQuotes?"":"hidden"},c.a.createElement("div",null,c.a.createElement("div",{className:"grey-circle"},c.a.createElement("i",{className:"material-icons"},"warning")),c.a.createElement("h2",{className:"no-results"},"No Missing Quotes"))))}}]),a}(c.a.Component),y=a(88),N=a(34),S=a.n(N),O=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).navChange=n.navChange.bind(Object(i.a)(n)),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.props.actions.loadAwaitingTermSheets(),this.props.navActions.updateNavTitle("Waiting Term Sheets"),this.props.comps.previousScrollPos&&this.props.comps.previousScrollPos.length&&(window.scrollTo(0,this.props.comps.previousScrollPos[this.props.comps.previousScrollPos.length-1]),this.props.compsActions.resetScrollPosition())}},{key:"navChange",value:function(e,t){t>=1&&this.props.navActions.updateNavTitle(e)}},{key:"render",value:function(){var e=null;return this.props.missingQuotes.toast&&this.props.missingQuotes.toast.show&&(e=c.a.createElement(y.a,{closeToast:this.props.actions.closeToast,delay:6e3},c.a.createElement("div",{className:"success-message"},c.a.createElement("p",null,this.props.missingQuotes.toast.message),c.a.createElement(S.a,{variant:"flat",onClick:this.props.actions.closeToast},this.props.missingQuotes.toast.success?"Done":"Dismiss")))),c.a.createElement("div",null,e,c.a.createElement(C,{awaitingSheetCount:this.props.missingQuotes.awaitingSheetCount,awaitingSheet:this.props.missingQuotes.awaitingSheet,loading:this.props.missingQuotes.loading,noQuotes:this.props.missingQuotes.noQuotes,navChange:this.navChange,setPageAndScrollPos:this.props.compsActions.setPageAndScrollPos,submitCompsSearch:this.props.compsActions.submitCompsSearch,getPropertyDocuments:this.props.actions.getPropertyDocuments,getGoogleDoc:this.props.actions.getGoogleDoc}))}}]),a}(c.a.Component);t.default=Object(p.b)((function(e){return{title:e.navTitle,missingQuotes:e.missingQuotes,comps:e.comps}}),(function(e){return{actions:Object(m.b)(u,e),navActions:Object(m.b)(h,e),compsActions:Object(m.b)(d,e)}}))(O)}}]);
//# sourceMappingURL=47.cf1c128b.chunk.js.map