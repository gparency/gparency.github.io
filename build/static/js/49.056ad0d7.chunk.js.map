{"version":3,"sources":["actions/fundPortfolioActions.js","components/fundPortfolio/FundPortfolio.js","components/fundPortfolio/PassModal.js","components/fundPortfolio/FundPortfolioPage.js","components/fundPortfolio/FundPortfolioContainer.js"],"names":["getFundPortfolioList","params","dispatch","a","type","types","ajax","url","config","BASE_URL","applyAuthHeader","data","success","response","nextPageUrl","next_page_url","error","handleAPIError","getFullContactInfo","contact_id","length","contact","contacts","getEquityQuoteById","quote_id","getEquityQuoteNotes","catch","err","reverse","saveEquityQuote","quoted_amount","term","ltv","ltc","minimum_payout","pref_rate","origination_fee","sponsor_acquisition_fee","sponsor_property_mgmt_fee","sponsor_asset_mgmt_fee","investor_asset_mgmt_fee","sponsor_construction_mgmt_fee","exit_fee","preferred_irr","minimum_expected_payout","waterfall_tiers","message","createNewQuoteNote","note","editQuoteNote","note_id","deleteQuoteNote","passEquityQuote","status","closeToast","FundPortfolio","props","fundPortfolio","deal","dealProperties","properties","additionalProperties","totalUnits","forEach","property","no_of_units","sqFootage","Math","max","map","square_footage","brokersFiltered","brokers","filter","b","broker_commission","Originator","totalViolations","total_violations","totalComplaints","total_complaints","className","deal_status_value","md","formatAddress","property_address","property_city","property_state","property_zip","onClick","dealClick","deal_id","primary_contact_id","openContactModal","primary_contact_first_name","primary_contact_last_name","property_type_value","formatWithCommas","parseInt","deal_status","formatDate","expected_ip_date","expected_cl_date","activity_date","item","index","key","first_name","last_name","style","marginRight","equity_type","formatPercentage","percent_of_ownership","formatCurrency","marginTop","justifyContent","alignItems","href","e","preventDefault","compsClick","in_nyc","property_type_id","formatTotalComps","find","d","total_comps","variant","margin","Navigation","go","encodeQueryData","openPassModal","PassModal","state","this","setState","target","value","ariaHideApp","isOpen","contentLabel","onAfterOpen","onRequestClose","closePassDialog","bind","shouldCloseOnOverlayClick","rows","label","onChange","noteChange","floatingLabel","submitPassDialog","React","Component","FundPortfolioPage","showContactModal","contactName","contactId","quoteId","showPassModal","toast","show","Expire","delay","deals","f","PageNavigation","currentPage","ClientModal","closeContactModal","name","loading","loadingContact","noContact","isEmpty","FundPortfolioContainer","navActions","updateNavTitle","match","nextProps","location","search","authData","JSON","parse","localStorage","getItem","page","getParameterByName","actions","is_awarded","include","sort","investor_id","inNYC","propertyAddress","city","sessionStorage","setItem","compsActions","setPageAndScrollPos","window","pathname","scrollY","submitCompsSearch","dealId","violations","additional_properties","previous_page","fundPortfolios","src","alt","connect","bindActionCreators","fundPortfolioActions","navigationTitleActions"],"mappings":"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","file":"static/js/49.056ad0d7.chunk.js","sourcesContent":["import * as types from \"./actionTypes\";\nimport config from \"../config\";\nimport { ajax } from \"../lib\";\nimport { handleAPIError } from \"../lib\";\n\nexport function getFundPortfolioList(params) {\n  return async (dispatch) => {\n    dispatch({ type: types.LOADING_FUND_PORTFOLIOS });\n    ajax({\n      url: `${config.BASE_URL}funds/quotes`,\n      applyAuthHeader: true,\n      data: { ...params },\n      success: function (response) {\n        dispatch({\n          type: types.GET_FUND_PORTFOLIO_SUCCESS,\n          data: response.data,\n          nextPageUrl: response.next_page_url,\n        });\n      },\n      error: handleAPIError(dispatch, types.GET_FUND_PORTFOLIO_FAILED),\n    });\n  };\n}\n\nexport function getFullContactInfo(contact_id) {\n  return (dispatch) => {\n    dispatch({ type: types.LOADING_FULL_CONTACT });\n    ajax({\n      url: `${config.BASE_URL}contact/${contact_id}`,\n      applyAuthHeader: true,\n      success: function (response) {\n        if (response.data && response.data.length >= 1) {\n          dispatch({\n            type: types.LOAD_FULL_CONTACT,\n            contact: response.data[0].contacts[0],\n          });\n        } else {\n          dispatch({ type: types.NO_FULL_CONTACT });\n        }\n      },\n    });\n  };\n}\n\nexport function getEquityQuoteById(quote_id) {\n  return async (dispatch) => {\n    dispatch({ type: types.LOADING_EQUITY_QUOTE });\n    await ajax({\n      url: `${config.BASE_URL}equity-quotes/${quote_id}`,\n      applyAuthHeader: true,\n      success: function (response) {\n        dispatch({\n          type: types.GET_EQUITY_QUOTE_SUCCESS,\n          data: response.data || {},\n        });\n        dispatch(getEquityQuoteNotes(quote_id));\n      },\n      error: handleAPIError(dispatch, types.GET_EQUITY_QUOTE_FAILED),\n    }).catch((err) => {});\n  };\n}\n\nexport function getEquityQuoteNotes(quote_id) {\n  return (dispatch) => {\n    ajax({\n      url: `${config.BASE_URL}equity-quotes/${quote_id}/notes`,\n      applyAuthHeader: true,\n      success: function (response) {\n        dispatch({\n          type: types.GET_QUOTE_NOTE_SUCCESS,\n          data: response.data.reverse() || [],\n        });\n      },\n      error: handleAPIError(dispatch, types.GET_QUOTE_NOTE_FAILED),\n    });\n  };\n}\n\nexport function saveEquityQuote(\n  quote_id,\n  quoted_amount,\n  term,\n  ltv,\n  ltc,\n  minimum_payout,\n  pref_rate,\n  origination_fee,\n  sponsor_acquisition_fee,\n  sponsor_property_mgmt_fee,\n  sponsor_asset_mgmt_fee,\n  investor_asset_mgmt_fee,\n  sponsor_construction_mgmt_fee,\n  exit_fee,\n  preferred_irr,\n  minimum_expected_payout,\n  waterfall_tiers\n) {\n  return (dispatch) => {\n    ajax({\n      url: `${config.BASE_URL}equity-quotes/${quote_id}`,\n      applyAuthHeader: true,\n      data: {\n        quoted_amount,\n        term,\n        ltv,\n        ltc,\n        minimum_payout,\n        pref_rate,\n        origination_fee,\n        sponsor_acquisition_fee,\n        sponsor_property_mgmt_fee,\n        sponsor_asset_mgmt_fee,\n        investor_asset_mgmt_fee,\n        sponsor_construction_mgmt_fee,\n        exit_fee,\n        preferred_irr,\n        minimum_expected_payout,\n        waterfall_tiers,\n      },\n      type: \"PUT\",\n      success: function (response) {\n        dispatch({\n          type: types.SAVE_EQUITY_QUOTE,\n          success: true,\n          message: response.message,\n        });\n      },\n      error: handleAPIError(dispatch, types.SAVE_EQUITY_QUOTE),\n    });\n  };\n}\n\nexport function createNewQuoteNote(quote_id, note) {\n  return async (dispatch) => {\n    await ajax({\n      url: `${config.BASE_URL}equity-quotes/${quote_id}/notes`,\n      applyAuthHeader: true,\n      data: { note },\n      type: \"POST\",\n      success: function (response) {\n        dispatch({\n          type: types.CREATE_QUOTE_NOTE_SUCCESS,\n          data: response.data,\n          message: response.message,\n        });\n      },\n      error: handleAPIError(dispatch, types.UPDATE_QUOTE_NOTE_FAILED),\n    });\n  };\n}\n\nexport function editQuoteNote(note_id, note) {\n  return (dispatch) => {\n    ajax({\n      url: `${config.BASE_URL}equity-quotes/notes/${note_id}`,\n      applyAuthHeader: true,\n      data: { note },\n      type: \"PUT\",\n      success: function (response) {\n        dispatch({\n          type: types.EDIT_QUOTE_NOTE_SUCCESS,\n          data: response.data,\n          message: response.message,\n        });\n      },\n      error: handleAPIError(dispatch, types.UPDATE_QUOTE_NOTE_FAILED),\n    });\n  };\n}\n\nexport function deleteQuoteNote(note_id) {\n  return async (dispatch) => {\n    await ajax({\n      url: `${config.BASE_URL}equity-quotes/notes/${note_id}`,\n      applyAuthHeader: true,\n      type: \"DELETE\",\n      success: function () {\n        dispatch({\n          type: types.DELETE_QUOTE_NOTE_SUCCESS,\n          note_id,\n          message: \"Note Deleted Successfully\",\n        });\n      },\n      error: handleAPIError(dispatch, types.UPDATE_QUOTE_NOTE_FAILED),\n    }).catch((err) => {});\n  };\n}\n\nexport function passEquityQuote(quote_id) {\n  return (dispatch) => {\n    ajax({\n      url: `${config.BASE_URL}equity-quotes/${quote_id}`,\n      applyAuthHeader: true,\n      data: { status: 2 },\n      type: \"PUT\",\n      success: function (response) {\n        dispatch({\n          type: types.SAVE_EQUITY_QUOTE,\n          success: true,\n          message: response.message,\n        });\n      },\n      error: handleAPIError(dispatch, types.SAVE_EQUITY_QUOTE),\n    });\n  };\n}\n\nexport function closeToast() {\n  return { type: types.CLOSE_FUND_PORTFOLIO_TOAST };\n}\n","import React from \"react\";\nimport Row from \"muicss/lib/react/row\";\nimport Col from \"muicss/lib/react/col\";\nimport Divider from \"muicss/lib/react/divider\";\nimport Button from \"muicss/lib/react/button\";\nimport { Navigation } from \"../../lib\";\nimport encodeQueryData from \"../common/encodeQueryData\";\nimport {\n  formatTotalComps,\n  formatAddress,\n  formatWithCommas,\n  formatDate,\n  formatPercentage,\n  formatCurrency,\n} from \"../../lib\";\n\nconst FundPortfolio = (props) => {\n  let fundPortfolio = props.fundPortfolio;\n  let deal = fundPortfolio.deal;\n  let dealProperties = (deal && deal.properties) || [];\n  let additionalProperties =\n    dealProperties.length > 1 ? dealProperties.length - 1 : 0;\n  let totalUnits = 0;\n  dealProperties.forEach((property) => {\n    totalUnits = totalUnits + (property.no_of_units || 0);\n    return totalUnits;\n  });\n  let sqFootage = dealProperties.length\n    ? Math.max(...dealProperties.map((property) => property.square_footage))\n    : null;\n  let brokersFiltered =\n    deal && deal.brokers\n      ? deal.brokers.filter(\n          (b) => b.broker_commission > 0 || b.Originator === 1\n        )\n      : [];\n\n  let totalViolations = 0;\n  dealProperties.forEach((property) => {\n    totalViolations = totalViolations + (property.total_violations || 0);\n    return totalViolations;\n  });\n\n  let totalComplaints = 0;\n  dealProperties.forEach((property) => {\n    totalComplaints = totalComplaints + (property.total_complaints || 0);\n    return totalComplaints;\n  });\n  return (\n    <div className=\"panel\">\n      <div className=\"panel-body\">\n        <Row>\n          <p className=\"non-qts\">{deal ? deal.deal_status_value : \"\"}</p>\n        </Row>\n        <Row className=\"mb-16\">\n          <Col md=\"4\">\n            <p className=\"small-title no-padding-left\">Address</p>\n            <p className=\"large-text panel-info-value\">\n              {dealProperties.length\n                ? formatAddress(\n                    dealProperties[0].property_address,\n                    null,\n                    dealProperties[0].property_city,\n                    dealProperties[0].property_state,\n                    dealProperties[0].property_zip\n                  )\n                : \"-\"}\n            </p>\n            <p className=\"panel-info-value\">\n              <i\n                className=\"orange-text orange-text-hover pointer\"\n                onClick={() =>\n                  props.dealClick(\n                    fundPortfolio.deal_id,\n                    totalViolations,\n                    additionalProperties,\n                    \"property-details\"\n                  )\n                }\n              >\n                {additionalProperties === 0\n                  ? \"\"\n                  : additionalProperties === 1\n                  ? \"1 other property\"\n                  : additionalProperties + \" other properties\"}\n              </i>\n            </p>\n          </Col>\n          <Col md=\"2\">\n            <p className=\"small-title no-padding-left\">Client Name</p>\n            {deal && deal.primary_contact_id ? (\n              <p className=\"large-text panel-info-value orange-text-hover\">\n                <i\n                  className=\"orange-hover pointer\"\n                  onClick={() =>\n                    props.openContactModal(\n                      deal.primary_contact_id,\n                      `${deal.primary_contact_first_name || \"\"} ${\n                        deal.primary_contact_last_name || \"\"\n                      }`\n                    )\n                  }\n                >\n                  {deal.primary_contact_first_name || \"\"}{\" \"}\n                  {deal.primary_contact_last_name || \"\"}\n                </i>\n              </p>\n            ) : (\n              <p className=\"large-text panel-info-value\">-</p>\n            )}\n          </Col>\n          <Col md=\"2\">\n            <p className=\"small-title no-padding-left\">Property Type</p>\n            <p className=\"large-text panel-info-value\">\n              {dealProperties.length\n                ? dealProperties[0].property_type_value\n                : \"-\"}\n            </p>\n          </Col>\n          <Col md=\"2\">\n            <p className=\"small-title no-padding-left\">Units / Square ft</p>\n            <p className=\"large-text panel-info-value\">\n              {totalUnits || \"-\"} / {formatWithCommas(sqFootage, \"-\")}\n            </p>\n          </Col>\n          {deal && parseInt(deal.deal_status, 10) === 1 ? (\n            <Col md=\"2\">\n              <p className=\"small-title no-padding-left\">Expected IP Date</p>\n              <p className=\"large-text panel-info-value\">\n                {deal ? formatDate(deal.expected_ip_date) : \"-\"}\n              </p>\n            </Col>\n          ) : deal && parseInt(deal.deal_status, 10) === 2 ? (\n            <Col md=\"2\">\n              <p className=\"small-title no-padding-left\">Expected CL Date</p>\n              <p className=\"large-text panel-info-value\">\n                {deal ? formatDate(deal.expected_cl_date) : \"-\"}\n              </p>\n            </Col>\n          ) : (\n            <Col md=\"2\">\n              <p className=\"small-title no-padding-left\">Closing Date</p>\n              <p className=\"large-text panel-info-value\">\n                {deal ? formatDate(deal.activity_date) : \"-\"}\n              </p>\n            </Col>\n          )}\n        </Row>\n        <Row className=\"mb-16\">\n          <Col md=\"4\">\n            <p className=\"small-title no-padding-left\">Brokers</p>\n            <div className=\"flex flex-wrap\">\n              {brokersFiltered.length ? (\n                brokersFiltered.map((item, index) => (\n                  <p\n                    key={index}\n                    className=\"large-text panel-info-value orange-text-hover\"\n                  >\n                    <i\n                      className=\"orange-hover pointer\"\n                      onClick={() =>\n                        props.openContactModal(\n                          item.contact_id,\n                          `${item.first_name} ${item.last_name}`\n                        )\n                      }\n                    >\n                      {item.first_name} {item.last_name}\n                    </i>\n                    <span style={{ marginRight: \"6px\" }}>\n                      {brokersFiltered.length > index + 1 ? \", \" : \"\"}\n                    </span>\n                  </p>\n                ))\n              ) : (\n                <p className=\"large-text panel-info-value\">-</p>\n              )}\n            </div>\n          </Col>\n          <Col md=\"2\">\n            <p className=\"small-title no-padding-left\">Percentage Owned</p>\n            <p className=\"large-text panel-info-value\">\n              {deal\n                ? deal.equity_type === \"Pref/Mezz\"\n                  ? \"N/A\"\n                  : formatPercentage(fundPortfolio.percent_of_ownership, \"-\")\n                : \"-\"}\n            </p>\n          </Col>\n          {deal && parseInt(deal.deal_status, 10) === 5 ? (\n            <Col md=\"2\">\n              <p className=\"small-title no-padding-left\">Invested Amount</p>\n              <p className=\"large-text panel-info-value\">\n                {formatCurrency(fundPortfolio.quoted_amount, 0, \"N/A\")}\n              </p>\n            </Col>\n          ) : (\n            <Col md=\"2\">\n              <p className=\"small-title no-padding-left\">Total Equity Amount</p>\n              <p className=\"large-text panel-info-value\">\n                {formatCurrency(fundPortfolio.quoted_amount, 0, \"N/A\")}\n              </p>\n            </Col>\n          )}\n        </Row>\n\n        {dealProperties.length > 0 ? (\n          <div>\n            <Divider style={{ marginTop: \"0\" }} />\n            <Row>\n              <Col\n                md=\"12\"\n                className=\"flex\"\n                style={{\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                }}\n              >\n                <Row className=\"comps-row\">\n                  <div>\n                    <div>\n                      <div\n                        className={\n                          totalViolations || totalComplaints\n                            ? \"border-right\"\n                            : \"no-border\"\n                        }\n                      >\n                        <a\n                          href=\"/\"\n                          onClick={(e) => {\n                            e.preventDefault();\n                            props.compsClick(\n                              dealProperties[0].in_nyc,\n                              dealProperties[0].property_address,\n                              `${dealProperties[0].property_city}, ${dealProperties[0].property_state}`,\n                              dealProperties[0].property_type_id\n                            );\n                          }}\n                        >\n                          <p className=\"violation-value comps\">\n                            <span>\n                              {formatTotalComps(\n                                dealProperties.find(\n                                  (d) => d.total_comps !== null\n                                ).total_comps\n                              )}{\" \"}\n                              Comps\n                            </span>\n                          </p>\n                        </a>\n                      </div>\n                    </div>\n                  </div>\n                  <div\n                    className={\n                      totalViolations > 0 || totalComplaints > 0\n                        ? \"comps-row-violations\"\n                        : \"hidden\"\n                    }\n                  >\n                    <div className=\"comps-row-violations\">\n                      <div>\n                        <a\n                          href=\"/\"\n                          onClick={(e) => {\n                            e.preventDefault();\n                            props.dealClick(\n                              fundPortfolio.deal_id,\n                              totalViolations,\n                              additionalProperties,\n                              \"violations\"\n                            );\n                          }}\n                        >\n                          <p className=\"violation-value\">\n                            <span>{totalViolations} Violations</span>\n                          </p>\n                        </a>\n                      </div>\n                      <div>\n                        <a\n                          href=\"/\"\n                          onClick={(e) => {\n                            e.preventDefault();\n                            props.dealClick(\n                              fundPortfolio.deal_id,\n                              totalViolations,\n                              additionalProperties,\n                              \"violations\"\n                            );\n                          }}\n                        >\n                          <p className=\"violation-value\">\n                            <span>{totalComplaints} Complaints</span>\n                          </p>\n                        </a>\n                      </div>\n                    </div>\n                  </div>\n                </Row>\n                <div className=\"add-note-buttons\">\n                  <Button\n                    variant=\"flat\"\n                    style={{ margin: \"0 0 0 24px\" }}\n                    onClick={() =>\n                      Navigation.go(\n                        `/fund-portfolio/${props.type}/${\n                          fundPortfolio.quote_id\n                        }/quote?${encodeQueryData({\n                          equity_type: deal.equity_type,\n                        })}`\n                      )\n                    }\n                  >\n                    QUOTE\n                  </Button>\n                  <Button\n                    variant=\"flat\"\n                    style={{ margin: \"0 0 0 24px\" }}\n                    onClick={() => props.openPassModal(fundPortfolio.quote_id)}\n                  >\n                    PASS\n                  </Button>\n                </div>\n              </Col>\n            </Row>\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FundPortfolio;\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport Button from \"muicss/lib/react/button\";\nimport Form from \"muicss/lib/react/form\";\nimport Textarea from \"muicss/lib/react/textarea\";\n\nclass PassModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      note: \"\",\n    };\n  }\n\n  noteChange(e) {\n    this.setState({ note: e.target.value });\n  }\n\n  render() {\n    return (\n      <Modal\n        className=\"note-modal\"\n        ariaHideApp={false}\n        isOpen={true}\n        contentLabel=\"Modal\"\n        onAfterOpen={function () {}}\n        onRequestClose={this.props.closePassDialog.bind(this)}\n        shouldCloseOnOverlayClick={true}\n      >\n        <Form className=\"modal-form\">\n          <p className=\"add-note-modal\">Reason for passing (optional)</p>\n          <Textarea\n            rows={1}\n            value={this.state.note ? this.state.note : \"\"}\n            label=\"Text\"\n            onChange={this.noteChange.bind(this)}\n            floatingLabel={true}\n            className=\"add-note-textarea\"\n          />\n          <div className=\"add-note-buttons\">\n            <Button\n              variant=\"flat\"\n              onClick={this.props.closePassDialog.bind(this)}\n            >\n              CANCEL\n            </Button>\n            <Button\n              variant=\"flat\"\n              onClick={() => this.props.submitPassDialog(this.state.note)}\n              type=\"submit\"\n              value=\"submit\"\n            >\n              PASS\n            </Button>\n          </div>\n        </Form>\n      </Modal>\n    );\n  }\n}\n\nexport default PassModal;\n","import React from \"react\";\nimport Button from \"muicss/lib/react/button\";\nimport Expire from \"../common/Expire\";\nimport PageNavigation from \"../common/PageNavigation\";\nimport FundPortfolio from \"./FundPortfolio\";\nimport ClientModal from \"../common/ClientModal\";\nimport { isEmpty } from \"../../lib\";\nimport PassModal from \"./PassModal\";\n\nclass FundPortfolioPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showContactModal: false,\n      contactName: \"\",\n      contactId: null,\n      quoteId: null,\n      showPassModal: false,\n    };\n  }\n\n  openContactModal(contactId, contactName) {\n    this.props.getFullContactInfo(contactId);\n    this.setState({\n      showContactModal: true,\n      contactName,\n      contactId,\n    });\n  }\n\n  closeContactModal() {\n    this.setState({ showContactModal: false });\n  }\n\n  openPassModal(quoteId) {\n    this.setState({ quoteId, showPassModal: true });\n  }\n\n  closePassDialog() {\n    this.setState({ quoteId: null, showPassModal: false });\n  }\n\n  submitPassDialog(note) {\n    if (note.length > 0) {\n      this.props.createNewQuoteNote(this.state.quoteId, note);\n    }\n    this.props.passEquityQuote(this.state.quoteId);\n    this.closePassDialog();\n  }\n\n  render() {\n    let toast = null;\n    if (this.props.toast && this.props.toast.show) {\n      toast = (\n        <Expire closeToast={this.props.closeToast} delay={6000}>\n          <div className=\"success-message\">\n            <p>{this.props.toast.message}</p>\n            <Button variant=\"flat\" onClick={this.props.closeToast}>\n              {this.props.toast.success ? \"Done\" : \"Dismiss\"}\n            </Button>\n          </div>\n        </Expire>\n      );\n    }\n    return (\n      <div>\n        {toast}\n        {this.props.deals.length > 0 ? (\n          <div>\n            {this.props.deals.map((f, index) => (\n              <FundPortfolio\n                key={index}\n                fundPortfolio={f}\n                compsClick={this.props.compsClick}\n                dealClick={this.props.dealClick}\n                type={this.props.type}\n                openContactModal={this.openContactModal.bind(this)}\n                openPassModal={this.openPassModal.bind(this)}\n              />\n            ))}\n            <PageNavigation\n              currentPage={this.props.currentPage}\n              nextPageUrl={this.props.nextPageUrl}\n            />\n\n            <ClientModal\n              key={this.state.contactId}\n              isOpen={this.state.showContactModal}\n              onRequestClose={this.closeContactModal.bind(this)}\n              onAfterOpen={() => {}}\n              name={this.state.contactName}\n              loading={this.props.loadingContact}\n              contact={this.props.contact}\n              noContact={isEmpty(this.props.contact)}\n            />\n\n            {this.state.showPassModal && (\n              <PassModal\n                closePassDialog={() => this.closePassDialog()}\n                submitPassDialog={() => this.submitPassDialog()}\n              />\n            )}\n          </div>\n        ) : (\n          <div>\n            <div className=\"grey-circle\">\n              <i className=\"material-icons\">warning</i>\n            </div>\n            <h2 className=\"no-results\">No Closed Deals From My Fund</h2>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default FundPortfolioPage;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport * as fundPortfolioActions from \"../../actions/fundPortfolioActions\";\nimport { bindActionCreators } from \"redux\";\nimport Modal from \"react-modal\";\nimport FundPortfolioPage from \"./FundPortfolioPage\";\nimport * as compsActions from \"../../actions/compsActions\";\nimport * as navigationTitleActions from \"../../actions/navigationTitleActions\";\nimport { Navigation } from \"../../lib\";\nimport encodeQueryData from \"../common/encodeQueryData\";\nimport getParameterByName from \"../common/getParameterByName\";\n\nclass FundPortfolioContainer extends React.Component {\n  componentDidMount() {\n    this.props.navActions.updateNavTitle(\"My Fund Portfolio\");\n    this.getFundPortfolioList(this.props.match.params.type);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (\n      this.props.location.search !== nextProps.location.search ||\n      this.props.match.params.type !== nextProps.match.params.type\n    ) {\n      this.getFundPortfolioList(nextProps.match.params.type);\n    }\n  }\n\n  getFundPortfolioList(type) {\n    let authData = JSON.parse(localStorage.getItem(\"data\"));\n    let page = getParameterByName(\"page\");\n    type === \"closed-deals\"\n      ? this.props.actions.getFundPortfolioList({\n          deal_status: 5,\n          is_awarded: 1,\n          include: [\"deal\", \"deal/brokers\", \"deal/properties\"],\n          sort: \"quoted_date\",\n          page,\n        })\n      : this.props.actions.getFundPortfolioList({\n          investor_id: authData.contact_id,\n          include: [\"deal\", \"deal/brokers\", \"deal/properties\"],\n          sort: \"deal_status\",\n          page,\n        });\n  }\n\n  compsClick(inNYC, propertyAddress, city, property_type_id) {\n    sessionStorage.setItem(\"comps_inNYC\", inNYC);\n    this.props.compsActions.setPageAndScrollPos(\n      window.location.pathname,\n      window.scrollY\n    );\n    this.props.compsActions.submitCompsSearch(\n      `${propertyAddress} ${city}`,\n      property_type_id\n    );\n  }\n\n  dealClick(dealId, violations, additional_properties, page) {\n    if (violations != null || additional_properties > 0) {\n      this.props.compsActions.setPageAndScrollPos(\n        window.location.pathname,\n        window.scrollY\n      );\n      Navigation.go(\n        `/fund-portfolio/${\n          this.props.match.params.type\n        }/${dealId}/${page}?${encodeQueryData({\n          violations,\n          additional_properties,\n          previous_page: window.location.pathname + window.location.search,\n        })}`\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.props.fundPortfolios.loading ? (\n          <FundPortfolioPage\n            deals={this.props.fundPortfolios.deals.data}\n            contact={this.props.fundPortfolios.contact}\n            loadingContact={this.props.fundPortfolios.loadingContact}\n            currentPage={getParameterByName(\"page\") || 1}\n            nextPageUrl={this.props.fundPortfolios.deals.nextPageUrl}\n            toast={this.props.fundPortfolios.toast}\n            type={this.props.match.params.type}\n            closeToast={this.props.actions.closeToast}\n            compsClick={this.compsClick.bind(this)}\n            dealClick={this.dealClick.bind(this)}\n            getFullContactInfo={this.props.actions.getFullContactInfo}\n            createNewQuoteNote={this.props.actions.createNewQuoteNote}\n            passEquityQuote={this.props.actions.passEquityQuote}\n          />\n        ) : (\n          <Modal\n            className=\"loading-modal\"\n            isOpen={true}\n            ariaHideApp={false}\n            contentLabel=\"Modal\"\n            shouldCloseOnOverlayClick={false}\n          >\n            <div className=\"centered-spinner\">\n              <img\n                src=\"/images/icons/spin.svg\"\n                className=\"loading-spinner\"\n                alt=\"loading spinner\"\n              />\n            </div>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    fundPortfolios: state.fundPortfolios,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(fundPortfolioActions, dispatch),\n    compsActions: bindActionCreators(compsActions, dispatch),\n    navActions: bindActionCreators(navigationTitleActions, dispatch),\n  };\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(FundPortfolioContainer);\n"],"sourceRoot":""}