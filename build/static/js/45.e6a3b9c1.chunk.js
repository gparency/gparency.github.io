(this["webpackJsonplt-app"]=this["webpackJsonplt-app"]||[]).push([[45],{742:function(e,t,a){"use strict";a.r(t),a.d(t,"getLendingTypeList",(function(){return p})),a.d(t,"getPropertyTypes",(function(){return u})),a.d(t,"loadBrokerDeals",(function(){return d})),a.d(t,"getFullContactInfo",(function(){return _})),a.d(t,"loadBankResults",(function(){return E})),a.d(t,"loadQTSRatesResults",(function(){return b})),a.d(t,"loadQuotes",(function(){return f})),a.d(t,"updateErrorToast",(function(){return O})),a.d(t,"closeToast",(function(){return y})),a.d(t,"getParameterListByBank",(function(){return g})),a.d(t,"loadQTSMap",(function(){return N}));var n=a(3),s=a(10),r=a.n(s),l=a(19),c=a(1),i=a(7),o=a(21),m=a(2);function p(){return function(e){Object(m.i)({url:"".concat(i.a.BASE_URL,"lending-types"),success:function(t){switch(t.status){case"200":e({type:c.LOAD_LENDING_TYPES,data:t.data});break;default:e({type:c.LOAD_LENDING_TYPES,data:[]})}}})}}function u(){return function(){var e=Object(l.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.t)(m.g.PropertyType);case 2:a=e.sent,t({type:c.LOAD_PROPERTY_TYPE_LIST,data:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function d(e,t,a,n,s,r,l){var p={};return p=n&&a?{state:a,city:n,property_types:s,date_range:l}:{latitude:e,longitude:t,state:a,property_types:s,radius:r,date_range:l},function(e){e({type:c.LOADING_DEALS}),Object(m.i)({url:"".concat(i.a.BASE_URL,"qts-broker-deals"),applyAuthHeader:!0,data:p,success:function(t){switch(t.status){case"204":e({type:c.NO_DEAL_DATA});break;case"E107":e(Object(o.tokenExpired)());break;default:e({type:c.LOAD_QTS_BROKER_DEALS,data:t.data})}}})}}function _(e){return function(t){t({type:c.LOADING_FULL_CONTACT}),Object(m.i)({url:"".concat(i.a.BASE_URL,"contact/").concat(e),applyAuthHeader:!0,success:function(e){e.data&&e.data.length>=1?t({type:c.LOAD_FULL_CONTACT,contact:e.data[0].contacts[0]}):t({type:c.NO_FULL_CONTACT})}})}}function E(e){return e.city&&(delete e.latitude,delete e.longitude),function(t){t({type:c.LOADING_QUOTES}),Object(m.i)({url:"".concat(i.a.BASE_URL,"qts-banks"),applyAuthHeader:!0,data:Object(n.a)({},e),success:function(e){e.data&&e.data.banks.length>0?t({type:c.LOAD_QTS_BANK_QUOTES,data:e.data}):t({type:c.NO_QUOTE_DATA})},error:Object(m.v)(t,{default:{type:c.LOAD_QTS_BANK_DEALS_FAILED},404:{type:c.NO_QUOTE_DATA}})})}}function b(e){return function(t){t({type:c.LOADING_QUOTES}),Object(m.i)({url:"".concat(i.a.BASE_URL,"qts-rates"),applyAuthHeader:!0,data:Object(n.a)({},e),success:function(e){console.log("response",e.data),e.data&&e.data.length>0?t({type:c.LOAD_QTS_RATES,data:e.data}):t({type:c.NO_RATE_DATA})},error:Object(m.v)(t,{default:{type:c.LOAD_QTS_RATES_FAILED},404:{type:c.NO_RATE_DATA}})})}}function f(e){return e.city&&(delete e.latitude,delete e.longitude),function(t){t({type:c.LOADING_QUOTES}),Object(m.i)({url:"".concat(i.a.BASE_URL,"qts-banks"),applyAuthHeader:!0,data:Object(n.a)({},e),success:function(e){t({type:c.LOAD_QTS_QUOTES,data:e.data?e.data.banks[0]:{}})},error:Object(m.v)(t,c.LOAD_QTS_QUOTES_FAILED)})}}function O(e){return{type:c.UPDATE_ERROR_TOAST,message:e}}function y(){return{type:c.CLOSE_ASK_QTS_TOAST}}function g(e){return function(t){t({type:c.LOADING_PARAM_LIST}),Object(m.i)({url:"".concat(i.a.BASE_URL,"get-lending"),applyAuthHeader:!0,data:{bank_id:e},success:function(e){switch(e.status){case"E404":t(Object(o.tokenExpired)());break;case"204":t({type:c.LOAD_PARAM_LIST,lendingList:[]});break;case"E413":t({type:c.LOAD_PARAM_LIST_FAILED,message:e.message});break;default:t({type:c.LOAD_PARAM_LIST,lendingList:e.data.lending_programs})}}})}}function N(e,t,a,n,s,r,l,p,u,d,_,E,b,f,O,y,g,N,v){var h={};return h=a&&n?{city:a,state:n,property_types:s,bank_name:N,range_a:p,range_b:u,range_c:d,range_d:_,date_range:l,show_inactive:E,in_nyc:v}:{latitude:e,longitude:t,property_types:s,bank_name:N,range_a:p,range_b:u,range_c:d,range_d:_,date_range:l,radius:r,show_inactive:E,in_nyc:v},Object.keys(h).forEach((function(e){return(null===h[e]||""===h[e])&&delete h[e]})),function(a){a({type:c.LOADING_QTS_MAP}),Object(m.i)({url:"".concat(i.a.BASE_URL,"qts-map"),applyAuthHeader:!0,data:h,success:function(n){switch(n.status){case"E403":case"E404":a(Object(o.tokenExpired)());break;case"204":case"E107":a({type:c.NO_QTS_MAP_DATA,center:{latitude:e,longitude:t},message:n.message});break;default:var s={PW:f?n.data.PW:[],IP:b?n.data.IP:[],Closed:O?n.data.Closed:[],Sales:y?n.data.Sales:[],Finance:g?n.data.Finance:[],Inactive:E?n.data.Inactive:[]};a({type:c.LOAD_QTS_MAP_DATA,data:s,center:{latitude:e,longitude:t}})}}})}}},800:function(e,t,a){"use strict";var n=a(9),s=a(8),r=a(12),l=a(11),c=a(0),i=a.n(c),o=a(6),m=a(23),p=a(15),u=a(742),d=a(26),_=a.n(d),E=a(87),b=a.n(E),f=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={isOpened:!1,modalOpen:!1,contact:{},bankerName:"",bankerId:""},s}return Object(s.a)(a,[{key:"render",value:function(){if(this.props.qts.quotes&&!this.props.qts.loadingQuotes)var e=i.a.createElement("p",{className:"bank-name"},this.props.qts.quotes.bank_name);return i.a.createElement(_.a,null,i.a.createElement(_.a,{className:"sub-header"},i.a.createElement(b.a,{lg:"12",md:"12",sm:"12"},i.a.createElement(p.a,{to:{pathname:"/qts-banks",search:window.location.search},className:"back-arrow"},i.a.createElement("img",{src:"/images/icons/arrow-left.png",alt:"arrow-left"})),i.a.createElement("ul",{className:"qts-nav"},i.a.createElement("li",{className:"qts-nav-list-item list-item2"},i.a.createElement(p.b,{to:{pathname:"/qts-quotes",search:window.location.search},className:"qts-nav-item",activeClassName:"header-active-link"},"Quotes Received")),i.a.createElement("li",{className:"qts-nav-list-item list-item3"},i.a.createElement(p.b,{to:{pathname:"/qts-lending-criteria",search:window.location.search},className:"qts-nav-item",activeClassName:"header-active-link"},"Lending Criteria"))))),i.a.createElement(_.a,null,i.a.createElement("div",{className:"qts-container"},e,this.props.children)))}}]),a}(i.a.Component);t.a=Object(o.b)((function(e){return{qts:e.QTS}}),(function(e){return{qtsActions:Object(m.b)(u,e)}}))(f)},971:function(e,t,a){"use strict";a.r(t);var n=a(9),s=a(8),r=a(17),l=a(12),c=a(11),i=a(0),o=a.n(i),m=a(6),p=a(23),u=a(2),d=a(742),_=a(26),E=a.n(_),b=a(72),f=a.n(b),O=a(87),y=a.n(O),g=a(210),N=a.n(g),v=function(e){return o.a.createElement("div",{className:"panel mui--z1"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("p",{className:"property-title"},e.item.property_street_number," ",e.item.property_street_name,","," ",e.item.property_city,", ",e.item.property_state," ",e.item.property_zip),e.authentication.is_broker?o.a.createElement("img",{onClick:function(){e.openStreetView(e.item.latitude,e.item.longitude,e.item.property_street_number,e.item.property_street_name,e.item.property_city,e.item.property_state,e.item.property_zip)},alt:"sv-square",src:"/images/icons/street-view-square.png",className:"street-view-square"}):""),o.a.createElement("div",{className:"panel-body"},o.a.createElement(E.a,null,o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Property Type"),o.a.createElement("p",{className:"panel-info-value"},e.item.property_type)),e.item.no_of_units>1||e.item.square_footage>1?o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},e.item.no_of_units>1?"Units":"",e.item.no_of_units>1&&e.item.square_footage>1?"/":"",e.item.square_footage>1?"Sq Ft.":""),o.a.createElement("p",{className:"panel-info-value"},e.item.no_of_units,e.item.no_of_units>1&&e.item.square_footage>1?"/":"",Object(u.r)(e.item.square_footage))):"",o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Banker"),e.item.banker_id>0?o.a.createElement("p",{className:"panel-info-value orange-hover",onClick:function(){return e.openContactModal(e.item.banker_id,e.item.banker_name)}},e.item.banker_name):o.a.createElement("p",{className:"panel-info-value"},e.item.banker_name)),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Entered By"),e.item.broker_edited>0?o.a.createElement("p",{className:"panel-info-value orange-hover",onClick:function(){e.openContactModal(e.item.broker_edited,e.item.broker_entered_name)}},e.item.broker_entered_name):o.a.createElement("p",{className:"panel-info-value"},e.item.broker_entered_name)),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Quoted Date"),o.a.createElement("p",{className:"panel-info-value"},e.item.quote_date?Object(u.n)(e.item.quote_date):" - ")),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Quoted Loan Amount"),o.a.createElement("p",{className:"panel-info-value"},e.item.quoted_amount?Object(u.m)(e.item.quoted_amount,0):" - "))),o.a.createElement(E.a,null,o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Rate"),o.a.createElement("p",{className:"panel-info-value"},e.item.rate?e.item.rate+"%":" - ")),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Term / Amortization"),o.a.createElement("p",{className:"panel-info-value"},e.item.term,e.item.term||e.item.amortization?" / ":" - ",e.item.amortization)),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"LTV"),o.a.createElement("p",{className:"panel-info-value"},e.item.ltv?e.item.ltv:" - "))),o.a.createElement(N.a,null),o.a.createElement(E.a,null,o.a.createElement("p",{className:"small-title"},"Brokers",o.a.createElement("span",{className:"brokers"},e.item.deals&&e.item.deals.deal_brokers_details.filter((function(e){return 1===e.is_originator||1===e.face_of_deal||1===e.broker_of_record})).map((function(t,a){var n=t.first_name+" "+t.last_name;return o.a.createElement("span",{key:a},a>=1?o.a.createElement("span",null," \u2022 "):"",o.a.createElement("span",{className:"orange-hover sm-padding",onClick:function(){return e.openContactModal(t.member_contact_id,n)}},n))})))))))},h=function(e){return o.a.createElement("div",{className:"panel mui--z1"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement(y.a,{md:"9"},o.a.createElement("p",{className:"property-title"},e.item.property_address,", ",e.item.property_city_state_zip)),o.a.createElement(y.a,{md:"3"},e.authentication.is_broker?o.a.createElement("img",{onClick:function(){e.openStreetView(e.item.latitude,e.item.longitude,e.item.property_address,e.item.property_city_state_zip)},src:"/images/icons/street-view-square.png",alt:"sv-square",className:"street-view-square"}):"")),o.a.createElement("div",{className:"panel-body"},o.a.createElement(E.a,null,o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Property Type"),o.a.createElement("p",{className:"panel-info-value"},e.item.property_type)),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Mortgage Date"),o.a.createElement("p",{className:"panel-info-value"},Object(u.n)(e.item.mortgage_date))),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Bank"),o.a.createElement("p",{className:"panel-info-value"},e.item.bank_name)),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Loan Amount"),o.a.createElement("p",{className:"panel-info-value"},Object(u.m)(e.item.loan_amount))),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Units / Sq.Ft"),o.a.createElement("p",{className:"panel-info-value"},Object(u.r)(e.item.units)||"-"," /"," ",Object(u.r)(e.item.sq_footage)||"-")),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Floors"),o.a.createElement("p",{className:"panel-info-value"},e.item.num_floors))),o.a.createElement(E.a,null,o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Price per Sq. Ft"),o.a.createElement("p",{className:"panel-info-value"},Object(u.m)(e.item.price_per_sq_ft))),o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Price per Unit"),o.a.createElement("p",{className:"panel-info-value"},Object(u.m)(e.item.price_per_unit))),e.item.distance?o.a.createElement(y.a,{md:"2"},o.a.createElement("p",{className:"small-title"},"Distance from the Searched Address"),o.a.createElement("p",{className:"panel-info-value"},Math.round(1e3*e.item.distance)/1e3," miles")):"")))},A=a(165),k=a(88),q=a(25),j=a(80),T=a(34),S=a.n(T),L=a(800),D=window.google,w=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={isOpened:!1,modalOpen:!1,contact:{},bankerName:"",bankerId:""},s.afterOpenModal=s.afterOpenModal.bind(Object(r.a)(s)),s.closeModal=s.closeModal.bind(Object(r.a)(s)),s.openContactModal=s.openContactModal.bind(Object(r.a)(s)),s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e={bank_id:Object(q.a)("bankId"),latitude:Object(q.a)("latitude"),longitude:Object(q.a)("longitude"),state:Object(q.a)("state"),city:Object(q.a)("city"),radius:Object(q.a)("radius"),property_types:Object(q.a)("property_types")?decodeURIComponent(Object(q.a)("property_types")).split(",").map((function(e){return parseInt(e,10)})):[],min_loan:Object(q.a)("min_loan")?parseInt(Object(q.a)("min_loan").replace(/\D/g,""),10):null,max_loan:Object(q.a)("max_loan")?parseInt(Object(q.a)("max_loan").replace(/\D/g,""),10):null,date_range:Object(q.a)("date_range")?parseInt(Object(q.a)("date_range"),10):null,bank:Object(q.a)("bank"),banker:Object(q.a)("banker"),lender_types:Object(q.a)("lending_types")?decodeURIComponent(Object(q.a)("lending_types")).split(",").map((function(e){return parseInt(e,10)})):[],note_search:Object(q.a)("note_search"),search_type:Object(q.a)("search_type"),in_nyc:Object(q.a)("in_nyc")?parseInt(Object(q.a)("in_nyc"),10):null};Object.keys(e).forEach((function(t){return(null===e[t]||""===e[t])&&delete e[t]})),this.props.qtsActions.loadQuotes(e)}},{key:"openContactModal",value:function(e,t){this.props.qtsActions.getFullContactInfo(e),this.setState({modalOpen:!0,bankerName:t,bankerId:e})}},{key:"afterOpenModal",value:function(){}},{key:"closeModal",value:function(){this.setState({modalOpen:!1,contact:{}})}},{key:"openStreetViewQuote",value:function(e,t,a,n,s,r,l){var c=this;(new D.maps.StreetViewService).getPanorama({location:{lat:parseFloat(e),lng:parseFloat(t)},radius:50},(function(i,o){"OK"===o?u.f.go("/comp-sv?".concat(Object(j.a)({latitude:e,longitude:t,address:a+" "+n+" "+s+" "+r+" "+l}))):c.props.qtsActions.updateErrorToast("No street view available for this property")}))}},{key:"openStreetViewReonomy",value:function(e,t,a,n){var s=this;(new D.maps.StreetViewService).getPanorama({location:{lat:parseFloat(e),lng:parseFloat(t)},radius:50},(function(r,l){"OK"===l?u.f.go("/comp-sv?".concat(Object(j.a)({latitude:e,longitude:t,address:a+" "+n}))):s.props.qtsActions.updateErrorToast("No street view available for this property")}))}},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("data")),a=null;this.props.qts.toast.show&&(a=o.a.createElement(k.a,{closeToast:this.props.qtsActions.closeToast,delay:6e3},o.a.createElement("div",{className:"success-message"},o.a.createElement("p",null,this.props.qts.toast.message),o.a.createElement(S.a,{variant:"flat",onClick:this.props.qtsActions.closeToast},this.props.qts.toast.success?"Done":"Dismiss"))));var n=this.props.qts.quotes.qts_quotes&&this.props.qts.quotes.qts_quotes.map((function(a,n){return o.a.createElement(v,{key:n,openContactModal:e.openContactModal,openStreetView:e.openStreetViewQuote.bind(e),authentication:t,item:a})})),s=this.props.qts.quotes.national_data_deals&&this.props.qts.quotes.national_data_deals.map((function(a,n){return o.a.createElement(h,{key:n,openContactModal:e.openContactModal,openStreetView:e.openStreetViewReonomy.bind(e),authentication:t,item:a})}));return o.a.createElement(L.a,null,this.props.qts.loadingQuotes?o.a.createElement(f.a,{className:"loading-modal",ariaHideApp:!1,shouldCloseOnOverlayClick:!1,contentLabel:"modal",isOpen:!0},o.a.createElement("div",{className:"centered-spinner"},o.a.createElement("img",{src:"/images/icons/spin.svg",className:"loading-spinner",alt:"loading spinner"}))):o.a.createElement(E.a,null,a,o.a.createElement(E.a,{className:this.props.qts.loadingQuotes?"hidden":"qts-results-page"},o.a.createElement("div",{className:"qts-results quote-results"},n&&n.length||s&&s.length?o.a.createElement("div",null,o.a.createElement("p",{className:n&&n.length>=1?"qts-quote-subheader":"hidden"},o.a.createElement("span",{className:"orange-text"},"\u2022"),"Quotes Received"),n,o.a.createElement("p",{className:s&&s.length>=1?"qts-quote-subheader":"hidden"},o.a.createElement("span",{className:"orange-text"},"\u2022"),"Public Loans"),s):o.a.createElement("div",null,o.a.createElement("div",{className:"grey-circle"},o.a.createElement("i",{className:"material-icons"},"warning")),o.a.createElement("h2",{className:"no-results"},"No Bank Quotes Found"))),o.a.createElement(A.a,{key:this.state.bankerId,isOpen:this.state.modalOpen,onRequestClose:this.closeModal,onAfterOpen:this.afterOpenModal,name:this.state.bankerName,contact:this.props.qts.contact,loading:this.props.qts.loadingContact,noContact:this.props.qts.noContact}))))}}]),a}(o.a.Component);t.default=Object(m.b)((function(e){return{qts:e.QTS}}),(function(e){return{qtsActions:Object(p.b)(d,e)}}))(w)}}]);
//# sourceMappingURL=45.e6a3b9c1.chunk.js.map